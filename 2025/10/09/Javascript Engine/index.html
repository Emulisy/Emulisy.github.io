<!DOCTYPE html><html lang="[&quot;zh-CN&quot;,&quot;en&quot;,&quot;default&quot;]" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Javascript Engine | Emulisy's blog</title><meta name="author" content="Emulisy"><meta name="copyright" content="Emulisy"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Javascript overview High-level: As a high level language, unlike C language, js arranges garbage collection and memory allocation for us. Just-in-time compiled:  Multi-paradigm: JS supports procedural">
<meta property="og:type" content="article">
<meta property="og:title" content="Javascript Engine">
<meta property="og:url" content="https://emulisy.github.io/2025/10/09/Javascript%20Engine/index.html">
<meta property="og:site_name" content="Emulisy&#39;s blog">
<meta property="og:description" content="Javascript overview High-level: As a high level language, unlike C language, js arranges garbage collection and memory allocation for us. Just-in-time compiled:  Multi-paradigm: JS supports procedural">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://emulisy.github.io/img/post-bg4.jpg">
<meta property="article:published_time" content="2025-10-09T12:02:10.000Z">
<meta property="article:modified_time" content="2025-11-11T01:37:01.642Z">
<meta property="article:author" content="Emulisy">
<meta property="article:tag" content="frontend">
<meta property="article:tag" content="前端">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="English">
<meta property="article:tag" content="编程">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://emulisy.github.io/img/post-bg4.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Javascript Engine",
  "url": "https://emulisy.github.io/2025/10/09/Javascript%20Engine/",
  "image": "https://emulisy.github.io/img/post-bg4.jpg",
  "datePublished": "2025-10-09T12:02:10.000Z",
  "dateModified": "2025-11-11T01:37:01.642Z",
  "author": [
    {
      "@type": "Person",
      "name": "Emulisy",
      "url": "https://emulisy.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://emulisy.github.io/2025/10/09/Javascript%20Engine/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Javascript Engine',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/modify.css"><link rel="stylesheet" href="/css/quote.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div class="load-page" id="loading-box"><style>* { box-sizing: border-box; margin:0; padding:0; }

.load-page {
    position: fixed;
    top:0;
    left:0;
    width: 100vw;
    height: 100vh;
    background: black;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 9999;
    opacity: 1;
}

.load-container {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    padding-bottom: 3rem;
    width: 200px;
}

.load-1 {
    display: flex;
    gap: 2rem;
    position: relative;
}

#heart-wrapper { transform: rotate(-135deg) scale(0.9) translateY(0.4rem); }

#heart {
    position: relative;
    width: 1.8rem;
    height: 1.8rem;
    background: white;
    transform-origin: center;
    animation: heartbeat 1s ease-in-out infinite;
}

#heart::before, #heart::after {
    content: "";
    position: absolute;
    width: 1.8rem;
    height: 1.8rem;
    background: white;
    border-radius: 50%;
}

#heart::before { top: 0.9rem; left: 0; }
#heart::after { top: 0; left: 0.9rem; }

@keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

#x {
    width: 3rem;
    height: 3rem;
    position: relative;
    transition: transform 0.6s ease-in-out;
}

#rect1, #rect2 {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 3.2rem;
    height: 0.8rem;
    background: white;
    transform-origin: center center;
}

#rect1 { transform: translate(-50%, -50%) rotate(45deg); border-radius:1rem; width:3.5rem; }
#rect2 { transform: translate(-50%, -50%) rotate(-45deg); }

.load-2 {
    position: absolute;
    bottom: 0;
    height: 0.7rem;
    background: white;
    animation: load2 0.3s linear forwards;
    transition: height 0.3s ease-in, width 0.4s ease-in;
    transform-origin: center right;
}

@keyframes load2 {
    0% { transform: translateX(-15rem); width:0; }
    40% { transform: translateX(-7rem); width:14rem; }
    70% { transform: translateX(-3rem); width:10rem; }
    100% { transform: translateX(0); width:6rem; }
}
.load-rect-2 { position:fixed; bottom:0; height:0; width:100vw; background:white; z-index:10000; transition: height 0.15s ease-in; }
</style><div class="load-container"><div class="load-1"><div id="heart-wrapper"><div id="heart"></div></div><div id="x"><div id="rect1"></div><div id="rect2"></div></div></div><div class="load-2"></div></div></div><div class="load-rect-2"><script>(function(){
    const startTime = Date.now();
    let i = 0;
    const $loadingBox = document.getElementById("loading-box");
    const rect1 = document.querySelector(".load-2");
    const rect2 = document.querySelector(".load-rect-2");

    rect1.addEventListener("animationend", () => {
        rect1.style.animation = "none";
        rect1.style.width = "5.5rem"
    })

    function rotateX() {
        const xbox = document.querySelector("#x");
        if(xbox){ i++; xbox.style.transform = `rotate(${i*45}deg)`; }
    }

    function loadComplete() { //animation when loading is completed
        rect1.style.width = "10rem";
        setTimeout(() => {
            rect1.style.height = "100vh";
        }, 350);
        setTimeout(() => {
            rect2.style.height = "100vh";
        }, 700);
        setTimeout(() => {
            if ($loadingBox) {
                $loadingBox.style.display = "none";
            }
            if (rect2) {
                rect2.style.top = "0";
                rect2.style.height = "0";
            }
        }, 1000)
    }

    window.addEventListener("DOMContentLoaded", ()=>{
        const timePassed = Date.now() - startTime;
        const minDisplay = 2000;  // minimum loading time
        const timeRemaining = Math.max(0, minDisplay - timePassed);
        setTimeout(loadComplete, timeRemaining);
    });

    setInterval(rotateX, 1000);

    // PJAX support
    if(!window.theme || !theme.pjax || !theme.pjax.enable){
        if(window.btf){
            btf.addGlobalFn("pjaxSend",()=>{ $loadingBox.style.display="flex"; $loadingBox.style.opacity="1"; },"preloader_init");
            btf.addGlobalFn("pjaxComplete",()=>{
                $loadingBox.style.opacity="0";
                setTimeout(()=>{ $loadingBox.style.display="none"; }, 200);
            },"preloader_end");
        }
    }
})();</script></div><div id="web_bg" style="background-image: url(/img/home-bg.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/favicon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> music</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/post-bg4.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Emulisy's blog</span></a><a class="nav-page-title" href="/"><span class="site-name">Javascript Engine</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> music</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Javascript Engine</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-10-09T12:02:10.000Z" title="发表于 2025-10-09 20:02:10">2025-10-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-11-11T01:37:01.642Z" title="更新于 2025-11-11 09:37:01">2025-11-11</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2-tech-blog/">技术博客(tech blog)</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">2.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>13分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="Javascript-overview"><a href="#Javascript-overview" class="headerlink" title="Javascript overview"></a>Javascript overview</h2><ul>
<li><strong>High-level</strong>: As a <strong>high level language</strong>, unlike C language, js arranges garbage collection and memory allocation for us.</li>
<li><strong>Just-in-time compiled</strong>: </li>
<li><strong>Multi-paradigm</strong>: JS supports procedural, object-oriented and functional programming, unlike C which does not support OOP(object-oriented programming), making JS more flexible and versatile.</li>
<li><strong>Single threaded with non-blocking event loop</strong>: enables concurrency, which is handling multiple tasks at the same time.</li>
</ul>
<hr>
<h2 id="Compiled-language-vs-Interpreted-language-vs-Javascript"><a href="#Compiled-language-vs-Interpreted-language-vs-Javascript" class="headerlink" title="Compiled language vs Interpreted language vs Javascript"></a>Compiled language vs Interpreted language vs Javascript</h2><table>
<thead>
<tr>
<th>Knowledge point</th>
<th>Compiled languages</th>
<th>Interpreted languages</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Execution process</strong></td>
<td>Compiled ahead-of-time into machine code.</td>
<td>Interpreted at runtime line by line, but still need to be compiled into machine code.</td>
</tr>
<tr>
<td><strong>Output files</strong></td>
<td>Produces an executable (.exe, .out).</td>
<td>Usually no standalone file; may produce bytecode (.pyc).</td>
</tr>
</tbody></table>
<p>JS on the other hand is not purely interpreted nor compiled:</p>
<blockquote>
<p><strong>Modern JavaScript Execution Process</strong></p>
<ol>
<li>Parsing: Source code → Abstract Syntax Tree (AST).</li>
<li>Interpretation: AST → Bytecode (executed immediately).</li>
<li>JIT Compilation: Frequently executed (“hot”) code → Machine code at runtime.</li>
<li>Optimization: Compiled machine code is cached for future use.</li>
</ol>
</blockquote>
<p><strong>Key Differences</strong></p>
<table>
<thead>
<tr>
<th></th>
<th><strong>Compiled Language</strong></th>
<th><strong>Interpreted Language</strong></th>
<th><strong>JavaScript (Modern)</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>Translation time</strong></td>
<td>Before execution</td>
<td>During execution</td>
<td>During execution (JIT)</td>
</tr>
<tr>
<td><strong>Machine code output</strong></td>
<td>Yes (permanent binary)</td>
<td>No</td>
<td>Yes (temporary, generated at runtime)</td>
</tr>
<tr>
<td><strong>Performance</strong></td>
<td>Fast</td>
<td>Slower</td>
<td>Fast after JIT optimization</td>
</tr>
<tr>
<td><strong>Recompilation needed</strong></td>
<td>Yes, if code changes</td>
<td>No</td>
<td>No, JIT dynamically adapts</td>
</tr>
<tr>
<td><strong>Flexibility &#x2F; Portability</strong></td>
<td>Low (platform-dependent)</td>
<td>High (platform-independent)</td>
<td>Very high (runs on any JS engine)</td>
</tr>
<tr>
<td><strong>Examples</strong></td>
<td>C, C++, Rust</td>
<td>Python, Ruby, PHP</td>
<td>JavaScript (V8, SpiderMonkey, etc.)</td>
</tr>
</tbody></table>
<hr>
<h2 id="JS-Engine-and-Runtime"><a href="#JS-Engine-and-Runtime" class="headerlink" title="JS Engine and Runtime"></a>JS Engine and Runtime</h2><p>JS Engine is a program that executes JS code, just like the <strong>V8</strong> in Chrome, which supports JS and Node-JS.</p>
<p>All JS engines have two parts: a call stack and a heap.</p>
<ul>
<li>Heap: where the engine stores all the objects, it is an unstructured memory pool.</li>
<li>Call Stack: contains <strong>execute contexts</strong>, and is where our code is executed.</li>
</ul>
<h3 id="JS-Runtime"><a href="#JS-Runtime" class="headerlink" title="JS Runtime"></a>JS Runtime</h3><p>If we imagine JS runtime as a box, then in the box we have three components: </p>
<ul>
<li>JS Engine</li>
<li>Web APIs: DOM, Fetch API, etc.</li>
<li>Callback queue: where callback functions are stored</li>
</ul>
<p>Together, they form what we call the Event Loop mechanism, especially between call stack in JS engine and the callback queue.</p>
<hr>
<h2 id="Execution-context"><a href="#Execution-context" class="headerlink" title="Execution context"></a>Execution context</h2><h3 id="What-is-Execution-Context"><a href="#What-is-Execution-Context" class="headerlink" title="What is Execution Context"></a>What is Execution Context</h3><p>We explained that inside the call stack in JS engine where the code is actually executed, there are execution contexts.</p>
<p>An execution context is an environment in which a piece of JavaScript code is evaluated and executed.<br>It defines how and where variables and functions are accessible, and what value this refers to.</p>
<p>There are usually two types of execution context:</p>
<ul>
<li><p><strong>Global Execution Context (GEC)</strong>:</p>
<p>  Created (only once) when the JavaScript program starts. It contains top level codes like global variables and functions (codes that are not in any function), and represents the global scope (e.g., window in browsers, global in Node.js).</p>
</li>
<li><p><strong>Function Execution Context (FEC)</strong>：<br>Created every time a function is called. Each function has its own context with new variable scope and this binding</p>
</li>
</ul>
<h3 id="What-is-inside-Execution-Context"><a href="#What-is-inside-Execution-Context" class="headerlink" title="What is inside Execution Context"></a>What is inside Execution Context</h3><ul>
<li><p>When the execution context is created, JS sets up the environment and:</p>
<ul>
<li>Creates the <strong>Variable Environment</strong></li>
<li>Creates the <strong>Lexical Environment</strong></li>
<li>Sets the target of <code>this</code></li>
</ul>
</li>
<li><p>When the execution context is in execution phase:</p>
<ul>
<li>The code is executed line by line.</li>
<li>Variables are assigned their actual values.</li>
<li>Functions are invoked and possibly create new execution contexts.</li>
</ul>
</li>
</ul>
<blockquote>
<p>Variable Environment: contains:</p>
<ul>
<li>variables declared with <code>var</code></li>
<li>function declarations<blockquote>
<p>and both of them are hoisted in the creation phase</p>
</blockquote>
</li>
</ul>
</blockquote>
<blockquote>
<p>Lexical Environment contains Environment Record + Reference to Outer Lexical Environment, that is:</p>
<ul>
<li>Reference to outer scopes (basis of <strong>scope chain</strong>)</li>
<li>variable declared with <code>const</code> or <code>let</code>, which has block scope.</li>
<li>arguments passed into the function(forms a <code>argument</code> object)</li>
</ul>
</blockquote>
<h3 id="Scope-chain"><a href="#Scope-chain" class="headerlink" title="Scope chain"></a>Scope chain</h3><p>When you try to access a variable:</p>
<ol>
<li>The JS engine first looks for it in the current lexical environment.</li>
<li>If not found, it goes to the outer environment (parent scope).</li>
<li>This continues until:<ul>
<li>The variable is found, or</li>
<li>The engine reaches the global scope (and throws an error if not found).</li>
</ul>
</li>
</ol>
<p>The basis is that the inner function stores the lexical environment of the outer function.</p>
<h3 id="Hoisting-and-TDZ-Temporary-Dead-Zone"><a href="#Hoisting-and-TDZ-Temporary-Dead-Zone" class="headerlink" title="Hoisting and TDZ(Temporary Dead Zone)"></a>Hoisting and TDZ(Temporary Dead Zone)</h3><p>In the creation phase of the execution context, all variables <code>var</code> <code>let</code> <code>const</code> are hoisted, meaning their declarations are moved to the top of their scope in memory.</p>
<table>
<thead>
<tr>
<th>Declaration Type</th>
<th>Hoisted?</th>
<th>Initialized?</th>
<th>Accessible Before Declaration?</th>
</tr>
</thead>
<tbody><tr>
<td><code>var</code></td>
<td>✅ Yes</td>
<td>✅ Initialized to <code>undefined</code></td>
<td>✅ Yes (value &#x3D; <code>undefined</code>)</td>
</tr>
<tr>
<td><code>let</code></td>
<td>✅ Yes</td>
<td>❌ Not initialized</td>
<td>❌ No (in TDZ)</td>
</tr>
<tr>
<td><code>const</code></td>
<td>✅ Yes</td>
<td>❌ Not initialized</td>
<td>❌ No (in TDZ)</td>
</tr>
<tr>
<td><code>function</code></td>
<td>✅ Yes</td>
<td>✅ Fully initialized</td>
<td>✅ Yes (can be called)</td>
</tr>
</tbody></table>
<blockquote>
<p><strong>TDZ</strong>: A region between entering the scope and the actual declaration of <code>let</code>&#x2F;<code>const</code>, where the variable cannot be accessed.</p>
<p>Its purpose is to enforce “declare before use”, which increases code safety and clarity. Hence, we usually use <code>let</code>&#x2F;<code>const</code> rather than <code>var</code> when declaring variables.</p>
</blockquote>
<hr>
<h2 id="This-Keyword"><a href="#This-Keyword" class="headerlink" title="This Keyword"></a><code>This</code> Keyword</h2><h3 id="Dynamic-this"><a href="#Dynamic-this" class="headerlink" title="Dynamic this"></a>Dynamic <code>this</code></h3><p>After learning Java, I always though <code>this</code> keyword is static and bind with the object when it is created:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">person</span>(String name)&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">20</span>; <span class="comment">//This is not the class attribute</span></span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">Person</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(emulisy);</span><br><span class="line"></span><br><span class="line">System.out.println(a.name); <span class="comment">//we get emulisy</span></span><br><span class="line">System.out.println(a.age); <span class="comment">//error</span></span><br></pre></td></tr></table></figure>
<p>The name of the Person class is set using <code>this</code> by the time we create the <code>a</code> object with <code>new</code> keyword.</p>
<p>However, that is not the case in Javascript. <code>this</code> keyword is dynamic in js:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> emulisy = &#123;</span><br><span class="line">    <span class="attr">birthYear</span>: <span class="number">2003</span>,</span><br><span class="line">    <span class="attr">name</span>: emulisy,</span><br><span class="line">    <span class="title function_">getAge</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2025</span> - <span class="variable language_">this</span>.<span class="property">birthYear</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(emulisy.<span class="title function_">getAge</span>()); <span class="comment">//this one would behave just like in java, and give 22.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sophy = &#123;</span><br><span class="line">    <span class="attr">birthYear</span>: <span class="number">2004</span>,</span><br><span class="line">    <span class="attr">name</span>: sophy,</span><br><span class="line">&#125;</span><br><span class="line">sophy.<span class="property">getAge</span> = emulisy.<span class="property">getAge</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sophy.<span class="property">getAge</span>); <span class="comment">//However, this gives the correct 21, but in java this would give 22.</span></span><br></pre></td></tr></table></figure>
<p>This is because in Javascript, <code>this</code> is dynamic and its target is defined by its usage.</p>
<h3 id="What-this-points-to"><a href="#What-this-points-to" class="headerlink" title="What this points to?"></a>What <code>this</code> points to?</h3><ul>
<li>In the Global Scope <code>this</code> points to the <code>window</code> object</li>
<li>In a regular function call, this points to <code>window</code> by default, or to <code>undefined</code> in strict mode.</li>
<li>In a function call that has an owner, <code>this</code> points to the caller object.</li>
<li>Arrow Functions are not <code>this</code> binding, therefore the <code>this</code> inherits from its outer scope.</li>
<li>When using <code>new</code> to create an object with constructor, <code>this</code> points to the newly created object.</li>
</ul>
<h3 id="bind-apply-and-call"><a href="#bind-apply-and-call" class="headerlink" title="bind apply and call"></a><code>bind</code> <code>apply</code> and <code>call</code></h3><p>There are ways to manually control <code>this</code>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="title class_">Emulisy</span>,</span><br><span class="line">    <span class="title function_">greet</span>(<span class="params">year</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Greetings <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>! Welcome to <span class="subst">$&#123;year&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">person.<span class="title function_">greet</span>(<span class="number">2025</span>); <span class="comment">//Greetings Emulisy! Welcome to 2025</span></span><br><span class="line"><span class="keyword">const</span> greetFunc = person.<span class="property">greet</span>;</span><br></pre></td></tr></table></figure>
<p>if we simply call <code>greetFunc(2025)</code>, since it is a regular function call, <code>this</code> points to the <code>undefined</code> in strict mode.</p>
<p>Assuming I have another object:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sophia = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="title class_">Sophia</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now I want to print <code>Greetings Sophia! Welcome to 2025</code></p>
<ul>
<li><code>call</code>: the basic syntax is  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">greetFunc.<span class="title function_">call</span>(sophia, <span class="number">2025</span>);</span><br></pre></td></tr></table></figure>
The first argument is what <code>this</code> points to, and the rest argument is what passed to the original function.</li>
<li><code>apply</code>: it’s almost the same as <code>call</code>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">greetFunc.<span class="title function_">apply</span>(sophia, [<span class="number">2025</span>]);</span><br></pre></td></tr></table></figure>
But we store all original arguments in an array.</li>
<li><code>bind</code>: bind works differently.  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> greetSophia = greetFunc.<span class="title function_">bind</span>(sophia, <span class="number">2025</span>);</span><br><span class="line">greetSophia;</span><br></pre></td></tr></table></figure>
Doing so we permanently bind <code>this</code> in greetSophia to sophia and the argument is always 2025. Even if I use <code>greetSophia(2026)</code>, the passed argument is still 2025.<br>However, <code>bind</code> does not change the original function, it creates a new function that has specific <code>this</code> binding and argument(optional).</li>
</ul>
<hr>
<h2 id="Functions-Behind-the-scene"><a href="#Functions-Behind-the-scene" class="headerlink" title="Functions Behind the scene"></a>Functions Behind the scene</h2><h3 id="Function-Lifecycle"><a href="#Function-Lifecycle" class="headerlink" title="Function Lifecycle"></a>Function Lifecycle</h3><ol>
<li><p>Creation: </p>
<p>When the function is created in the compile phase, it will be <strong>stored in the heap as an object</strong>, containing its lexical environment and identifier. This is when the scope chain is created, as the engine now memorizes “where” the function is located.</p>
</li>
<li><p>Invocation:</p>
<p>When we invoke a function, <strong>a new execution context will be created and pushed into the stack</strong>, while the parameters and variables in it will be assigned specific value. Then the function will be ready for execution.</p>
</li>
<li><p>Execution:</p>
<p>This is where the function actually executes line by line.</p>
</li>
<li><p>Destruction:</p>
<p>After execution, <strong>the engine pops the execution context from the call stack</strong>, and the variable environment will be destroyed. If there is no closure, the local variables will be handled by GC(garbage collection).</p>
</li>
</ol>
<blockquote>
<p><strong>Immediately Invoked Function Expression:</strong></p>
<p>Functions that are invoked and executed instantly upon creation. The syntax is:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;IIFE runs!&quot;</span>);</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="comment">//or</span></span><br><span class="line">(<span class="function">() =&gt;</span> &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;arrow IIFE&quot;</span>);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></blockquote>
<h3 id="Closure"><a href="#Closure" class="headerlink" title="Closure"></a>Closure</h3><p>A closure happens when the function’s outer environment (in heap) outlives its call stack frame.</p>
<p>When a function finished execution, its execution context will be destroyed. But its lexical environment will be passed to inner functions, and will be stored in the inner functions scope chain. Therefore, if we assign inner function to a variable, we can still access the outer variable after the outer function is gone.</p>
<h4 id="Why-do-we-need-closure"><a href="#Why-do-we-need-closure" class="headerlink" title="Why do we need closure?"></a>Why do we need closure?</h4><p>Closure is very useful in memorization, function factories and defining private variables. Here we confuse on the last one:</p>
<p>In Java, we can use the identifier <code>private</code> to make sure that the variable can only be accessed through its parent class. This enables encapsulation. But we don’t have this kind of identifiers in js.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createCounter</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> count = <span class="number">0</span>; <span class="comment">// private variable</span></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">      count++;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(count);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">reset</span>(<span class="params"></span>) &#123;</span><br><span class="line">      count = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> counter = <span class="title function_">createCounter</span>();</span><br><span class="line">counter.<span class="title function_">increment</span>(); <span class="comment">// 1</span></span><br><span class="line">counter.<span class="title function_">increment</span>(); <span class="comment">// 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(counter.<span class="property">count</span>); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
<p>By storing the returned function, we created a closure. This way we can only access the <code>count</code> using the inner function.</p>
<hr>
<h2 id="Memory-Management-and-Garbage-Collection"><a href="#Memory-Management-and-Garbage-Collection" class="headerlink" title="Memory Management and Garbage Collection"></a>Memory Management and Garbage Collection</h2><h3 id="Memory-allocation"><a href="#Memory-allocation" class="headerlink" title="Memory allocation"></a>Memory allocation</h3><p>Memory is allocated whenever you create data:</p>
<ul>
<li>For primitive types: stored in call stack</li>
<li>For objects: stored in heap</li>
<li>For object references: also stored in the stack</li>
</ul>
<blockquote>
<p><strong>Object References</strong>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="title class_">Emulisy</span>,</span><br><span class="line"><span class="title class_">Gender</span>: male</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here the <code>person</code> is an object reference that points to the actual object in heap。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> emulisy = person;</span><br></pre></td></tr></table></figure>
<p>Here we created another reference, but both <code>emulisy</code> and <code>person</code> points to the same object.</p>
</blockquote>
<h3 id="Shallow-and-deep-copy"><a href="#Shallow-and-deep-copy" class="headerlink" title="Shallow and deep copy"></a>Shallow and deep copy</h3><ul>
<li><strong>Primitive Value:</strong><br>  Primitive values are stored in the stack, and are copied by value.  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">10</span>;</span><br><span class="line">b = a;</span><br><span class="line">a = <span class="number">5</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">//5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">//10</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>Objects</strong>:<br>  Objects are stored in the heap, and we can only access them using object references. So when we copy the object references, we create a new pointer to the same object.  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123; <span class="attr">name</span>: <span class="string">&quot;Sophia&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> obj2 = obj1;</span><br><span class="line">obj2.<span class="property">name</span> = <span class="string">&quot;Emulisy&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">name</span>); <span class="comment">// &quot;Emulisy&quot; — same reference</span></span><br></pre></td></tr></table></figure>
But this is NOT a shallow copy, this is simply assigning a new reference since no object is created.</li>
</ul>
</li>
</ul>
<h4 id="Shallow-copy"><a href="#Shallow-copy" class="headerlink" title="Shallow copy"></a>Shallow copy</h4><p>A shallow copy creates a new object, but the inner objects are still shared (same reference).</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Sophia&quot;</span>,</span><br><span class="line">  <span class="attr">address</span>: &#123; <span class="attr">city</span>: <span class="string">&quot;Melbourne&quot;</span> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> copy = &#123; ...person &#125;; <span class="comment">// or Object.assign(&#123;&#125;, person)</span></span><br><span class="line">copy.<span class="property">name</span> = <span class="string">&quot;Emulisy&quot;</span>;</span><br><span class="line">copy.<span class="property">address</span>.<span class="property">city</span> = <span class="string">&quot;Sydney&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">name</span>); <span class="comment">// &quot;Sophia&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">address</span>.<span class="property">city</span>); <span class="comment">// &quot;Sydney&quot;  shared reference</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>We can see that although the <code>copy</code> is a different object, its inner object <code>address</code> is the same as the <code>person</code>.</p>
<p>So how to create a shallow copy:</p>
<ul>
<li>Use the spread operator: <code>newObj = &#123;...oldObj&#125;</code></li>
<li>Use <code>Object.assign(&#123;&#125;, oldObj)</code></li>
</ul>
<blockquote>
<p><code>Object.assign(target, ...source)</code>: put enumerable properties in the source to the target, doing so changes the target.</p>
<p>But we can also create a new object using <code>const newObj = Object.assign(&#123;&#125;, oldObj)</code></p>
<p>We can also copy multiple objects into the new object:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123; <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> obj3 = &#123; <span class="attr">c</span>: <span class="number">3</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, obj1, obj2, obj3);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result); <span class="comment">// &#123; a: 1, b: 2, c: 3 &#125;</span></span><br></pre></td></tr></table></figure></blockquote>
<h4 id="Deep-Clone"><a href="#Deep-Clone" class="headerlink" title="Deep Clone"></a>Deep Clone</h4><p>A deep copy duplicates all levels of nested objects, so nothing is shared.</p>
<p>To create a deep clone, we can:</p>
<ul>
<li>Using <code>structuredClone</code> (<em>most recommended</em>)  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Sophia&quot;</span>,</span><br><span class="line">  <span class="attr">address</span>: &#123; <span class="attr">city</span>: <span class="string">&quot;Melbourne&quot;</span> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> deepCopy = <span class="title function_">structuredClone</span>(person);</span><br><span class="line">deepCopy.<span class="property">address</span>.<span class="property">city</span> = <span class="string">&quot;Sydney&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">address</span>.<span class="property">city</span>); <span class="comment">// &quot;Melbourne&quot;</span></span><br></pre></td></tr></table></figure></li>
<li>Use Json: (<em>usually limited</em>)  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> deepCopy = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(person));</span><br></pre></td></tr></table></figure>
  This is not recommended as JSON cloning removes functions, undefined, and special types.</li>
<li>Clone manually using recursion: (<em>nobody would do that lol</em>)  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (obj === <span class="literal">null</span> || <span class="keyword">typeof</span> obj !== <span class="string">&quot;object&quot;</span>) <span class="keyword">return</span> obj;</span><br><span class="line">  <span class="keyword">const</span> clone = <span class="title class_">Array</span>.<span class="title function_">isArray</span>(obj) ? [] : &#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    clone[key] = <span class="title function_">deepClone</span>(obj[key]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> clone;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/frontend/">frontend</a><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a><a class="post-meta__tags" href="/tags/javascript/">javascript</a><a class="post-meta__tags" href="/tags/English/">English</a><a class="post-meta__tags" href="/tags/%E7%BC%96%E7%A8%8B/">编程</a></div><div class="post-share"><div class="social-share" data-image="/img/post-bg4.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/09/18/CSS%20Fundamentals%20(1)/" title="CSS Fundamentals (1)"><img class="cover" src="/img/post-bg7.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">CSS Fundamentals (1)</div></div><div class="info-2"><div class="info-item-1">CSS Fundamentals (1) - CSS Selectors and Cascading Basic SelectorsType(Element) SelectorIn html we have tags for each element, type selector selects all the elements with the specific tag: 123p &#123;    color: #00c4b6;    &#125;  Class SelectorIn html, we can add class attribute to every element, each element can have multiple classes. The class selector can select elements that have the same class attribute. 123.className &#123;    color: #0d0d0d;&#125; But sometimes we want to style...</div></div></div></a><a class="pagination-related" href="/2025/10/12/Spread%20and%20Rest%20Operator/" title="Spread and Rest Operator - ES6"><img class="cover" src="/img/post-bg1.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Spread and Rest Operator - ES6</div></div><div class="info-2"><div class="info-item-1">ES6 Spread and Rest (...)The three dots ... in JavaScript can represent two different concepts:  Spread Operator – expands data Rest Pattern &#x2F; Rest Parameters – gathers data  They look identical but behave in opposite directions depending on where they’re used.  Concept Overview   Feature Purpose Context    Spread (...) Expands an iterable into individual elements When passing or copying data   Rest (...) Collects multiple elements into one array&#x2F;object When receiving or...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/11/16/Asynchronous%20Javascript/" title="Asynchronous Javascript"><img class="cover" src="/img/home-bg.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-16</div><div class="info-item-2">Asynchronous Javascript</div></div><div class="info-2"><div class="info-item-1">Asynchronous JSJS has only one thread, so it cannot handle multiple tasks at the same time. But thanks to the non-blocking behaviour, we can carry on to the next task before the last task is finished, this is Asynchronous Javascript. HTTP&#x2F;HTTPSWhen making communication with a server, we use HTTP&#x2F;HTTPS requests. What happens when we make an HTTP&#x2F;HTTPS request:  Parse URL and check cache: to make a request we need to know the url of the server, so we need to parse the...</div></div></div></a><a class="pagination-related" href="/2025/10/12/Falsy%20and%20Truthy%20in%20JS/" title="Falsy and Truthy in JS"><img class="cover" src="/img/post-bg2.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-12</div><div class="info-item-2">Falsy and Truthy in JS</div></div><div class="info-2"><div class="info-item-1">Difference between == and ===In a word, == tries to covert the two values to the same type, and then compare its value. 1&quot;10&quot; == 10; //true  But === requires the two values to have the same value and the same type: 12&quot;10&quot; === 10; //false&quot;10&quot; === &quot;10&quot;; //true  == is not so safe to use, so we usually use === or !==.  How to determine if a value is true or falseIn JS, whenever we need to transfer a value into a boolean, the value will be determined as...</div></div></div></a><a class="pagination-related" href="/2025/09/02/Javascript%20Fundamentals/" title="Javascript Fundamentals"><img class="cover" src="/img/home-bg.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-02</div><div class="info-item-2">Javascript Fundamentals</div></div><div class="info-2"><div class="info-item-1">Primitive types string number bigInt boolean  undefined null symbol   NumbersIn JS, numbers are always 64-bit Floating Point!! Therefor precision exist to avoid overflow:  Integer precision: int are accurate within the scope (Number.MAX_SAFE_INTEGER, Number.MIN_SAFE_INTEGER) Floating-point imprecision: Because numbers are binary floats, decimals like 0.1 cannot be represented accurately. So float point arithmetic is not always precise.1console.log(0.1 + 0.2 === 0.3)//false So how to fix...</div></div></div></a><a class="pagination-related" href="/2025/11/11/OOP%20in%20Javascript/" title="Object Oriented Programming in JS"><img class="cover" src="/img/post-bg1.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-11</div><div class="info-item-2">Object Oriented Programming in JS</div></div><div class="info-2"><div class="info-item-1">PrototypeIn classic Object Oriented Programming, we have class as templates and objects are instantiated from classes. In Javascript, oop is different. In js, we have such things called prototype. We can create objects and delegate them to the linked prototype. prototype contains methods that are accessible to all objects that are linked to it, just like class methods in classes. prototype itself is an object, it usually has this structure: 1234A.prototype = &#123;  constructor: A, ...</div></div></div></a><a class="pagination-related" href="/2025/11/04/Using%20Intersection%20Observer/" title="Intersection Observer API"><img class="cover" src="/img/post-bg9.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-04</div><div class="info-item-2">Intersection Observer API</div></div><div class="info-2"><div class="info-item-1">The Intersection Observer LiteralCreating a new Intersection Observer using constructor: 1const observer = new IntersectionObserver(callback, options);  callback: The function to be called whenever the target enter&#x2F;leave the intersection area. options: An object that controls the condition of triggering the callback function.  options ObjectThe option object looks like this: 12345const option = &#123;    root: null,    rootMargin: &quot;0px&quot;,    thereshold: [0, 0.1]&#125;  root:...</div></div></div></a><a class="pagination-related" href="/2025/10/12/Spread%20and%20Rest%20Operator/" title="Spread and Rest Operator - ES6"><img class="cover" src="/img/post-bg1.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-12</div><div class="info-item-2">Spread and Rest Operator - ES6</div></div><div class="info-2"><div class="info-item-1">ES6 Spread and Rest (...)The three dots ... in JavaScript can represent two different concepts:  Spread Operator – expands data Rest Pattern &#x2F; Rest Parameters – gathers data  They look identical but behave in opposite directions depending on where they’re used.  Concept Overview   Feature Purpose Context    Spread (...) Expands an iterable into individual elements When passing or copying data   Rest (...) Collects multiple elements into one array&#x2F;object When receiving or...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/favicon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Emulisy</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Emulisy"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Emulisy" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:ianzhang2088979637@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">我的避风港——存储了我的技术博客，读书笔记还有杂谈等~</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Javascript-overview"><span class="toc-number">1.</span> <span class="toc-text">Javascript overview</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Compiled-language-vs-Interpreted-language-vs-Javascript"><span class="toc-number">2.</span> <span class="toc-text">Compiled language vs Interpreted language vs Javascript</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JS-Engine-and-Runtime"><span class="toc-number">3.</span> <span class="toc-text">JS Engine and Runtime</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JS-Runtime"><span class="toc-number">3.1.</span> <span class="toc-text">JS Runtime</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Execution-context"><span class="toc-number">4.</span> <span class="toc-text">Execution context</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#What-is-Execution-Context"><span class="toc-number">4.1.</span> <span class="toc-text">What is Execution Context</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#What-is-inside-Execution-Context"><span class="toc-number">4.2.</span> <span class="toc-text">What is inside Execution Context</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Scope-chain"><span class="toc-number">4.3.</span> <span class="toc-text">Scope chain</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hoisting-and-TDZ-Temporary-Dead-Zone"><span class="toc-number">4.4.</span> <span class="toc-text">Hoisting and TDZ(Temporary Dead Zone)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#This-Keyword"><span class="toc-number">5.</span> <span class="toc-text">This Keyword</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Dynamic-this"><span class="toc-number">5.1.</span> <span class="toc-text">Dynamic this</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#What-this-points-to"><span class="toc-number">5.2.</span> <span class="toc-text">What this points to?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bind-apply-and-call"><span class="toc-number">5.3.</span> <span class="toc-text">bind apply and call</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Functions-Behind-the-scene"><span class="toc-number">6.</span> <span class="toc-text">Functions Behind the scene</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Function-Lifecycle"><span class="toc-number">6.1.</span> <span class="toc-text">Function Lifecycle</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Closure"><span class="toc-number">6.2.</span> <span class="toc-text">Closure</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Why-do-we-need-closure"><span class="toc-number">6.2.1.</span> <span class="toc-text">Why do we need closure?</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Memory-Management-and-Garbage-Collection"><span class="toc-number">7.</span> <span class="toc-text">Memory Management and Garbage Collection</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Memory-allocation"><span class="toc-number">7.1.</span> <span class="toc-text">Memory allocation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Shallow-and-deep-copy"><span class="toc-number">7.2.</span> <span class="toc-text">Shallow and deep copy</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Shallow-copy"><span class="toc-number">7.2.1.</span> <span class="toc-text">Shallow copy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Deep-Clone"><span class="toc-number">7.2.2.</span> <span class="toc-text">Deep Clone</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2026/01/13/Ethereum%20-%20basic%20concepts/" title="Ethereum - basic concepts"><img src="/img/post-bg2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Ethereum - basic concepts"/></a><div class="content"><a class="title" href="/2026/01/13/Ethereum%20-%20basic%20concepts/" title="Ethereum - basic concepts">Ethereum - basic concepts</a><time datetime="2026-01-13T12:40:51.000Z" title="发表于 2026-01-13 20:40:51">2026-01-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/12/BlockChain%20-%20basic%20concepts/" title="Blcokchain - Basic Concepts"><img src="/img/post-bg3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Blcokchain - Basic Concepts"/></a><div class="content"><a class="title" href="/2026/01/12/BlockChain%20-%20basic%20concepts/" title="Blcokchain - Basic Concepts">Blcokchain - Basic Concepts</a><time datetime="2026-01-12T09:38:41.000Z" title="发表于 2026-01-12 17:38:41">2026-01-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/16/Asynchronous%20Javascript/" title="Asynchronous Javascript"><img src="/img/home-bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Asynchronous Javascript"/></a><div class="content"><a class="title" href="/2025/11/16/Asynchronous%20Javascript/" title="Asynchronous Javascript">Asynchronous Javascript</a><time datetime="2025-11-16T06:02:08.000Z" title="发表于 2025-11-16 14:02:08">2025-11-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/11/OOP%20in%20Javascript/" title="Object Oriented Programming in JS"><img src="/img/post-bg1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Object Oriented Programming in JS"/></a><div class="content"><a class="title" href="/2025/11/11/OOP%20in%20Javascript/" title="Object Oriented Programming in JS">Object Oriented Programming in JS</a><time datetime="2025-11-11T01:32:21.000Z" title="发表于 2025-11-11 09:32:21">2025-11-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/06/Hexo%20Butterfly%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%A0%E8%BD%BD%E9%A1%B5%E9%9D%A2/" title="在Hexo Butterfly 里添加自定义加载页面"><img src="/img/post-bg10.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在Hexo Butterfly 里添加自定义加载页面"/></a><div class="content"><a class="title" href="/2025/11/06/Hexo%20Butterfly%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%A0%E8%BD%BD%E9%A1%B5%E9%9D%A2/" title="在Hexo Butterfly 里添加自定义加载页面">在Hexo Butterfly 里添加自定义加载页面</a><time datetime="2025-11-06T13:13:46.000Z" title="发表于 2025-11-06 21:13:46">2025-11-06</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent;"><div id="footer-wrap"><div class="copyright">&copy;2025 - 2026 By Emulisy</div><div class="footer_custom_text"><p style="font-size: 20px; font-family: sans-serif;">
  我永远喜欢水上由岐~
</p> <p style="text-align: center;">
  <a target="_blank" href="https://hexo.io/">
    <img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为Hexo">
  </a>&nbsp;
  <a target="_blank" href="https://butterfly.js.org/">
    <img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用Butterfly">
  </a>
</p>
</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = {"mapping":"url","strict":0,"reactions_enabled":1,"emit_metadata":0,"input_position":"bottom","lang":"en"}

  const getGiscusTheme = theme => theme === 'dark' ? 'dark' : 'light'

  const createScriptElement = config => {
    const ele = document.createElement('script')
    Object.entries(config).forEach(([key, value]) => {
      ele.setAttribute(key, value)
    })
    return ele
  }

  const loadGiscus = (el = document, key) => {
    const mappingConfig = isShuoshuo
      ? { 'data-mapping': 'specific', 'data-term': key }
      : { 'data-mapping': (option && option['data-mapping']) || 'pathname' }

    const giscusConfig = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'Emulisy/Emulisy.github.io',
      'data-repo-id': 'R_kgDOPAbCig',
      'data-category-id': 'DIC_kwDOPAbCis4C05wb',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true,
      ...option,
      ...mappingConfig
    }

    const scriptElement = createScriptElement(giscusConfig)

    el.querySelector('#giscus-wrap').appendChild(scriptElement)

    if (isShuoshuo) {
      window.shuoshuoComment.destroyGiscus = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }
  }

  const changeGiscusTheme = theme => {
    const iframe = document.querySelector('#giscus-wrap iframe')
    if (iframe) {
      const message = {
        giscus: {
          setConfig: {
            theme: getGiscusTheme(theme)
          }
        }
      }
      iframe.contentWindow.postMessage(message, 'https://giscus.app')
    }
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if (isShuoshuo) {
    'Giscus' === 'Giscus'
      ? window.shuoshuoComment = { loadComment: loadGiscus }
      : window.loadOtherComment = loadGiscus
    return
  }

  if ('Giscus' === 'Giscus' || !false) {
    if (false) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment = loadGiscus
  }
})()</script></div><script src="/scripts/quote.js"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="true" data-text="D'où venons-nous ?,Que sommes-nous ?,Où allons-nous ?" data-fontsize="15px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for an article~" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>