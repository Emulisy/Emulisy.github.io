<!DOCTYPE html><html lang="[&quot;zh-CN&quot;,&quot;en&quot;,&quot;default&quot;]" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>浏览器滚动scrolling | Emulisy's blog</title><meta name="author" content="Emulisy"><meta name="copyright" content="Emulisy"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="一、全局滚动属性（window 级别）这些属性用于 获取或控制整个页面的滚动状态。    属性&#x2F;方法 作用 示例    window.scrollX 页面水平滚动距离（单位 px） console.log(scrollX)   window.scrollY 页面垂直滚动距离（单位 px） console.log(scrollY)   window.pageXOffset 同 scroll">
<meta property="og:type" content="article">
<meta property="og:title" content="浏览器滚动scrolling">
<meta property="og:url" content="https://emulisy.github.io/2025/10/21/All%20%20about%20scrolling%20-%20%E6%B5%8F%E8%A7%88%E5%99%A8%E6%BB%9A%E5%8A%A8/index.html">
<meta property="og:site_name" content="Emulisy&#39;s blog">
<meta property="og:description" content="一、全局滚动属性（window 级别）这些属性用于 获取或控制整个页面的滚动状态。    属性&#x2F;方法 作用 示例    window.scrollX 页面水平滚动距离（单位 px） console.log(scrollX)   window.scrollY 页面垂直滚动距离（单位 px） console.log(scrollY)   window.pageXOffset 同 scroll">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://emulisy.github.io/img/post-bg1.webp">
<meta property="article:published_time" content="2025-10-21T11:08:55.000Z">
<meta property="article:modified_time" content="2025-11-11T01:37:01.677Z">
<meta property="article:author" content="Emulisy">
<meta property="article:tag" content="中文">
<meta property="article:tag" content="frontend">
<meta property="article:tag" content="前端">
<meta property="article:tag" content="javascript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://emulisy.github.io/img/post-bg1.webp"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "浏览器滚动scrolling",
  "url": "https://emulisy.github.io/2025/10/21/All%20%20about%20scrolling%20-%20%E6%B5%8F%E8%A7%88%E5%99%A8%E6%BB%9A%E5%8A%A8/",
  "image": "https://emulisy.github.io/img/post-bg1.webp",
  "datePublished": "2025-10-21T11:08:55.000Z",
  "dateModified": "2025-11-11T01:37:01.677Z",
  "author": [
    {
      "@type": "Person",
      "name": "Emulisy",
      "url": "https://emulisy.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.webp"><link rel="canonical" href="https://emulisy.github.io/2025/10/21/All%20%20about%20scrolling%20-%20%E6%B5%8F%E8%A7%88%E5%99%A8%E6%BB%9A%E5%8A%A8/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '浏览器滚动scrolling',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/modify.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div class="load-page" id="loading-box"><style>* { box-sizing: border-box; margin:0; padding:0; }

.load-page {
    position: fixed;
    top:0;
    left:0;
    width: 100vw;
    height: 100vh;
    background: black;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 9999;
    opacity: 1;
}

.load-container {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    padding-bottom: 3rem;
    width: 200px;
}

.load-1 {
    display: flex;
    gap: 2rem;
    position: relative;
}

#heart-wrapper { transform: rotate(-135deg) scale(0.9) translateY(0.4rem); }

#heart {
    position: relative;
    width: 1.8rem;
    height: 1.8rem;
    background: white;
    transform-origin: center;
    animation: heartbeat 1s ease-in-out infinite;
}

#heart::before, #heart::after {
    content: "";
    position: absolute;
    width: 1.8rem;
    height: 1.8rem;
    background: white;
    border-radius: 50%;
}

#heart::before { top: 0.9rem; left: 0; }
#heart::after { top: 0; left: 0.9rem; }

@keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

#x {
    width: 3rem;
    height: 3rem;
    position: relative;
    transition: transform 0.6s ease-in-out;
}

#rect1, #rect2 {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 3.2rem;
    height: 0.8rem;
    background: white;
    transform-origin: center center;
}

#rect1 { transform: translate(-50%, -50%) rotate(45deg); border-radius:1rem; width:3.5rem; }
#rect2 { transform: translate(-50%, -50%) rotate(-45deg); }

.load-2 {
    position: absolute;
    bottom: 0;
    height: 0.7rem;
    background: white;
    animation: load2 0.3s linear forwards;
    transition: height 0.3s ease-in, width 0.4s ease-in;
    transform-origin: center right;
}

@keyframes load2 {
    0% { transform: translateX(-15rem); width:0; }
    40% { transform: translateX(-7rem); width:14rem; }
    70% { transform: translateX(-3rem); width:10rem; }
    100% { transform: translateX(0); width:6rem; }
}
.load-rect-2 { position:fixed; bottom:0; height:0; width:100vw; background:white; z-index:10000; transition: height 0.15s ease-in; }
</style><div class="load-container"><div class="load-1"><div id="heart-wrapper"><div id="heart"></div></div><div id="x"><div id="rect1"></div><div id="rect2"></div></div></div><div class="load-2"></div></div></div><div class="load-rect-2"><script>(function(){
    const startTime = Date.now();
    let i = 0;
    const $loadingBox = document.getElementById("loading-box");
    const rect1 = document.querySelector(".load-2");
    const rect2 = document.querySelector(".load-rect-2");

    rect1.addEventListener("animationend", () => {
        rect1.style.animation = "none";
        rect1.style.width = "5.5rem"
    })

    function rotateX() {
        const xbox = document.querySelector("#x");
        if(xbox){ i++; xbox.style.transform = `rotate(${i*45}deg)`; }
    }

    function loadComplete() { //animation when loading is completed
        rect1.style.width = "10rem";
        setTimeout(() => {
            rect1.style.height = "100vh";
        }, 350);
        setTimeout(() => {
            rect2.style.height = "100vh";
        }, 700);
        setTimeout(() => {
            if ($loadingBox) {
                $loadingBox.style.display = "none";
            }
            if (rect2) {
                rect2.style.top = "0";
                rect2.style.height = "0";
            }
        }, 1000)
    }

    window.addEventListener("DOMContentLoaded", ()=>{
        const timePassed = Date.now() - startTime;
        const minDisplay = 2000;  // minimum loading time
        const timeRemaining = Math.max(0, minDisplay - timePassed);
        setTimeout(loadComplete, timeRemaining);
    });

    setInterval(rotateX, 1000);

    // PJAX support
    if(!window.theme || !theme.pjax || !theme.pjax.enable){
        if(window.btf){
            btf.addGlobalFn("pjaxSend",()=>{ $loadingBox.style.display="flex"; $loadingBox.style.opacity="1"; },"preloader_init");
            btf.addGlobalFn("pjaxComplete",()=>{
                $loadingBox.style.opacity="0";
                setTimeout(()=>{ $loadingBox.style.display="none"; }, 200);
            },"preloader_end");
        }
    }
})();</script></div><div id="web_bg" style="background-image: url(/img/home-bg.webp);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/favicon.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">29</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">14</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://fuminori-matsumoto-music-library.netlify.app/"><i class="fa-fw fas fa-music"></i><span> music</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://taskly-gray-sigma.vercel.app/"><i class="fa-fw fa-solid fa-list-check"></i><span> task management</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/post-bg1.webp);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Emulisy's blog</span></a><a class="nav-page-title" href="/"><span class="site-name">浏览器滚动scrolling</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://fuminori-matsumoto-music-library.netlify.app/"><i class="fa-fw fas fa-music"></i><span> music</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://taskly-gray-sigma.vercel.app/"><i class="fa-fw fa-solid fa-list-check"></i><span> task management</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">浏览器滚动scrolling</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-10-21T11:08:55.000Z" title="发表于 2025-10-21 19:08:55">2025-10-21</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-11-11T01:37:01.677Z" title="更新于 2025-11-11 09:37:01">2025-11-11</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2-tech-blog/">技术博客(tech blog)</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">1.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>3分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="一、全局滚动属性（window-级别）"><a href="#一、全局滚动属性（window-级别）" class="headerlink" title="一、全局滚动属性（window 级别）"></a>一、全局滚动属性（window 级别）</h2><p>这些属性用于 <strong>获取或控制整个页面的滚动状态</strong>。</p>
<table>
<thead>
<tr>
<th>属性&#x2F;方法</th>
<th>作用</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>window.scrollX</code></td>
<td>页面水平滚动距离（单位 px）</td>
<td><code>console.log(scrollX)</code></td>
</tr>
<tr>
<td><code>window.scrollY</code></td>
<td>页面垂直滚动距离（单位 px）</td>
<td><code>console.log(scrollY)</code></td>
</tr>
<tr>
<td><code>window.pageXOffset</code></td>
<td>同 <code>scrollX</code>（旧写法）</td>
<td>✅ 向后兼容</td>
</tr>
<tr>
<td><code>window.pageYOffset</code></td>
<td>同 <code>scrollY</code>（旧写法）</td>
<td>✅ 向后兼容</td>
</tr>
<tr>
<td><code>window.scrollTo(x, y)</code></td>
<td>跳转到页面指定位置</td>
<td><code>window.scrollTo(0, 0)</code></td>
</tr>
<tr>
<td><code>window.scrollBy(x, y)</code></td>
<td>相对当前位置滚动</td>
<td><code>window.scrollBy(0, 500)</code></td>
</tr>
<tr>
<td><code>window.scroll()</code></td>
<td>等价于 <code>scrollTo()</code>（支持对象参数）</td>
<td><code>window.scroll(&#123; top: 500, behavior: &#39;smooth&#39; &#125;)</code></td>
</tr>
</tbody></table>
<hr>
<h2 id="二、元素级滚动属性（Element）"><a href="#二、元素级滚动属性（Element）" class="headerlink" title="二、元素级滚动属性（Element）"></a>二、元素级滚动属性（Element）</h2><p>控制 <strong>某个可滚动容器</strong> 的滚动。</p>
<table>
<thead>
<tr>
<th>属性&#x2F;方法</th>
<th>作用</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>element.scrollTop</code></td>
<td>元素内容向上滚动的距离</td>
<td><code>div.scrollTop = 0</code></td>
</tr>
<tr>
<td><code>element.scrollLeft</code></td>
<td>元素内容向左滚动的距离</td>
<td><code>div.scrollLeft += 100</code></td>
</tr>
<tr>
<td><code>element.scrollWidth</code></td>
<td>元素内容的总宽度（包括不可见部分）</td>
<td>用于计算滚动区域宽度</td>
</tr>
<tr>
<td><code>element.scrollHeight</code></td>
<td>元素内容的总高度（包括不可见部分）</td>
<td></td>
</tr>
<tr>
<td><code>element.clientWidth</code></td>
<td>元素可视区域宽度（不含滚动条）</td>
<td></td>
</tr>
<tr>
<td><code>element.clientHeight</code></td>
<td>元素可视区域高度（不含滚动条）</td>
<td></td>
</tr>
<tr>
<td><code>element.offsetWidth</code></td>
<td>元素的实际显示宽度（含内边距和滚动条）</td>
<td></td>
</tr>
<tr>
<td><code>element.offsetHeight</code></td>
<td>元素的实际显示高度</td>
<td></td>
</tr>
<tr>
<td><code>element.offsetTop</code></td>
<td>元素相对于 offsetParent 顶部的距离</td>
<td></td>
</tr>
<tr>
<td><code>element.offsetLeft</code></td>
<td>元素相对于 offsetParent 左侧的距离</td>
<td></td>
</tr>
</tbody></table>
<hr>
<h2 id="三、元素位置与尺寸获取"><a href="#三、元素位置与尺寸获取" class="headerlink" title="三、元素位置与尺寸获取"></a>三、元素位置与尺寸获取</h2><table>
<thead>
<tr>
<th>方法</th>
<th>作用</th>
<th>返回值</th>
</tr>
</thead>
<tbody><tr>
<td><code>element.getBoundingClientRect()</code></td>
<td>获取元素相对于视口的位置和尺寸</td>
<td><code>&#123; top, left, right, bottom, width, height, x, y &#125;</code></td>
</tr>
<tr>
<td><code>element.getClientRects()</code></td>
<td>获取元素内各个“矩形块”的位置（例如多行文字）</td>
<td>DOMRectList</td>
</tr>
<tr>
<td><code>element.scrollIntoView(options)</code></td>
<td>滚动容器或页面让该元素进入视口</td>
<td><code>&#123; behavior, block, inline &#125;</code></td>
</tr>
<tr>
<td><code>element.scrollTo(x, y)</code></td>
<td>滚动容器到指定位置</td>
<td>仅容器有效</td>
</tr>
<tr>
<td><code>element.scrollBy(x, y)</code></td>
<td>容器内相对滚动</td>
<td></td>
</tr>
</tbody></table>
<hr>
<h2 id="四、文档与视口尺寸"><a href="#四、文档与视口尺寸" class="headerlink" title="四、文档与视口尺寸"></a>四、文档与视口尺寸</h2><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>document.documentElement.scrollTop</code></td>
<td>页面滚动的垂直距离（现代写法）</td>
<td>常用于监听滚动</td>
</tr>
<tr>
<td><code>document.body.scrollTop</code></td>
<td>某些旧浏览器中使用（不推荐）</td>
<td></td>
</tr>
<tr>
<td><code>document.documentElement.scrollHeight</code></td>
<td>页面总高度</td>
<td></td>
</tr>
<tr>
<td><code>document.documentElement.clientHeight</code></td>
<td>视口高度（浏览器可见区域）</td>
<td></td>
</tr>
<tr>
<td><code>window.innerHeight</code></td>
<td>浏览器视口内部高度（含滚动条）</td>
<td></td>
</tr>
<tr>
<td><code>window.innerWidth</code></td>
<td>浏览器视口内部宽度</td>
<td></td>
</tr>
<tr>
<td><code>window.outerHeight</code></td>
<td>整个浏览器窗口高度（含工具栏）</td>
<td></td>
</tr>
<tr>
<td><code>window.outerWidth</code></td>
<td>整个浏览器窗口宽度</td>
<td></td>
</tr>
<tr>
<td><code>window.visualViewport.height</code></td>
<td>移动端可视区域高度（支持缩放时使用）</td>
<td></td>
</tr>
</tbody></table>
<hr>
<h2 id="五、滚动事件监听"><a href="#五、滚动事件监听" class="headerlink" title="五、滚动事件监听"></a>五、滚动事件监听</h2><table>
<thead>
<tr>
<th>事件</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>scroll</code></td>
<td>当页面或元素滚动时触发（可用于懒加载、导航高亮）</td>
</tr>
<tr>
<td><code>wheel</code></td>
<td>用户滚动鼠标滚轮时触发</td>
</tr>
<tr>
<td><code>resize</code></td>
<td>视口大小变化（可能影响 scroll 计算）</td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">scrollY</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="六、CSS-滚动控制"><a href="#六、CSS-滚动控制" class="headerlink" title="六、CSS 滚动控制"></a>六、CSS 滚动控制</h2><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>overflow</code></td>
<td>控制是否出现滚动条</td>
<td><code>overflow: hidden / scroll / auto;</code></td>
</tr>
<tr>
<td><code>scroll-behavior</code></td>
<td>控制滚动是否平滑</td>
<td><code>scroll-behavior: smooth;</code></td>
</tr>
<tr>
<td><code>scroll-snap-type</code></td>
<td>启用滚动吸附效果</td>
<td><code>scroll-snap-type: y mandatory;</code></td>
</tr>
<tr>
<td><code>scroll-snap-align</code></td>
<td>元素在吸附时的对齐方式</td>
<td><code>scroll-snap-align: start;</code></td>
</tr>
</tbody></table>
<hr>
<h2 id="七、常见滚动操作示例"><a href="#七、常见滚动操作示例" class="headerlink" title="七、常见滚动操作示例"></a>七、常见滚动操作示例</h2><h3 id="1️⃣-平滑滚动到页面底部"><a href="#1️⃣-平滑滚动到页面底部" class="headerlink" title="1️⃣ 平滑滚动到页面底部"></a>1️⃣ 平滑滚动到页面底部</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">scrollTo</span>(&#123;</span><br><span class="line">  <span class="attr">top</span>: <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollHeight</span>,</span><br><span class="line">  <span class="attr">behavior</span>: <span class="string">&#x27;smooth&#x27;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="2️⃣-判断是否滚动到底部"><a href="#2️⃣-判断是否滚动到底部" class="headerlink" title="2️⃣ 判断是否滚动到底部"></a>2️⃣ 判断是否滚动到底部</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">innerHeight</span> + <span class="variable language_">window</span>.<span class="property">scrollY</span> &gt;= <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">offsetHeight</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;到底了！&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3️⃣-获取元素在文档中的绝对位置"><a href="#3️⃣-获取元素在文档中的绝对位置" class="headerlink" title="3️⃣ 获取元素在文档中的绝对位置"></a>3️⃣ 获取元素在文档中的绝对位置</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> rect = el.<span class="title function_">getBoundingClientRect</span>();</span><br><span class="line"><span class="keyword">const</span> absoluteTop = rect.<span class="property">top</span> + <span class="variable language_">window</span>.<span class="property">scrollY</span>;</span><br><span class="line"><span class="keyword">const</span> absoluteLeft = rect.<span class="property">left</span> + <span class="variable language_">window</span>.<span class="property">scrollX</span>;</span><br></pre></td></tr></table></figure>

<h3 id="4️⃣-禁止页面滚动"><a href="#4️⃣-禁止页面滚动" class="headerlink" title="4️⃣ 禁止页面滚动"></a>4️⃣ 禁止页面滚动</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>或：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">overflow</span> = <span class="string">&#x27;hidden&#x27;</span>;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="八、进阶与扩展（移动端与高级-API）"><a href="#八、进阶与扩展（移动端与高级-API）" class="headerlink" title="八、进阶与扩展（移动端与高级 API）"></a>八、进阶与扩展（移动端与高级 API）</h2><table>
<thead>
<tr>
<th>API</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td><code>IntersectionObserver</code></td>
<td>监听页面元素是否进入视口（替代滚动监听）</td>
</tr>
<tr>
<td><code>visualViewport</code></td>
<td>获取手机上缩放、软键盘导致的视口变化</td>
</tr>
<tr>
<td><code>scrollRestoration</code></td>
<td>控制浏览器前进&#x2F;后退时是否自动恢复滚动位置</td>
</tr>
</tbody></table>
<hr>
<h2 id="九、易混淆点总结"><a href="#九、易混淆点总结" class="headerlink" title="九、易混淆点总结"></a>九、易混淆点总结</h2><ul>
<li><code>scrollTop</code> → 只读&#x2F;可写，用于容器内部。</li>
<li><code>scrollY</code> → 只读，全局滚动。</li>
<li><code>getBoundingClientRect()</code> 返回的是相对视口的坐标，不是文档。</li>
<li><code>scrollIntoView()</code> 会自动滚动外层容器，默认是平滑的。</li>
<li>禁止滚动不仅要 <code>overflow: hidden</code>，还要防止内容高度变化导致布局闪动。</li>
</ul>
<hr>
<h2 id="十、实用技巧"><a href="#十、实用技巧" class="headerlink" title="十、实用技巧"></a>十、实用技巧</h2><ul>
<li><p><strong>平滑回到顶部</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">scrollTo</span>(&#123; <span class="attr">top</span>: <span class="number">0</span>, <span class="attr">behavior</span>: <span class="string">&#x27;smooth&#x27;</span> &#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>带动画的锚点跳转</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#target&#x27;</span>).<span class="title function_">scrollIntoView</span>(&#123; <span class="attr">behavior</span>: <span class="string">&#x27;smooth&#x27;</span> &#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E4%B8%AD%E6%96%87/">中文</a><a class="post-meta__tags" href="/tags/frontend/">frontend</a><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a><a class="post-meta__tags" href="/tags/javascript/">javascript</a></div><div class="post-share"><div class="social-share" data-image="/img/post-bg1.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/10/21/CSS%20layout%20-%20Flexbox/" title="CSS Layout - Flexbox"><img class="cover" src="/img/post-bg4.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">CSS Layout - Flexbox</div></div><div class="info-2"><div class="info-item-1">Flexbox display: flex;The main axis and the cross axisThere are two invisible axis that control the flexbox.  The main axis that goes through the center of the box along the flex direction The cross axis that is perpendicular to the main axis   flex-direction: row; defines the direction of the main axis, it can be set to row or column  We use justify-content to control the main axis, and align-items for the cross axis.   For the justify-content, the values can be:  flex-start:...</div></div></div></a><a class="pagination-related" href="/2025/11/02/All%20about%20DOM%20and%20Browser%20Performance/" title="All about DOM API and Browser Performance"><img class="cover" src="/img/post-bg3.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">All about DOM API and Browser Performance</div></div><div class="info-2"><div class="info-item-1">The DOM APIThe Document Object Model (DOM) is a tree-like, in-memory representation of your HTML document.When the browser parses an HTML file, it creates objects that form a hierarchical tree structure where:  Each HTML element becomes a node.  Text inside elements becomes text nodes.  The relationships between elements (nested tags) form parent-child links.   So the key fact is that in DOM, EVERYTHING is about nodes. ![DOM Walk Through](..&#x2F;img&#x2F;All about DOM&#x2F;DOM...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/11/06/Hexo%20Butterfly%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%A0%E8%BD%BD%E9%A1%B5%E9%9D%A2/" title="在Hexo Butterfly 里添加自定义加载页面"><img class="cover" src="/img/post-bg4.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-06</div><div class="info-item-2">在Hexo Butterfly 里添加自定义加载页面</div></div><div class="info-2"><div class="info-item-1">DOM 生命周期事件  document.addEventListener(&#39;DOMContentLoaded&#39;, ...):   网页在载入的时候首先会解析HTML并构建DOM树。当这一步完成的时候该事件就会触发，此时css可能还没完全加载，其他网页资源如图片等也可能没完全加载完成。  window.addEventListener(&#39;load&#39;, ...):   当所有网页资源加载完毕的时候触发，一般比DOM树加载晚得多。  window.addEventListener(&#39;beforeunload&#39;, ...):   当用户要离开界面的时候触发，可能是跳转也可能是主动关闭页面。可以用来保存数据和弹出提示(现代浏览器一般会限制提示内容)   要创建一个加载页面我们一般会用到第二个事件: load。 我们可以创建一个position:fixed的加载页面，然后在监听到页面加载完成的时候将他消除，例如display:none。 在hexo butterfly添加自定义加载页面 仅仅对于hexo: 7.3.0版本    找到文件夹...</div></div></div></a><a class="pagination-related" href="/2025/11/02/All%20about%20DOM%20and%20Browser%20Performance/" title="All about DOM API and Browser Performance"><img class="cover" src="/img/post-bg3.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-02</div><div class="info-item-2">All about DOM API and Browser Performance</div></div><div class="info-2"><div class="info-item-1">The DOM APIThe Document Object Model (DOM) is a tree-like, in-memory representation of your HTML document.When the browser parses an HTML file, it creates objects that form a hierarchical tree structure where:  Each HTML element becomes a node.  Text inside elements becomes text nodes.  The relationships between elements (nested tags) form parent-child links.   So the key fact is that in DOM, EVERYTHING is about nodes. ![DOM Walk Through](..&#x2F;img&#x2F;All about DOM&#x2F;DOM...</div></div></div></a><a class="pagination-related" href="/2025/11/16/Asynchronous%20Javascript/" title="Asynchronous Javascript"><img class="cover" src="/img/post-bg3.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-16</div><div class="info-item-2">Asynchronous Javascript</div></div><div class="info-2"><div class="info-item-1">Asynchronous JSJS has only one thread, so it cannot handle multiple tasks at the same time. But thanks to the non-blocking behaviour, we can carry on to the next task before the last task is finished, this is Asynchronous Javascript. HTTP&#x2F;HTTPSWhen making communication with a server, we use HTTP&#x2F;HTTPS requests. What happens when we make an HTTP&#x2F;HTTPS request:  Parse URL and check cache: to make a request we need to know the url of the server, so we need to parse the...</div></div></div></a><a class="pagination-related" href="/2025/10/12/Falsy%20and%20Truthy%20in%20JS/" title="Falsy and Truthy in JS"><img class="cover" src="/img/post-bg3.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-12</div><div class="info-item-2">Falsy and Truthy in JS</div></div><div class="info-2"><div class="info-item-1">Difference between == and ===In a word, == tries to covert the two values to the same type, and then compare its value. 1&quot;10&quot; == 10; //true  But === requires the two values to have the same value and the same type: 12&quot;10&quot; === 10; //false&quot;10&quot; === &quot;10&quot;; //true  == is not so safe to use, so we usually use === or !==.  How to determine if a value is true or falseIn JS, whenever we need to transfer a value into a boolean, the value will be determined as...</div></div></div></a><a class="pagination-related" href="/2025/10/09/Javascript%20Engine/" title="Javascript Engine"><img class="cover" src="/img/post-bg4.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-09</div><div class="info-item-2">Javascript Engine</div></div><div class="info-2"><div class="info-item-1">Javascript overview High-level: As a high level language, unlike C language, js arranges garbage collection and memory allocation for us. Just-in-time compiled:  Multi-paradigm: JS supports procedural, object-oriented and functional programming, unlike C which does not support OOP(object-oriented programming), making JS more flexible and versatile. Single threaded with non-blocking event loop: enables concurrency, which is handling multiple tasks at the same time.   Compiled language vs...</div></div></div></a><a class="pagination-related" href="/2025/09/02/Javascript%20Fundamentals/" title="Javascript Fundamentals"><img class="cover" src="/img/post-bg1.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-02</div><div class="info-item-2">Javascript Fundamentals</div></div><div class="info-2"><div class="info-item-1">Primitive types string number bigInt boolean  undefined null symbol   NumbersIn JS, numbers are always 64-bit Floating Point!! Therefor precision exist to avoid overflow:  Integer precision: int are accurate within the scope (Number.MAX_SAFE_INTEGER, Number.MIN_SAFE_INTEGER) Floating-point imprecision: Because numbers are binary floats, decimals like 0.1 cannot be represented accurately. So float point arithmetic is not always precise.1console.log(0.1 + 0.2 === 0.3)//false So how to fix...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/favicon.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Emulisy</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">29</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">14</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Emulisy"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Emulisy" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:ianzhang2088979637@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">我的避风港——存储了我的技术博客，读书笔记还有杂谈等~</div></div><div class="card-widget visitor-location-map" id="visitor-location-map"><div class="item-headline"><i class="fas fa-map-marker-alt"></i><span>Your Location</span></div><div class="item-content"><div id="location-container" style="
  width: 100%;
  display: flex;
  flex-direction: column;
  padding: 15px;
  background: var(--card-bg);
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
  transition: all 0.3s ease;
  box-sizing: border-box;
">
  <div id="map-display" style="
    margin-bottom: 12px;
    min-height: 150px;
    border-radius: 10px;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0,0,0,0.05);
    cursor: pointer;
  ">
    <i class="fas fa-spinner fa-spin"></i>
  </div>

  <div id="location-text" style="font-size: 14px; font-weight: 700; color: var(--text-highlight-color);">Locating...</div>
  <div id="location-detail" style="font-size: 12px; opacity: 0.8; margin-top: 2px;"></div>

  <div id="quote-wrapper" style="
    position: relative;
    margin-top: 12px;
    min-height: 60px;
    cursor: help;
  ">
    <div id="quote-en" class="quote-content fade-in"></div>
    <div id="quote-cn" class="quote-content fade-out"></div>
  </div>

  <div id="quote-author" style="
    font-size: 11px;
    opacity: 0.6;
    margin-top: 4px;
    transition: all 0.3s ease;
    text-align: left;
    min-height: 1.2em;
  "></div>
</div>

<style>
  /* 避免容器内容溢出 */
  #location-container * { box-sizing: border-box; }

  .quote-content {
    font-size: 12px;
    line-height: 1.5;
    font-style: italic;
    transition: opacity 0.4s ease, transform 0.4s ease;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .fade-in {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
    z-index: 2;
  }

  .fade-out {
    opacity: 0;
    transform: translateY(10px);
    pointer-events: none;
    z-index: 1;
  }

  #location-container {
    border: 1px solid var(--light-grey);
  }

  [data-theme='dark'] #location-container {
    border: 1px solid #333;
  }
</style>

<script>
  (function() {
    let switchTimer = null;

    function formatHour12(hour) {
      const suffix = hour >= 12 ? "PM" : "AM";
      const h = hour % 12 === 0 ? 12 : hour % 12;
      return `${h} ${suffix}`;
    }

    function updateVisitorMap() {
      const hour = new Date().getHours();
      // 依赖全局 QuoteService
      const quote = window.QuoteService?.getQuote(hour);

      fetch('https://ipwho.is/')
        .then(res => res.json())
        .then(data => {
          if (!data.success) throw new Error();

          const { region, city, latitude, longitude } = data;
          const textEl = document.getElementById('location-text');
          const detailEl = document.getElementById('location-detail');
          const mapEl = document.getElementById('map-display');
          const qEnEl = document.getElementById('quote-en');
          const qCnEl = document.getElementById('quote-cn');
          const authorEl = document.getElementById('quote-author');
          const wrapper = document.getElementById('quote-wrapper');

          // 地图渲染
          const mapUrl = `https://static-maps.yandex.ru/1.x/?lang=en-US&ll=${longitude},${latitude}&z=4&l=map&size=250,180&pt=${longitude},${latitude},pm2rdm`;
          mapEl.innerHTML = `<img src="${mapUrl}" style="width:100%; height:auto; display:block; border-radius:10px;">`;

          // 位置渲染
          textEl.innerHTML = `Welcome, it's ${formatHour12(hour)}`;
          detailEl.innerHTML = `${region} · ${city}`;

          if (!quote) return;

          // 内容初始化
          qEnEl.innerText = quote.en;
          qCnEl.innerText = quote.cn;
          authorEl.innerText = `— ${quote.authorEN}`;

          // 鼠标移入：显示中文
          wrapper.onmouseenter = () => {
            if (switchTimer) clearTimeout(switchTimer);
            switchTimer = setTimeout(() => {
              qEnEl.classList.replace('fade-in', 'fade-out');
              qCnEl.classList.replace('fade-out', 'fade-in');
              authorEl.style.opacity = "0";
              setTimeout(() => {
                authorEl.innerText = `— ${quote.authorCN}`;
                authorEl.style.opacity = "0.6";
              }, 200);
            }, 120); 
          };

          // 鼠标移出：恢复英文
          wrapper.onmouseleave = () => {
            if (switchTimer) clearTimeout(switchTimer);
            switchTimer = setTimeout(() => {
              qCnEl.classList.replace('fade-in', 'fade-out');
              qEnEl.classList.replace('fade-out', 'fade-in');
              authorEl.style.opacity = "0";
              setTimeout(() => {
                authorEl.innerText = `— ${quote.authorEN}`;
                authorEl.style.opacity = "0.6";
              }, 200);
            }, 120);
          };
        })
        .catch(() => {
          const textEl = document.getElementById('location-text');
          if(textEl) textEl.innerHTML = "Welcome back to my world!";
        });
    }

    // 注入执行
    if (document.readyState === 'complete') {
      updateVisitorMap();
    } else {
      window.addEventListener('load', updateVisitorMap);
    }

    // Pjax 兼容适配（Butterfly 常用）
    document.addEventListener('pjax:complete', updateVisitorMap);
  })();
</script>
</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%85%A8%E5%B1%80%E6%BB%9A%E5%8A%A8%E5%B1%9E%E6%80%A7%EF%BC%88window-%E7%BA%A7%E5%88%AB%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">一、全局滚动属性（window 级别）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%85%83%E7%B4%A0%E7%BA%A7%E6%BB%9A%E5%8A%A8%E5%B1%9E%E6%80%A7%EF%BC%88Element%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">二、元素级滚动属性（Element）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%85%83%E7%B4%A0%E4%BD%8D%E7%BD%AE%E4%B8%8E%E5%B0%BA%E5%AF%B8%E8%8E%B7%E5%8F%96"><span class="toc-number">3.</span> <span class="toc-text">三、元素位置与尺寸获取</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%96%87%E6%A1%A3%E4%B8%8E%E8%A7%86%E5%8F%A3%E5%B0%BA%E5%AF%B8"><span class="toc-number">4.</span> <span class="toc-text">四、文档与视口尺寸</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%BB%9A%E5%8A%A8%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC"><span class="toc-number">5.</span> <span class="toc-text">五、滚动事件监听</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81CSS-%E6%BB%9A%E5%8A%A8%E6%8E%A7%E5%88%B6"><span class="toc-number">6.</span> <span class="toc-text">六、CSS 滚动控制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E5%B8%B8%E8%A7%81%E6%BB%9A%E5%8A%A8%E6%93%8D%E4%BD%9C%E7%A4%BA%E4%BE%8B"><span class="toc-number">7.</span> <span class="toc-text">七、常见滚动操作示例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%B8%8F%E2%83%A3-%E5%B9%B3%E6%BB%91%E6%BB%9A%E5%8A%A8%E5%88%B0%E9%A1%B5%E9%9D%A2%E5%BA%95%E9%83%A8"><span class="toc-number">7.1.</span> <span class="toc-text">1️⃣ 平滑滚动到页面底部</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%B8%8F%E2%83%A3-%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%BB%9A%E5%8A%A8%E5%88%B0%E5%BA%95%E9%83%A8"><span class="toc-number">7.2.</span> <span class="toc-text">2️⃣ 判断是否滚动到底部</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%B8%8F%E2%83%A3-%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E5%9C%A8%E6%96%87%E6%A1%A3%E4%B8%AD%E7%9A%84%E7%BB%9D%E5%AF%B9%E4%BD%8D%E7%BD%AE"><span class="toc-number">7.3.</span> <span class="toc-text">3️⃣ 获取元素在文档中的绝对位置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%EF%B8%8F%E2%83%A3-%E7%A6%81%E6%AD%A2%E9%A1%B5%E9%9D%A2%E6%BB%9A%E5%8A%A8"><span class="toc-number">7.4.</span> <span class="toc-text">4️⃣ 禁止页面滚动</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E8%BF%9B%E9%98%B6%E4%B8%8E%E6%89%A9%E5%B1%95%EF%BC%88%E7%A7%BB%E5%8A%A8%E7%AB%AF%E4%B8%8E%E9%AB%98%E7%BA%A7-API%EF%BC%89"><span class="toc-number">8.</span> <span class="toc-text">八、进阶与扩展（移动端与高级 API）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E6%98%93%E6%B7%B7%E6%B7%86%E7%82%B9%E6%80%BB%E7%BB%93"><span class="toc-number">9.</span> <span class="toc-text">九、易混淆点总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E3%80%81%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7"><span class="toc-number">10.</span> <span class="toc-text">十、实用技巧</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2026/01/17/Solidity%20Basic%20Syntax/" title="Solidity Basics"><img src="/img/post-bg4.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Solidity Basics"/></a><div class="content"><a class="title" href="/2026/01/17/Solidity%20Basic%20Syntax/" title="Solidity Basics">Solidity Basics</a><time datetime="2026-01-17T08:33:03.000Z" title="发表于 2026-01-17 16:33:03">2026-01-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/16/Smart%20Contract%20Basics/" title="Smart Contract Basics"><img src="/img/post-bg2.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Smart Contract Basics"/></a><div class="content"><a class="title" href="/2026/01/16/Smart%20Contract%20Basics/" title="Smart Contract Basics">Smart Contract Basics</a><time datetime="2026-01-16T10:25:33.000Z" title="发表于 2026-01-16 18:25:33">2026-01-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/16/2025%E5%B9%B4%E5%BA%A6%E4%B9%A6%E7%B1%8D/" title="2025年度书籍"><img src="/img/post-bg3.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2025年度书籍"/></a><div class="content"><a class="title" href="/2026/01/16/2025%E5%B9%B4%E5%BA%A6%E4%B9%A6%E7%B1%8D/" title="2025年度书籍">2025年度书籍</a><time datetime="2026-01-16T07:29:11.000Z" title="发表于 2026-01-16 15:29:11">2026-01-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/15/Web3%20Operation/" title="Web3 Operation"><img src="/img/post-bg1.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Web3 Operation"/></a><div class="content"><a class="title" href="/2026/01/15/Web3%20Operation/" title="Web3 Operation">Web3 Operation</a><time datetime="2026-01-15T09:57:37.000Z" title="发表于 2026-01-15 17:57:37">2026-01-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/13/Ethereum%20-%20basic%20concepts/" title="Ethereum - basic concepts"><img src="/img/post-bg4.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Ethereum - basic concepts"/></a><div class="content"><a class="title" href="/2026/01/13/Ethereum%20-%20basic%20concepts/" title="Ethereum - basic concepts">Ethereum - basic concepts</a><time datetime="2026-01-13T12:40:51.000Z" title="发表于 2026-01-13 20:40:51">2026-01-13</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent;"><div id="footer-wrap"><div class="copyright">&copy;2025 - 2026 By Emulisy</div><div class="footer_custom_text"><p style="font-size: 20px; font-family: sans-serif;">
  我永远喜欢水上由岐~
</p> <p style="text-align: center;">
  <a target="_blank" href="https://hexo.io/">
    <img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为Hexo">
  </a>&nbsp;
  <a target="_blank" href="https://butterfly.js.org/">
    <img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用Butterfly">
  </a>
</p>
</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = {"mapping":"url","strict":0,"reactions_enabled":1,"emit_metadata":0,"input_position":"bottom","lang":"en"}

  const getGiscusTheme = theme => theme === 'dark' ? 'dark' : 'light'

  const createScriptElement = config => {
    const ele = document.createElement('script')
    Object.entries(config).forEach(([key, value]) => {
      ele.setAttribute(key, value)
    })
    return ele
  }

  const loadGiscus = (el = document, key) => {
    const mappingConfig = isShuoshuo
      ? { 'data-mapping': 'specific', 'data-term': key }
      : { 'data-mapping': (option && option['data-mapping']) || 'pathname' }

    const giscusConfig = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'Emulisy/Emulisy.github.io',
      'data-repo-id': 'R_kgDOPAbCig',
      'data-category-id': 'DIC_kwDOPAbCis4C05wb',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true,
      ...option,
      ...mappingConfig
    }

    const scriptElement = createScriptElement(giscusConfig)

    el.querySelector('#giscus-wrap').appendChild(scriptElement)

    if (isShuoshuo) {
      window.shuoshuoComment.destroyGiscus = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }
  }

  const changeGiscusTheme = theme => {
    const iframe = document.querySelector('#giscus-wrap iframe')
    if (iframe) {
      const message = {
        giscus: {
          setConfig: {
            theme: getGiscusTheme(theme)
          }
        }
      }
      iframe.contentWindow.postMessage(message, 'https://giscus.app')
    }
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if (isShuoshuo) {
    'Giscus' === 'Giscus'
      ? window.shuoshuoComment = { loadComment: loadGiscus }
      : window.loadOtherComment = loadGiscus
    return
  }

  if ('Giscus' === 'Giscus' || !false) {
    if (false) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment = loadGiscus
  }
})()</script></div><script src="/scripts/quotes.js"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="true" data-text="D'où venons-nous ?,Que sommes-nous ?,Où allons-nous ?" data-fontsize="15px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for an article~" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>