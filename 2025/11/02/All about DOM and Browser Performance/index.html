<!DOCTYPE html><html lang="[&quot;zh-CN&quot;,&quot;en&quot;,&quot;default&quot;]" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>All about DOM API and Browser Performance | Emulisy's blog</title><meta name="author" content="Emulisy"><meta name="copyright" content="Emulisy"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="The DOM APIThe Document Object Model (DOM) is a tree-like, in-memory representation of your HTML document.When the browser parses an HTML file, it creates objects that form a hierarchical tree structu">
<meta property="og:type" content="article">
<meta property="og:title" content="All about DOM API and Browser Performance">
<meta property="og:url" content="https://emulisy.github.io/2025/11/02/All%20about%20DOM%20and%20Browser%20Performance/index.html">
<meta property="og:site_name" content="Emulisy&#39;s blog">
<meta property="og:description" content="The DOM APIThe Document Object Model (DOM) is a tree-like, in-memory representation of your HTML document.When the browser parses an HTML file, it creates objects that form a hierarchical tree structu">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://emulisy.github.io/img/post-bg4.jpg">
<meta property="article:published_time" content="2025-11-02T15:13:00.000Z">
<meta property="article:modified_time" content="2025-11-11T01:37:01.645Z">
<meta property="article:author" content="Emulisy">
<meta property="article:tag" content="frontend">
<meta property="article:tag" content="前端">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="English">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://emulisy.github.io/img/post-bg4.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "All about DOM API and Browser Performance",
  "url": "https://emulisy.github.io/2025/11/02/All%20about%20DOM%20and%20Browser%20Performance/",
  "image": "https://emulisy.github.io/img/post-bg4.jpg",
  "datePublished": "2025-11-02T15:13:00.000Z",
  "dateModified": "2025-11-11T01:37:01.645Z",
  "author": [
    {
      "@type": "Person",
      "name": "Emulisy",
      "url": "https://emulisy.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://emulisy.github.io/2025/11/02/All%20about%20DOM%20and%20Browser%20Performance/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'All about DOM API and Browser Performance',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/modify.css"><link rel="stylesheet" href="/css/quote.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div class="load-page" id="loading-box"><style>* { box-sizing: border-box; margin:0; padding:0; }

.load-page {
    position: fixed;
    top:0;
    left:0;
    width: 100vw;
    height: 100vh;
    background: black;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 9999;
    opacity: 1;
}

.load-container {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    padding-bottom: 3rem;
    width: 200px;
}

.load-1 {
    display: flex;
    gap: 2rem;
    position: relative;
}

#heart-wrapper { transform: rotate(-135deg) scale(0.9) translateY(0.4rem); }

#heart {
    position: relative;
    width: 1.8rem;
    height: 1.8rem;
    background: white;
    transform-origin: center;
    animation: heartbeat 1s ease-in-out infinite;
}

#heart::before, #heart::after {
    content: "";
    position: absolute;
    width: 1.8rem;
    height: 1.8rem;
    background: white;
    border-radius: 50%;
}

#heart::before { top: 0.9rem; left: 0; }
#heart::after { top: 0; left: 0.9rem; }

@keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

#x {
    width: 3rem;
    height: 3rem;
    position: relative;
    transition: transform 0.6s ease-in-out;
}

#rect1, #rect2 {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 3.2rem;
    height: 0.8rem;
    background: white;
    transform-origin: center center;
}

#rect1 { transform: translate(-50%, -50%) rotate(45deg); border-radius:1rem; width:3.5rem; }
#rect2 { transform: translate(-50%, -50%) rotate(-45deg); }

.load-2 {
    position: absolute;
    bottom: 0;
    height: 0.7rem;
    background: white;
    animation: load2 0.3s linear forwards;
    transition: height 0.3s ease-in, width 0.4s ease-in;
    transform-origin: center right;
}

@keyframes load2 {
    0% { transform: translateX(-15rem); width:0; }
    40% { transform: translateX(-7rem); width:14rem; }
    70% { transform: translateX(-3rem); width:10rem; }
    100% { transform: translateX(0); width:6rem; }
}
.load-rect-2 { position:fixed; bottom:0; height:0; width:100vw; background:white; z-index:10000; transition: height 0.15s ease-in; }
</style><div class="load-container"><div class="load-1"><div id="heart-wrapper"><div id="heart"></div></div><div id="x"><div id="rect1"></div><div id="rect2"></div></div></div><div class="load-2"></div></div></div><div class="load-rect-2"><script>(function(){
    const startTime = Date.now();
    let i = 0;
    const $loadingBox = document.getElementById("loading-box");
    const rect1 = document.querySelector(".load-2");
    const rect2 = document.querySelector(".load-rect-2");

    rect1.addEventListener("animationend", () => {
        rect1.style.animation = "none";
        rect1.style.width = "5.5rem"
    })

    function rotateX() {
        const xbox = document.querySelector("#x");
        if(xbox){ i++; xbox.style.transform = `rotate(${i*45}deg)`; }
    }

    function loadComplete() { //animation when loading is completed
        rect1.style.width = "10rem";
        setTimeout(() => {
            rect1.style.height = "100vh";
        }, 350);
        setTimeout(() => {
            rect2.style.height = "100vh";
        }, 700);
        setTimeout(() => {
            if ($loadingBox) {
                $loadingBox.style.display = "none";
            }
            if (rect2) {
                rect2.style.top = "0";
                rect2.style.height = "0";
            }
        }, 1000)
    }

    window.addEventListener("DOMContentLoaded", ()=>{
        const timePassed = Date.now() - startTime;
        const minDisplay = 2000;  // minimum loading time
        const timeRemaining = Math.max(0, minDisplay - timePassed);
        setTimeout(loadComplete, timeRemaining);
    });

    setInterval(rotateX, 1000);

    // PJAX support
    if(!window.theme || !theme.pjax || !theme.pjax.enable){
        if(window.btf){
            btf.addGlobalFn("pjaxSend",()=>{ $loadingBox.style.display="flex"; $loadingBox.style.opacity="1"; },"preloader_init");
            btf.addGlobalFn("pjaxComplete",()=>{
                $loadingBox.style.opacity="0";
                setTimeout(()=>{ $loadingBox.style.display="none"; }, 200);
            },"preloader_end");
        }
    }
})();</script></div><div id="web_bg" style="background-image: url(/img/home-bg.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/favicon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> music</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/post-bg4.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Emulisy's blog</span></a><a class="nav-page-title" href="/"><span class="site-name">All about DOM API and Browser Performance</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> music</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">All about DOM API and Browser Performance</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-11-02T15:13:00.000Z" title="发表于 2025-11-02 23:13:00">2025-11-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-11-11T01:37:01.645Z" title="更新于 2025-11-11 09:37:01">2025-11-11</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2-tech-blog/">技术博客(tech blog)</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">1.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>10分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="The-DOM-API"><a href="#The-DOM-API" class="headerlink" title="The DOM API"></a>The DOM API</h2><p>The Document Object Model (DOM) is a tree-like, in-memory representation of your HTML document.<br>When the browser parses an HTML file, it creates objects that form a hierarchical tree structure where:</p>
<ul>
<li><p>Each HTML element becomes a node.</p>
</li>
<li><p>Text inside elements becomes text nodes.</p>
</li>
<li><p>The relationships between elements (nested tags) form parent-child links.</p>
</li>
</ul>
<p>So the key fact is that <strong>in DOM, EVERYTHING is about nodes.</strong></p>
<hr>
<h2 id="DOM-Node"><a href="#DOM-Node" class="headerlink" title="DOM Node"></a>DOM Node</h2><p>Behind the scenes, each DOM node is a complex object with:</p>
<ul>
<li><p>Properties (like .nodeName, .textContent, .attributes)</p>
</li>
<li><p>Pointers to parent and child nodes</p>
</li>
<li><p>Event listeners</p>
</li>
<li><p>Metadata (like layout box, dimensions, etc.)</p>
</li>
<li><p>The <code>document</code> node: The root of all nodes</p>
</li>
<li><p>Element node: when we create a new HTML tag, an element node appears.</p>
</li>
<li><p>Text node: the text wrapped inside HTML tags.</p>
</li>
</ul>
<h3 id="Element-node"><a href="#Element-node" class="headerlink" title="Element node"></a>Element node</h3><p>Inside a DOM node, there are several methods that are universal:</p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Property &#x2F; Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>Basic Node Info</td>
<td><code>nodeType</code></td>
<td>Always <code>1</code> for Element Nodes</td>
</tr>
<tr>
<td></td>
<td><code>nodeName</code></td>
<td>Tag name of the element (e.g., <code>&quot;DIV&quot;</code>, <code>&quot;SPAN&quot;</code>)</td>
</tr>
<tr>
<td></td>
<td><code>tagName</code></td>
<td>Same as <code>nodeName</code> (usually uppercase in HTML)</td>
</tr>
<tr>
<td>DOM Relationships</td>
<td><code>parentNode</code></td>
<td>Points to the parent node (another Element or Document)</td>
</tr>
<tr>
<td></td>
<td><code>childNodes</code></td>
<td>Includes all child nodes (elements, text, comments)</td>
</tr>
<tr>
<td></td>
<td><code>children</code></td>
<td>Includes only element-type children (no text&#x2F;comment)</td>
</tr>
<tr>
<td></td>
<td><code>firstChild</code> &#x2F; <code>lastChild</code></td>
<td>First &#x2F; last child node</td>
</tr>
<tr>
<td></td>
<td><code>nextSibling</code> &#x2F; <code>previousSibling</code></td>
<td>Adjacent sibling nodes</td>
</tr>
<tr>
<td>Attributes &amp; Properties</td>
<td><code>attributes</code></td>
<td>A <code>NamedNodeMap</code> containing all attributes (e.g., <code>id</code>, <code>class</code>, <code>src</code>)</td>
</tr>
<tr>
<td></td>
<td><code>getAttribute(name)</code> &#x2F; <code>setAttribute(name, value)</code></td>
<td>Read or modify an HTML attribute</td>
</tr>
<tr>
<td></td>
<td><code>id</code>, <code>className</code>, <code>classList</code>, <code>style</code></td>
<td>Common DOM property interfaces</td>
</tr>
<tr>
<td>Content</td>
<td><code>innerHTML</code></td>
<td>HTML string inside the element</td>
</tr>
<tr>
<td></td>
<td><code>outerHTML</code></td>
<td>Full HTML string including the element itself</td>
</tr>
<tr>
<td></td>
<td><code>textContent</code></td>
<td>Plain text content of the element</td>
</tr>
<tr>
<td>Element Query</td>
<td><code>querySelector()</code> &#x2F; <code>querySelectorAll()</code></td>
<td>Search for elements within the current node</td>
</tr>
<tr>
<td>Event System</td>
<td><code>addEventListener(type, handler)</code></td>
<td>Register an event listener</td>
</tr>
<tr>
<td>DOM Manipulation</td>
<td><code>append()</code>, <code>appendChild()</code>, <code>remove()</code>, <code>replaceWith()</code>, <code>cloneNode()</code></td>
<td>Dynamically modify DOM structure</td>
</tr>
</tbody></table>
<p>However, for certain nodes, they may have special attributes that are unique:</p>
<p>For element node that are created using HTML tags, there are properties like:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody><tr>
<td><code>tagName</code></td>
<td>The element’s tag name (uppercase)</td>
<td><code>div.tagName → &quot;DIV&quot;</code></td>
</tr>
<tr>
<td><code>id</code> &#x2F; <code>className</code></td>
<td>Shortcut access to HTML attributes</td>
<td><code>div.id = &quot;main&quot;</code></td>
</tr>
<tr>
<td><code>classList</code></td>
<td>A manipulable list of all class names</td>
<td><code>div.classList.add(&quot;active&quot;)</code></td>
</tr>
<tr>
<td><code>attributes</code></td>
<td>A <code>NamedNodeMap</code> containing all attributes</td>
<td><code>div.attributes[&quot;id&quot;].value</code></td>
</tr>
<tr>
<td><code>getAttribute()</code> &#x2F; <code>setAttribute()</code></td>
<td>Read or modify an attribute</td>
<td><code>div.getAttribute(&quot;id&quot;)</code></td>
</tr>
<tr>
<td><code>hasAttribute()</code> &#x2F; <code>removeAttribute()</code></td>
<td>Check for or remove an attribute</td>
<td><code>div.removeAttribute(&quot;hidden&quot;)</code></td>
</tr>
<tr>
<td><code>innerHTML</code></td>
<td>Returns the HTML content inside the element</td>
<td><code>div.innerHTML</code></td>
</tr>
<tr>
<td><code>outerHTML</code></td>
<td>Returns HTML including the element itself</td>
<td><code>div.outerHTML</code></td>
</tr>
<tr>
<td><code>style</code></td>
<td>Inline style object (<code>CSSStyleDeclaration</code>)</td>
<td><code>div.style.backgroundColor = &quot;red&quot;</code></td>
</tr>
<tr>
<td><code>dataset</code></td>
<td>Access custom <code>data-*</code> attributes</td>
<td><code>&lt;div data-info=&quot;hello&quot;&gt; → div.dataset.info</code></td>
</tr>
<tr>
<td><code>clientWidth</code> &#x2F; <code>offsetHeight</code></td>
<td>Element size information</td>
<td><code>div.clientHeight</code></td>
</tr>
</tbody></table>
<p>and since there are many types of HTML elements, some element may have special properties:</p>
<table>
<thead>
<tr>
<th>Property &#x2F; Method</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody><tr>
<td><code>hidden</code></td>
<td>Whether the element is hidden (equivalent to <code>display: none</code>)</td>
<td><code>div.hidden = true</code></td>
</tr>
<tr>
<td><code>tabIndex</code></td>
<td>Keyboard tab order index</td>
<td><code>button.tabIndex = 1</code></td>
</tr>
<tr>
<td><code>click()</code></td>
<td>Simulate a mouse click</td>
<td><code>button.click()</code></td>
</tr>
<tr>
<td><code>focus()</code> &#x2F; <code>blur()</code></td>
<td>Control focus state</td>
<td><code>input.focus()</code></td>
</tr>
</tbody></table>
<blockquote>
<p><code>style</code>: the <code>element.style</code> can return the inline CSS style, like <code>element.style.color</code>. If the requested style is from external .css file, nothing will be returned.</p>
<p>Therefore, when we are not trying to change the css styles, we often use <code>element.getComputedStyle()</code>. </p>
<p>eg. <code>element.getComputedStyle().color</code></p>
</blockquote>
<h3 id="Create-select-and-delete-DOM-element"><a href="#Create-select-and-delete-DOM-element" class="headerlink" title="Create, select and delete DOM element"></a>Create, select and delete DOM element</h3><h4 id="Select"><a href="#Select" class="headerlink" title="Select"></a>Select</h4><ul>
<li><code>document.getElementById()</code></li>
<li><code>document.getElementByClassName()</code></li>
<li><code>document.getElementByTag()</code></li>
<li><code>document.querySelector()</code></li>
<li><code>document.querySelectorAll()</code></li>
</ul>
<h4 id="Create"><a href="#Create" class="headerlink" title="Create"></a>Create</h4><p>First we create the node using <code>document.createElement()</code>, then we insert it using:</p>
<ul>
<li><code>element.appendChild(node)</code>:	Adds a child element at the end</li>
<li><code>element.prepend(node)</code>:	Adds a child element at the beginning</li>
<li><code>element.before(node)</code>:	Inserts a new node before an element</li>
<li><code>element.after(node)</code>:	Inserts a new node after an element</li>
<li><code>element.insertAdjacentHTML(position, html)</code>:	Inserts HTML at specific positions (<code>beforebegin</code>, <code>afterbegin</code>, <code>beforeend</code>, <code>afterend</code>)</li>
</ul>
<p>We can also substitute the HTML elements inside&#x2F;outside the selected element, but it is not recommended.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="property">innerHTML</span> = <span class="string">&quot;&lt;p&gt;Hello World&lt;/p&gt;&quot;</span></span><br><span class="line"><span class="comment">// substitutes everything inside the element</span></span><br><span class="line"></span><br><span class="line">element.<span class="property">outerHTML</span> = <span class="string">&quot;&lt;div&gt;&lt;/div&gt;&quot;</span></span><br><span class="line"><span class="comment">//substitutes the element itself</span></span><br></pre></td></tr></table></figure>

<h4 id="Removing"><a href="#Removing" class="headerlink" title="Removing"></a>Removing</h4><ul>
<li><code>element.remove()</code>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> element = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#box&quot;</span>);</span><br><span class="line">element.<span class="title function_">remove</span>(); <span class="comment">// deletes itself from DOM</span></span><br></pre></td></tr></table></figure></li>
<li><code>element.removeChild(child)</code>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> parent = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#container&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> child = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#box&quot;</span>);</span><br><span class="line">parent.<span class="title function_">removeChild</span>(child);</span><br></pre></td></tr></table></figure></li>
<li><code>element.replaceChild(newElement, oldElement)</code>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> newEl = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> oldEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#old&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">replaceChild</span>(newEl, oldEl);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Event-and-Event-listeners"><a href="#Event-and-Event-listeners" class="headerlink" title="Event and Event listeners"></a>Event and Event listeners</h2><h3 id="Event"><a href="#Event" class="headerlink" title="Event"></a>Event</h3><p>An event in JavaScript is a signal that something has happened — usually triggered by user interaction or by the browser itself.</p>
<p>When an event occurs, the browser creates an Event object,<br>and sends it to any event listeners that are watching for that type of event.</p>
<p>There are many types of events:</p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Common Events</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>️ Mouse Events</td>
<td><code>click</code>, <code>dblclick</code>, <code>mousedown</code>, <code>mouseup</code>, <code>mousemove</code>, <code>mouseenter</code>, <code>mouseleave</code>, <code>contextmenu</code></td>
<td>Fired by mouse actions</td>
</tr>
<tr>
<td>Keyboard Events</td>
<td><code>keydown</code>, <code>keypress</code>, <code>keyup</code></td>
<td>Triggered when keys are pressed or released</td>
</tr>
<tr>
<td>Form Events</td>
<td><code>submit</code>, <code>change</code>, <code>focus</code>, <code>blur</code>, <code>input</code>, <code>reset</code></td>
<td>Related to form fields</td>
</tr>
<tr>
<td>Window &#x2F; Document Events</td>
<td><code>load</code>, <code>resize</code>, <code>scroll</code>, <code>unload</code>, <code>beforeunload</code>, <code>DOMContentLoaded</code></td>
<td>Fired on global page actions</td>
</tr>
<tr>
<td>Clipboard Events</td>
<td><code>copy</code>, <code>cut</code>, <code>paste</code></td>
<td>Interactions with the clipboard</td>
</tr>
<tr>
<td>Drag &amp; Drop Events</td>
<td><code>dragstart</code>, <code>drag</code>, <code>dragover</code>, <code>drop</code>, <code>dragend</code></td>
<td>For dragging elements</td>
</tr>
<tr>
<td>Touch Events (Mobile)</td>
<td><code>touchstart</code>, <code>touchmove</code>, <code>touchend</code>, <code>touchcancel</code></td>
<td>For touch screens</td>
</tr>
<tr>
<td>Focus Events</td>
<td><code>focus</code>, <code>blur</code>, <code>focusin</code>, <code>focusout</code></td>
<td>When elements gain or lose focus</td>
</tr>
<tr>
<td>Media Events</td>
<td><code>play</code>, <code>pause</code>, <code>ended</code>, <code>volumechange</code>, <code>timeupdate</code></td>
<td>For <code>&lt;audio&gt;</code> and <code>&lt;video&gt;</code> elements</td>
</tr>
<tr>
<td>Animation &#x2F; Transition</td>
<td><code>animationstart</code>, <code>animationend</code>, <code>transitionend</code></td>
<td>CSS animations and transitions</td>
</tr>
<tr>
<td>Network &#x2F; Resource</td>
<td><code>error</code>, <code>abort</code>, <code>load</code></td>
<td>Image loading and fetch requests</td>
</tr>
<tr>
<td>Custom Events</td>
<td>Created with <code>new CustomEvent()</code></td>
<td>User-defined events</td>
</tr>
</tbody></table>
<h3 id="Event-Propagation"><a href="#Event-Propagation" class="headerlink" title="Event Propagation"></a>Event Propagation</h3><p>Usually when we trigger an event, there are three phase before the event is finished:</p>
<ul>
<li><strong>Capture Phase</strong>: the event object is created at the root, which is the <code>document</code> object, and then travels through the DOM tree to reach the target element, passing through all its parent elements.</li>
<li><strong>Target Phase</strong>: the event reaches the target and triggers event listeners.</li>
<li><strong>Bubble Phase</strong>: the event travels back to the root, passing all parent elements again.</li>
</ul>
<p>In the Capture and Bubble phase, while traversing all parent elements, it is like the event is also triggered for each parent node. </p>
<blockquote>
<p>A very good way to trace the capture and bubbling is using <code>event.currentTarget</code>.</p>
<ul>
<li><code>event.target</code> returns the element that triggers the event.</li>
<li><code>event.currentTarget</code> returns the element where the event is currently being handled.</li>
</ul>
</blockquote>
<p>However, when we use event listeners to “listen” to an event, the event usually goes through the bubble phase not the capture phase. That is because by default, event listeners neglect the capture phase.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;&#125;, <span class="literal">true</span>);</span><br></pre></td></tr></table></figure>
<p>But we can still listen to the capture phase if we manually set the third parameter as <code>true</code>.</p>
<h4 id="Stop-Bubbling"><a href="#Stop-Bubbling" class="headerlink" title="Stop Bubbling"></a>Stop Bubbling</h4><p>Bubbling can be very useful, but sometimes we only want the event to stay at its target. We can manually stop the bubbling using:</p>
<ul>
<li><code>event.stopPropagation()</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">    event.<span class="title function_">stopPropagation</span>();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li><code>event.stopImmediatePropagation()</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  event.<span class="title function_">stopImmediatePropagation</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
Note that this not only stops propagation, but also prevents other event listeners on the target.</li>
</ul>
<h3 id="Event-Delegation"><a href="#Event-Delegation" class="headerlink" title="Event Delegation"></a>Event Delegation</h3><p>Sometimes we want to add event listeners to multiple objects, like every <code>&lt;li&gt;</code> item in a list. If the number of the list items get too big, we may effectively add too many event listeners, which could severely impact the performance.</p>
<p>Using event delegation, we can use one listener to monitor multiple similar events.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;list&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (e.<span class="property">target</span>.<span class="property">tagName</span> === <span class="string">&#x27;LI&#x27;</span>) &#123;</span><br><span class="line">    e.<span class="property">target</span>.<span class="property">classList</span>.<span class="title function_">toggle</span>(<span class="string">&#x27;selected&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>So the basic steps are:</p>
<ul>
<li>Attach the event listener to the common parent.</li>
<li>Determine which element originated the event. </li>
<li>Attach matching strategy.</li>
</ul>
<blockquote>
<p><strong>Why is this possible?</strong></p>
<p>Because when we click on the list items, the click event spreads from the item and bubbles up to its parent, the list. </p>
<p>When the event listener in the list captures the event, we can trace the original target that triggers the event, that is the list item, using <code>event.target</code></p>
<p>Remember that <code>event.target</code> points to the most specific element in the DOM tree that triggers the event.</p>
</blockquote>
<h3 id="Traversing-the-DOM"><a href="#Traversing-the-DOM" class="headerlink" title="Traversing the DOM"></a>Traversing the DOM</h3><ul>
<li><p>Going downwards: child</p>
<ul>
<li><code>querySelectorAll()</code> and <code>querySelector</code></li>
<li><code>childNodes</code>: get every DOM node within the element, including comments and text nodes.</li>
<li><code>children</code>: get every DOM node that is an element, not including comments and text nodes</li>
<li><code>firstElementChild</code> and <code>lastElementChild</code>: get the first&#x2F;last element within the target.</li>
</ul>
</li>
<li><p>Going upwards: parent</p>
<ul>
<li><code>parentNode</code>: returns the parent node, sometimes might be <code>document</code></li>
<li><code>parentElement</code>: returns the parent element, if the parent is not an element(<code>document</code>) returns null.</li>
<li><code>closest(&quot;cssSelector&quot;)</code>: get the closest parent element that can be selected using css selector, including the element itself.</li>
</ul>
</li>
<li><p>Going sideways: siblings</p>
<ul>
<li><code>previousSibling</code> &#x2F; <code>nextSibling</code>: get the previous&#x2F;next node, including text nodes and comments</li>
<li><code>previousElementSibling</code> &#x2F; <code>nextElementSibling</code>: get the previous&#x2F;next element node.</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>Bubbling and <code>closest</code></strong></p>
<p>When using event deligation, the <code>event.target</code> may not always work as we want it to be:</p>
<p>Like when the user clicks a <code>&lt;div class=&quot;list-item&gt;</code>, there might be a <code>span</code> inside it. If the user click the <code>span</code>, the result of <code>event.target</code> would be <code>span</code> instead of the <code>div</code>.</p>
<p>If we still want to get the <code>div</code>, we could use:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event.<span class="property">target</span>.<span class="title function_">closest</span>(<span class="string">&quot;.list-item&quot;</span>);</span><br></pre></td></tr></table></figure></blockquote>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/frontend/">frontend</a><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a><a class="post-meta__tags" href="/tags/javascript/">javascript</a><a class="post-meta__tags" href="/tags/English/">English</a></div><div class="post-share"><div class="social-share" data-image="/img/post-bg4.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/10/21/All%20%20about%20scrolling%20-%20%E6%B5%8F%E8%A7%88%E5%99%A8%E6%BB%9A%E5%8A%A8/" title="浏览器滚动scrolling"><img class="cover" src="/img/post-bg1.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">浏览器滚动scrolling</div></div><div class="info-2"><div class="info-item-1">一、全局滚动属性（window 级别）这些属性用于 获取或控制整个页面的滚动状态。    属性&#x2F;方法 作用 示例    window.scrollX 页面水平滚动距离（单位 px） console.log(scrollX)   window.scrollY 页面垂直滚动距离（单位 px） console.log(scrollY)   window.pageXOffset 同 scrollX（旧写法） ✅ 向后兼容   window.pageYOffset 同 scrollY（旧写法） ✅ 向后兼容   window.scrollTo(x, y) 跳转到页面指定位置 window.scrollTo(0, 0)   window.scrollBy(x, y) 相对当前位置滚动 window.scrollBy(0, 500)   window.scroll() 等价于 scrollTo()（支持对象参数） window.scroll(&#123; top: 500, behavior: &#39;smooth&#39;...</div></div></div></a><a class="pagination-related" href="/2025/11/04/Using%20Intersection%20Observer/" title="Intersection Observer API"><img class="cover" src="/img/post-bg3.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Intersection Observer API</div></div><div class="info-2"><div class="info-item-1">The Intersection Observer LiteralCreating a new Intersection Observer using constructor: 1const observer = new IntersectionObserver(callback, options);  callback: The function to be called whenever the target enter&#x2F;leave the intersection area. options: An object that controls the condition of triggering the callback function.  options ObjectThe option object looks like this: 12345const option = &#123;    root: null,    rootMargin: &quot;0px&quot;,    thereshold: [0, 0.1]&#125;  root:...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/11/16/Asynchronous%20Javascript/" title="Asynchronous Javascript"><img class="cover" src="/img/post-bg4.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-16</div><div class="info-item-2">Asynchronous Javascript</div></div><div class="info-2"><div class="info-item-1">Asynchronous JSJS has only one thread, so it cannot handle multiple tasks at the same time. But thanks to the non-blocking behaviour, we can carry on to the next task before the last task is finished, this is Asynchronous Javascript. HTTP&#x2F;HTTPSWhen making communication with a server, we use HTTP&#x2F;HTTPS requests. What happens when we make an HTTP&#x2F;HTTPS request:  Parse URL and check cache: to make a request we need to know the url of the server, so we need to parse the...</div></div></div></a><a class="pagination-related" href="/2025/10/12/Falsy%20and%20Truthy%20in%20JS/" title="Falsy and Truthy in JS"><img class="cover" src="/img/post-bg4.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-12</div><div class="info-item-2">Falsy and Truthy in JS</div></div><div class="info-2"><div class="info-item-1">Difference between == and ===In a word, == tries to covert the two values to the same type, and then compare its value. 1&quot;10&quot; == 10; //true  But === requires the two values to have the same value and the same type: 12&quot;10&quot; === 10; //false&quot;10&quot; === &quot;10&quot;; //true  == is not so safe to use, so we usually use === or !==.  How to determine if a value is true or falseIn JS, whenever we need to transfer a value into a boolean, the value will be determined as...</div></div></div></a><a class="pagination-related" href="/2025/10/09/Javascript%20Engine/" title="Javascript Engine"><img class="cover" src="/img/post-bg2.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-09</div><div class="info-item-2">Javascript Engine</div></div><div class="info-2"><div class="info-item-1">Javascript overview High-level: As a high level language, unlike C language, js arranges garbage collection and memory allocation for us. Just-in-time compiled:  Multi-paradigm: JS supports procedural, object-oriented and functional programming, unlike C which does not support OOP(object-oriented programming), making JS more flexible and versatile. Single threaded with non-blocking event loop: enables concurrency, which is handling multiple tasks at the same time.   Compiled language vs...</div></div></div></a><a class="pagination-related" href="/2025/09/02/Javascript%20Fundamentals/" title="Javascript Fundamentals"><img class="cover" src="/img/post-bg1.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-02</div><div class="info-item-2">Javascript Fundamentals</div></div><div class="info-2"><div class="info-item-1">Primitive types string number bigInt boolean  undefined null symbol   NumbersIn JS, numbers are always 64-bit Floating Point!! Therefor precision exist to avoid overflow:  Integer precision: int are accurate within the scope (Number.MAX_SAFE_INTEGER, Number.MIN_SAFE_INTEGER) Floating-point imprecision: Because numbers are binary floats, decimals like 0.1 cannot be represented accurately. So float point arithmetic is not always precise.1console.log(0.1 + 0.2 === 0.3)//false So how to fix...</div></div></div></a><a class="pagination-related" href="/2025/10/12/Spread%20and%20Rest%20Operator/" title="Spread and Rest Operator - ES6"><img class="cover" src="/img/post-bg1.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-12</div><div class="info-item-2">Spread and Rest Operator - ES6</div></div><div class="info-2"><div class="info-item-1">ES6 Spread and Rest (...)The three dots ... in JavaScript can represent two different concepts:  Spread Operator – expands data Rest Pattern &#x2F; Rest Parameters – gathers data  They look identical but behave in opposite directions depending on where they’re used.  Concept Overview   Feature Purpose Context    Spread (...) Expands an iterable into individual elements When passing or copying data   Rest (...) Collects multiple elements into one array&#x2F;object When receiving or...</div></div></div></a><a class="pagination-related" href="/2025/11/11/OOP%20in%20Javascript/" title="Object Oriented Programming in JS"><img class="cover" src="/img/post-bg1.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-11</div><div class="info-item-2">Object Oriented Programming in JS</div></div><div class="info-2"><div class="info-item-1">PrototypeIn classic Object Oriented Programming, we have class as templates and objects are instantiated from classes. In Javascript, oop is different. In js, we have such things called prototype. We can create objects and delegate them to the linked prototype. prototype contains methods that are accessible to all objects that are linked to it, just like class methods in classes. prototype itself is an object, it usually has this structure: 1234A.prototype = &#123;  constructor: A, ...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/favicon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Emulisy</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Emulisy"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Emulisy" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:ianzhang2088979637@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">我的避风港——存储了我的技术博客，读书笔记还有杂谈等~</div></div><div class="card-widget visitor-location-map" id="visitor-location-map"><div class="item-headline"><i class="fas fa-map-marker-alt"></i><span>Your Location</span></div><div class="item-content"><div id="location-container" style="width: 100%; display: flex; flex-direction: column; padding: 10px;">
  <div id="map-display" style="margin-bottom: 10px; min-height: 150px; background: #f0f0f0; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
    <i class="fas fa-spinner fa-spin"></i>
  </div>
  <div id="location-text" style="font-size: 14px; font-weight: bold;">Locating...</div>
  <div id="location-detail" style="font-size: 12px; color: #888; margin-top: 5px;"></div>
</div>
<script>
  function updateVisitorMap() {
    fetch('https://ipwho.is/')
      .then(res => res.json())
      .then(data => {
        if (!data.success) throw new Error();

        const textEl = document.getElementById('location-text');
        const detailEl = document.getElementById('location-detail');
        const mapEl = document.getElementById('map-display');

        const { country, region, city, latitude, longitude, country_code } = data;

        const mapUrl = `https://static-maps.yandex.ru/1.x/?lang=en-US&ll=${longitude},${latitude}&z=4&l=map&size=250,180&pt=${longitude},${latitude},pm2rdm`;

        mapEl.innerHTML = `<img src="${mapUrl}" style="border-radius:12px; width:100%; height:auto; box-shadow: 0 4px 8px rgba(0,0,0,0.1); transition: all 0.3s;">`;

        if (country_code === 'CN') {
          textEl.innerHTML = `欢迎来自 ${region} 的朋友`;
          detailEl.innerHTML = `${city} · 中国`;
        } else {
          textEl.innerHTML = `Welcome, friend from ${country}`;
          detailEl.innerHTML = `${region} · ${city}`;
        }
      })
      .catch(() => {
        document.getElementById('location-text').innerHTML = "Can't find your location, but welcome to my blog!";
      });
  }
  window.addEventListener('load', updateVisitorMap);
</script>
</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#The-DOM-API"><span class="toc-number">1.</span> <span class="toc-text">The DOM API</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOM-Node"><span class="toc-number">2.</span> <span class="toc-text">DOM Node</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Element-node"><span class="toc-number">2.1.</span> <span class="toc-text">Element node</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-select-and-delete-DOM-element"><span class="toc-number">2.2.</span> <span class="toc-text">Create, select and delete DOM element</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Select"><span class="toc-number">2.2.1.</span> <span class="toc-text">Select</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Create"><span class="toc-number">2.2.2.</span> <span class="toc-text">Create</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Removing"><span class="toc-number">2.2.3.</span> <span class="toc-text">Removing</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Event-and-Event-listeners"><span class="toc-number">3.</span> <span class="toc-text">Event and Event listeners</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Event"><span class="toc-number">3.1.</span> <span class="toc-text">Event</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Event-Propagation"><span class="toc-number">3.2.</span> <span class="toc-text">Event Propagation</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Stop-Bubbling"><span class="toc-number">3.2.1.</span> <span class="toc-text">Stop Bubbling</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Event-Delegation"><span class="toc-number">3.3.</span> <span class="toc-text">Event Delegation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Traversing-the-DOM"><span class="toc-number">3.4.</span> <span class="toc-text">Traversing the DOM</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2026/01/13/Ethereum%20-%20basic%20concepts/" title="Ethereum - basic concepts"><img src="/img/post-bg2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Ethereum - basic concepts"/></a><div class="content"><a class="title" href="/2026/01/13/Ethereum%20-%20basic%20concepts/" title="Ethereum - basic concepts">Ethereum - basic concepts</a><time datetime="2026-01-13T12:40:51.000Z" title="发表于 2026-01-13 20:40:51">2026-01-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/12/BlockChain%20-%20basic%20concepts/" title="Blcokchain - Basic Concepts"><img src="/img/post-bg3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Blcokchain - Basic Concepts"/></a><div class="content"><a class="title" href="/2026/01/12/BlockChain%20-%20basic%20concepts/" title="Blcokchain - Basic Concepts">Blcokchain - Basic Concepts</a><time datetime="2026-01-12T09:38:41.000Z" title="发表于 2026-01-12 17:38:41">2026-01-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/16/Asynchronous%20Javascript/" title="Asynchronous Javascript"><img src="/img/post-bg4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Asynchronous Javascript"/></a><div class="content"><a class="title" href="/2025/11/16/Asynchronous%20Javascript/" title="Asynchronous Javascript">Asynchronous Javascript</a><time datetime="2025-11-16T06:02:08.000Z" title="发表于 2025-11-16 14:02:08">2025-11-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/11/OOP%20in%20Javascript/" title="Object Oriented Programming in JS"><img src="/img/post-bg1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Object Oriented Programming in JS"/></a><div class="content"><a class="title" href="/2025/11/11/OOP%20in%20Javascript/" title="Object Oriented Programming in JS">Object Oriented Programming in JS</a><time datetime="2025-11-11T01:32:21.000Z" title="发表于 2025-11-11 09:32:21">2025-11-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/06/Hexo%20Butterfly%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%A0%E8%BD%BD%E9%A1%B5%E9%9D%A2/" title="在Hexo Butterfly 里添加自定义加载页面"><img src="/img/post-bg2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在Hexo Butterfly 里添加自定义加载页面"/></a><div class="content"><a class="title" href="/2025/11/06/Hexo%20Butterfly%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%A0%E8%BD%BD%E9%A1%B5%E9%9D%A2/" title="在Hexo Butterfly 里添加自定义加载页面">在Hexo Butterfly 里添加自定义加载页面</a><time datetime="2025-11-06T13:13:46.000Z" title="发表于 2025-11-06 21:13:46">2025-11-06</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent;"><div id="footer-wrap"><div class="copyright">&copy;2025 - 2026 By Emulisy</div><div class="footer_custom_text"><p style="font-size: 20px; font-family: sans-serif;">
  我永远喜欢水上由岐~
</p> <p style="text-align: center;">
  <a target="_blank" href="https://hexo.io/">
    <img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为Hexo">
  </a>&nbsp;
  <a target="_blank" href="https://butterfly.js.org/">
    <img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用Butterfly">
  </a>
</p>
</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = {"mapping":"url","strict":0,"reactions_enabled":1,"emit_metadata":0,"input_position":"bottom","lang":"en"}

  const getGiscusTheme = theme => theme === 'dark' ? 'dark' : 'light'

  const createScriptElement = config => {
    const ele = document.createElement('script')
    Object.entries(config).forEach(([key, value]) => {
      ele.setAttribute(key, value)
    })
    return ele
  }

  const loadGiscus = (el = document, key) => {
    const mappingConfig = isShuoshuo
      ? { 'data-mapping': 'specific', 'data-term': key }
      : { 'data-mapping': (option && option['data-mapping']) || 'pathname' }

    const giscusConfig = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'Emulisy/Emulisy.github.io',
      'data-repo-id': 'R_kgDOPAbCig',
      'data-category-id': 'DIC_kwDOPAbCis4C05wb',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true,
      ...option,
      ...mappingConfig
    }

    const scriptElement = createScriptElement(giscusConfig)

    el.querySelector('#giscus-wrap').appendChild(scriptElement)

    if (isShuoshuo) {
      window.shuoshuoComment.destroyGiscus = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }
  }

  const changeGiscusTheme = theme => {
    const iframe = document.querySelector('#giscus-wrap iframe')
    if (iframe) {
      const message = {
        giscus: {
          setConfig: {
            theme: getGiscusTheme(theme)
          }
        }
      }
      iframe.contentWindow.postMessage(message, 'https://giscus.app')
    }
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if (isShuoshuo) {
    'Giscus' === 'Giscus'
      ? window.shuoshuoComment = { loadComment: loadGiscus }
      : window.loadOtherComment = loadGiscus
    return
  }

  if ('Giscus' === 'Giscus' || !false) {
    if (false) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment = loadGiscus
  }
})()</script></div><script src="/scripts/quote.js"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="true" data-text="D'où venons-nous ?,Que sommes-nous ?,Où allons-nous ?" data-fontsize="15px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for an article~" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>