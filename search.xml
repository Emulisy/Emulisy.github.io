<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Blcokchain - Basic Concepts</title>
      <link href="/2026/01/12/BlockChain%20-%20basic%20concepts/"/>
      <url>/2026/01/12/BlockChain%20-%20basic%20concepts/</url>
      
        <content type="html"><![CDATA[<h1 id="Blockchain-Basics"><a href="#Blockchain-Basics" class="headerlink" title="Blockchain Basics"></a>Blockchain Basics</h1><h2 id="1-What-is-Blockchain"><a href="#1-What-is-Blockchain" class="headerlink" title="1. What is Blockchain?"></a>1. What is Blockchain?</h2><p>Blockchain is a decentralized, distributed ledger technology used to record information securely, transparently, and immutably across multiple participants. It consists of a series of chronologically linked “blocks,” each containing transaction data and the hash of the previous block, ensuring the integrity of the chain.</p><h3 id="Key-Features-of-Blockchain"><a href="#Key-Features-of-Blockchain" class="headerlink" title="Key Features of Blockchain"></a>Key Features of Blockchain</h3><ul><li><strong>Immutable</strong>: Once data is written to the chain, it is nearly impossible to alter</li><li><strong>Transparent</strong>: Transactions on the chain are visible to everyone</li><li><strong>Decentralized</strong>: No central authority; the network is maintained by multiple nodes</li><li><strong>Fast Settlement</strong>: Cross-border transactions can be confirmed quickly without banks</li></ul><p>Nodes collaborate through a distributed network to maintain the ledger, improving the system’s resistance to interference and trustworthiness.</p><h2 id="2-Bitcoin-and-Blockchain"><a href="#2-Bitcoin-and-Blockchain" class="headerlink" title="2. Bitcoin and Blockchain"></a>2. Bitcoin and Blockchain</h2><p>Bitcoin is the first widely adopted application of blockchain:</p><ul><li>A cryptocurrency based on the blockchain network, incentivizing nodes with block rewards</li><li>Possesses monetary attributes like limited supply and transferability</li><li>Block time and consensus mechanisms determine network efficiency and security</li></ul><p>The handbook also addresses common issues such as price volatility, privacy, and regulatory challenges.</p><h2 id="3-Core-Components-of-Blockchain"><a href="#3-Core-Components-of-Blockchain" class="headerlink" title="3. Core Components of Blockchain"></a>3. Core Components of Blockchain</h2><p>Blockchain mainly consists of two components:</p><ol><li><strong>Decentralized Network</strong>: Many nodes maintain the ledger, each holding a full copy of the data</li><li><strong>Token Incentive Mechanism</strong>: The network rewards nodes for validating and packaging transactions, motivating network maintenance</li></ol><p>Blockchain workflow:</p><ol><li>User initiates a transaction</li><li>Transaction is broadcast to the network</li><li>Nodes validate the transaction</li><li>Validated transactions are packaged into a new block</li><li>The new block is linked to the blockchain, and the packaging node receives incentives</li><li>All nodes update their ledger</li></ol><h2 id="4-Public-Consortium-and-Private-Blockchains"><a href="#4-Public-Consortium-and-Private-Blockchains" class="headerlink" title="4. Public, Consortium, and Private Blockchains"></a>4. Public, Consortium, and Private Blockchains</h2><h3 id="Public-Blockchain"><a href="#Public-Blockchain" class="headerlink" title="Public Blockchain"></a>Public Blockchain</h3><ul><li>Fully open; anyone can join or observe</li><li>Highest decentralization, lower efficiency</li><li>Examples: Bitcoin, Ethereum</li></ul><h3 id="Consortium-Blockchain"><a href="#Consortium-Blockchain" class="headerlink" title="Consortium Blockchain"></a>Consortium Blockchain</h3><ul><li>Maintained by multiple organizations, e.g., banks sharing a ledger</li><li>Partially open permissions; balances efficiency and transparency</li></ul><h3 id="Private-Blockchain"><a href="#Private-Blockchain" class="headerlink" title="Private Blockchain"></a>Private Blockchain</h3><ul><li>Restricted to specific organizations or users, similar to internal enterprise databases</li><li>Lower decentralization but higher efficiency and privacy</li></ul><p>The main differences are participation permissions, governance, data transparency, and decentralization level.</p><h2 id="5-Web3-vs-Web2"><a href="#5-Web3-vs-Web2" class="headerlink" title="5. Web3 vs Web2"></a>5. Web3 vs Web2</h2><ul><li><strong>Web2</strong>: User data and content are controlled by centralized companies</li><li><strong>Web3</strong>: Built on blockchain, emphasizing decentralization and giving users more control and privacy</li></ul><p>Core principles of Web3:</p><ul><li>Decentralization</li><li>Open protocols</li><li>User-owned data</li><li>Trustworthy cross-platform interactions</li></ul>]]></content>
      
      
      <categories>
          
          <category> 杂谈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> Web3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Asynchronous Javascript</title>
      <link href="/2025/11/16/Asynchronous%20Javascript/"/>
      <url>/2025/11/16/Asynchronous%20Javascript/</url>
      
        <content type="html"><![CDATA[<h2 id="Asynchronous-JS"><a href="#Asynchronous-JS" class="headerlink" title="Asynchronous JS"></a>Asynchronous JS</h2><p>JS has only one thread, so it cannot handle multiple tasks at the same time. But thanks to the non-blocking behaviour, we can carry on to the next task before the last task is finished, this is Asynchronous Javascript.</p><h3 id="HTTP-HTTPS"><a href="#HTTP-HTTPS" class="headerlink" title="HTTP&#x2F;HTTPS"></a>HTTP&#x2F;HTTPS</h3><p>When making communication with a server, we use HTTP&#x2F;HTTPS requests.</p><p><strong>What happens when we make an HTTP&#x2F;HTTPS request</strong>:</p><ol><li><p>Parse URL and check cache: to make a request we need to know the url of the server, so we need to parse the URL(<code>https://example.com:443/path?query=foo#hash </code>) into:</p><ul><li><p>protocol: https&#x2F;http</p></li><li><p>host: example.com</p></li><li><p>port: 443 (default for HTTPS) or 80 (default for HTTP)</p></li><li><p>path: &#x2F;path</p></li><li><p>query string: ?query&#x3D;foo</p></li></ul></li><li><p>DNS(Domain Name System) lookup: using DNS to get the server’s ip address.</p></li><li><p>TCP and three-way handshake: SYN SYN-ACK ACK</p></li><li><p>TLS handshake(optional): for HTTPS only, to encrypt the request. </p></li><li><p><strong>Send request</strong></p></li><li><p><strong>Server receive and process request</strong></p></li><li><p><strong>Server return a response to be parsed by browser</strong></p></li></ol><p>The key here is to send and receive the HTTP&#x2F;HTTPS request via the browser. </p><p><strong>So what is inside the request and the server’s response?</strong></p><blockquote><p><strong>Differ domain. ip address and URL</strong>:</p><ul><li>IP Address: The real numeric address of the server</li><li>Domain: The human-readable name mapped to an ip address. The mapping is stored in DNS server.</li><li>URL(Uniform Resource Locator): The complete address including protocol, domain, path, etc.</li></ul></blockquote><h3 id="HTTP-Request"><a href="#HTTP-Request" class="headerlink" title="HTTP Request"></a>HTTP Request</h3><p>Inside the HTTP request we have:</p><ul><li><p><strong>Request Line: This is the first line of the request, including:</strong></p><ul><li>Request Method: GET&#x2F;POST&#x2F;DELETE&#x2F;PATCH&#x2F;PUT&#x2F;…</li><li>Path&#x2F;URL</li><li>Version: HTTP&#x2F;HTTPS version</li></ul><p>eg: <code>GET /search?q=monash HTTP/1.1</code></p></li><li><p><strong>Request Headers: give the server context and metadata. Common headers are:</strong></p><ul><li>Host: tell the server which domain you want to search, as most server hosts multiple domains.</li><li>User-agent: Give information on your browser, your operating system, etc.</li><li>Accept: Tells the server what format your browser is willing to accept. Like JSON&#x2F;image&#x2F;HTML&#x2F;…</li><li>Authorization: Provide information on who you are. Like API keys.</li></ul></li><li><p><strong>Request Body: Optional. Usually PUT&#x2F;POST&#x2F;PATCH requests have request body.</strong></p><ul><li>It may contain form data, JSON files or other file uploads.</li></ul></li></ul><h3 id="HTTP-Response"><a href="#HTTP-Response" class="headerlink" title="HTTP Response"></a>HTTP Response</h3><p>A HTTP Response is usually consists of:</p><ul><li><strong>Status line</strong>: <code>HTTP/1.1 200 OK</code> containing:<ul><li>HTTP&#x2F;HTTPS Version</li><li>Status Code: Success&#x2F;Redirect&#x2F;Server Error&#x2F;Client Error</li><li>Status Text: human-readable text, Like <code>200 OK</code></li></ul></li></ul><blockquote><h3 id="Status-Codes"><a href="#Status-Codes" class="headerlink" title="Status Codes:"></a>Status Codes:</h3><p><strong>2xx — Success</strong></p><table><thead><tr><th>Code</th><th>Meaning</th></tr></thead><tbody><tr><td>200 OK</td><td>Standard success</td></tr><tr><td>201 Created</td><td>New resource created (POST)</td></tr><tr><td>204 No Content</td><td>Success, but no body</td></tr></tbody></table><p><strong>3xx — Redirects</strong></p><table><thead><tr><th>Code</th><th>Meaning</th></tr></thead><tbody><tr><td>301 Moved Permanently</td><td>Permanent redirect</td></tr><tr><td>302 Found</td><td>Temporary redirect</td></tr><tr><td>304 Not Modified</td><td>Browser can use cache</td></tr></tbody></table><hr><p><strong>4xx — Client Errors</strong></p><table><thead><tr><th>Code</th><th>Meaning</th></tr></thead><tbody><tr><td>400 Bad Request</td><td>Invalid request (wrong syntax)</td></tr><tr><td>401 Unauthorized</td><td>Need login token</td></tr><tr><td>403 Forbidden</td><td>You are not allowed</td></tr><tr><td>404 Not Found</td><td>Page doesn’t exist</td></tr><tr><td>429 Too Many Requests</td><td>Rate limit</td></tr></tbody></table><hr><p><strong>5xx — Server Errors</strong></p><table><thead><tr><th>Code</th><th>Meaning</th></tr></thead><tbody><tr><td>500 Internal Server Error</td><td>Server crashed</td></tr><tr><td>502 Bad Gateway</td><td>Reverse proxy problem</td></tr><tr><td>503 Service Unavailable</td><td>Server temporarily down</td></tr><tr><td>504 Gateway Timeout</td><td>Upstream server took too long</td></tr></tbody></table></blockquote><ul><li><strong>Response Headers: Headers give metadata about the response, including content information, cache control, authentication, etc.</strong></li><li><strong>Response Body</strong>: Optional. contains real content, including file response, JSON API response, or empty response for <code>204 No Content</code></li></ul><h2 id="AJAX-Asynchronous-JS-and-XML"><a href="#AJAX-Asynchronous-JS-and-XML" class="headerlink" title="AJAX (Asynchronous JS and XML)"></a>AJAX (Asynchronous JS and XML)</h2><p><strong>AJAX is a technique that allows a webpage to request data from a server without reloading the entire page.</strong></p><p>It lets websites update only part of the page (like search suggestions, comments, likes) while the rest stays the same.</p><p>For now, the most used AJAX technique to communicate with servers is XHR(XMLHttpRequest) and Fetch API.</p><h3 id="Using-XHR"><a href="#Using-XHR" class="headerlink" title="Using XHR"></a>Using XHR</h3><p><strong>Steps:</strong></p><ol><li>Create XHR object<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br></pre></td></tr></table></figure></li><li>Set up the request <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xhr.<span class="title function_">open</span>(method, url)</span><br></pre></td></tr></table></figure></li><li>Listen for load event <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">xhr.<span class="title function_">addEventListener</span>(<span class="string">&quot;load&quot;</span>, <span class="function">()=&gt;</span>&#123;&#125;);</span><br><span class="line"><span class="comment">//or</span></span><br><span class="line">xhr.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.<span class="property">status</span> === <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Response:&quot;</span>, xhr.<span class="property">responseText</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Request failed:&quot;</span>, xhr.<span class="property">status</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li>Send the request <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xhr.<span class="title function_">send</span>()</span><br></pre></td></tr></table></figure> If using POST request to send data <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xhr.<span class="title function_">send</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;<span class="attr">data</span>: <span class="string">&quot;data&quot;</span>&#125;))</span><br></pre></td></tr></table></figure></li></ol><blockquote><p><strong>Useful properties</strong>:</p><ul><li><code>xhr.response</code>:could be JSON or other file types</li><li><code>xhr.status</code>: the response status, like 200 OK</li><li>Progress event:  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xhr.<span class="property">onprogress</span> = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Loaded: <span class="subst">$&#123;e.loaded&#125;</span> / <span class="subst">$&#123;e.total&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>Error event:  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xhr.<span class="property">onerror</span> = <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;Network error&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul></blockquote><h3 id="Callback-Hell"><a href="#Callback-Hell" class="headerlink" title="Callback Hell"></a>Callback Hell</h3><p>In real development, we may need nested callback functions, that is to use the result of the inner callback function as parameter for the outer ones. Doing so makes the code very hard to maintain and read.</p><h2 id="Promise-and-Fetch"><a href="#Promise-and-Fetch" class="headerlink" title="Promise and Fetch"></a>Promise and Fetch</h2><p>A Promise is an object that represents a value that may arrive now, later, or never. </p><p>A promise can be in three states: <code>pending</code> <code>fulfilled</code> and <code>rejected</code></p><ul><li><code>pending</code>: the promise hasn’t returned a value yet</li><li><code>fulfilled</code>: the promise returned a value</li><li><code>rejected</code>: the promise returned an error</li></ul><p>We can create a promise object manually, but usually the promises are created automatically when we are dealing with asynchronous operations, like fetch.</p><h3 id="Chaining-a-promise"><a href="#Chaining-a-promise" class="headerlink" title="Chaining a promise"></a>Chaining a promise</h3><p>We can handle the promise using <code>then</code>, <code>catch</code> and <code>finally</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">promise</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> data = response.<span class="property">json</span>;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error.<span class="property">message</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">finally</span>()</span><br></pre></td></tr></table></figure><ul><li><code>.then</code> happens when the promise is fulfilled, by default it returns a new promise. That is what enables promise chaining:</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">promise</span><br><span class="line">    .<span class="title function_">then</span>()</span><br><span class="line">    .<span class="title function_">then</span>()</span><br><span class="line">    .<span class="title function_">then</span>()</span><br><span class="line">    .<span class="title function_">catch</span>()</span><br><span class="line">    .<span class="title function_">finally</span>()</span><br></pre></td></tr></table></figure><ul><li><code>.catch</code> happens when any promise in the chain is rejected.</li><li><code>.finally</code> happens after the promise is fulfilled or rejected</li></ul><h3 id="Fetch"><a href="#Fetch" class="headerlink" title="Fetch"></a>Fetch</h3><p><code>fetch()</code> is a modern, promise-based API used to make HTTP requests (GET, POST, PUT, DELETE, etc.).</p><p>By default, a <code>fetch()</code> returns a promise.</p><p>The syntax of a fetch request is :</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(url, &#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&quot;GET&quot;</span>,           <span class="comment">// HTTP Method</span></span><br><span class="line">  <span class="attr">headers</span>: &#123;&#125;,             <span class="comment">// Optional headers</span></span><br><span class="line">  <span class="attr">body</span>: &#123;&#125;,                <span class="comment">// Body for POST/PUT</span></span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;cors&quot;</span>,            <span class="comment">// CORS</span></span><br><span class="line">  <span class="attr">credentials</span>: <span class="string">&quot;include&quot;</span>,  <span class="comment">// Cookies</span></span><br><span class="line">  <span class="attr">cache</span>: <span class="string">&quot;no-cache&quot;</span>,       <span class="comment">// Cache behavior</span></span><br><span class="line">  <span class="attr">redirect</span>: <span class="string">&quot;follow&quot;</span>       <span class="comment">// Redirect behavior</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>Doing so returns a promise, and if successful, the promise will return an http response.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(url)</span><br><span class="line">.<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(!response.<span class="property">ok</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(response.<span class="property">status</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span>(response.<span class="title function_">json</span>());</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>Note that event if the request is not successful, as long as the server returns a response, the fetch promise is fulfilled.</p><h3 id="Error-Handling"><a href="#Error-Handling" class="headerlink" title="Error Handling"></a>Error Handling</h3><p>For now, if the fetch promise is rejected, the error can be handled by <code>.catch</code>. This usually happens when the request is CORS blocked, or have no internet connections.</p><p>But receiving a failed response, like 404, is also not desirable. So we can throw an error manually when that happens:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(<span class="string">&quot;/api/data&quot;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!res.<span class="property">ok</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">`HTTP error! Status: <span class="subst">$&#123;res.status&#125;</span>`</span>); <span class="comment">//throw the error</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">json</span>();</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Success:&quot;</span>, data);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;Network or HTTP error:&quot;</span>, err);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><blockquote><p><strong>The error object</strong>: there are many ways to create an error object manually:</p><ul><li>Basic error:throw new Error(“message”)</li><li>Specific type:throw new TypeError(“msg”), there are also SyntaxError, ReferenceError, etc</li><li>Custom class:class MyError extends Error {…}</li></ul></blockquote><hr><h3 id="Async-Await"><a href="#Async-Await" class="headerlink" title="Async Await"></a>Async Await</h3><p>In the previous section, we used promise chaining to handle async operations, but now we have a more elegant way of writing it.</p><p>Syntax:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">hello</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>When we add <code>async</code> to a function, that function will automatically return a promise.<br>We can use await to get the result of the promise.</p><p>It can be used in fetch operations:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getIP</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">&quot;https://ipapi.co/json/&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> data = <span class="keyword">await</span> res.<span class="title function_">json</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">getIP</span>();</span><br></pre></td></tr></table></figure><p>We can assume that await is just like <code>.then()</code> </p><h3 id="try…catch"><a href="#try…catch" class="headerlink" title="try…catch"></a>try…catch</h3><p>In promise chaining we use <code>.catch</code> for error handling, in async-await, we also have similar feature.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">loadData</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">&quot;https://wrong-url&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> data = <span class="keyword">await</span> res.<span class="title function_">json</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;Error:&quot;</span>, err);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">loadData</span>();</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>try catch</code> is just like <code>.catch()</code> in promise chaining.</p><blockquote><p><em>Tips:</em></p><ul><li>only use await in an <code>async</code> function</li><li>await most be followed with a promise</li><li>async functions always return a promise</li><li>await doesn’t block the main thread, it only stops the current function</li></ul></blockquote><h3 id="Running-multiple-promises"><a href="#Running-multiple-promises" class="headerlink" title="Running multiple promises"></a>Running multiple promises</h3><p>If we simply use promise chaining, or async await, the promises are handled one by one. But sometimes, when the promises do not rely on each other, and the order doesn’t matter, we want to get the result of multiple promises at once.</p><ul><li><strong>Using <code>Promise.all</code></strong>:</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>([</span><br><span class="line">  <span class="title function_">fetch</span>(<span class="string">&quot;https://ipapi.co/json/&quot;</span>),</span><br><span class="line">  <span class="title function_">fetch</span>(<span class="string">&quot;https://api.github.com/users/octocat&quot;</span>),</span><br><span class="line">  <span class="title function_">fetch</span>(<span class="string">&quot;https://api.publicapis.org/entries&quot;</span>)</span><br><span class="line">]).<span class="title function_">then</span>(<span class="title function_">async</span> ([res1, res2, res3]) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> data1 = <span class="keyword">await</span> res1.<span class="title function_">json</span>();</span><br><span class="line">  <span class="keyword">const</span> data2 = <span class="keyword">await</span> res2.<span class="title function_">json</span>();</span><br><span class="line">  <span class="keyword">const</span> data3 = <span class="keyword">await</span> res3.<span class="title function_">json</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(data1, data2, data3);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>Using it, we can get the result of the three results at once. It returns an array of all promise results. </p><ul><li><strong>Using <code>Promise.allSettled()</code></strong></li></ul><p>However, if any of the promises is rejected, the <code>Promise.all</code> will be rejected as a whole. </p><p>In order to get the results even if some promises are rejected, we can use <code>Promise.allSettled()</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Promise</span>.<span class="title function_">allSettled</span>([p1, p2, p3])</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">results</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(results);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><ul><li><strong>Using <code>Promise.race()</code></strong></li></ul><p>Given an array of promises, <code>Promise.race()</code> returns the that promise that gives an result(no matter rejected or fulfilled).</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Promise</span>.<span class="title function_">race</span>([slow, fast]).<span class="title function_">then</span>(<span class="variable language_">console</span>.<span class="property">log</span>); <span class="comment">// &quot;fast&quot;</span></span><br></pre></td></tr></table></figure><ul><li><strong>Using <code>Promise.any()</code></strong></li></ul><p>Given an array of promises, <code>Promise.any()</code> returns the first fulfilled promise. If all the promises are rejected, it will return a <code>AggregateError</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="string">&quot;fail 1&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&quot;success!&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> p3 = <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="string">&quot;fail 2&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">any</span>([p1, p2, p3])</span><br><span class="line">  .<span class="title function_">then</span>(<span class="variable language_">console</span>.<span class="property">log</span>)   <span class="comment">// &quot;success!&quot;</span></span><br><span class="line">  .<span class="title function_">catch</span>(<span class="variable language_">console</span>.<span class="property">error</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h3 id="Top-level-await"><a href="#Top-level-await" class="headerlink" title="Top level await"></a>Top level await</h3><p>After ES2022, we can use <code>await</code> outside the <code>async</code> function. That is top level await. But there are restraints:</p><p><strong>Top level await can only be used in modules, this includes:</strong></p><ul><li><code>.mjs</code> file</li><li><code>js</code> files with <code>&lt;script type=&quot;module&quot;&gt;</code> or <code>&quot;type&quot;: &quot;module&quot;</code></li></ul><p>It’s usage is quite the same, following the <code>await</code> should be a promise.</p><p>Note that the top level <code>await</code> will block the module from loading. </p>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 编程 </tag>
            
            <tag> frontend </tag>
            
            <tag> 前端 </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Object Oriented Programming in JS</title>
      <link href="/2025/11/11/OOP%20in%20Javascript/"/>
      <url>/2025/11/11/OOP%20in%20Javascript/</url>
      
        <content type="html"><![CDATA[<h2 id="Prototype"><a href="#Prototype" class="headerlink" title="Prototype"></a>Prototype</h2><p>In classic Object Oriented Programming, we have <code>class</code> as templates and objects are instantiated from classes. In Javascript, oop is different.</p><p>In js, we have such things called <code>prototype</code>. We can create objects and delegate them to the linked prototype. <code>prototype</code> contains methods that are accessible to all objects that are linked to it, just like class methods in classes.</p><p><code>prototype</code> itself is an object, it usually has this structure:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A.<span class="property"><span class="keyword">prototype</span></span> = &#123;</span><br><span class="line">  <span class="attr">constructor</span>: A,</span><br><span class="line">  <span class="attr">__proto__</span>: <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>Only functions(<code>class</code> <code>function()</code>) have <code>.prototype</code>, arrow functions and other objects don’t. All objects including functions have <code>__proto__</code> property, which is linked to a <code>.prototype</code> object.</p><h3 id="Instantiation-using-new"><a href="#Instantiation-using-new" class="headerlink" title="Instantiation using new"></a>Instantiation using <code>new</code></h3><p>In js, functions have dual nature, it can be called as a ordinary function, and can also be stored and used as an object.<br>That is why functions can be used as constructors to instantiate new objects and serve as templates.</p><blockquote><p>Constructor: used to create new objects, called whenever we use <code>new</code>.</p></blockquote><p>So what happens when we use <code>new</code>:</p><ol><li>A new empty object is created <code>&#123;&#125;</code></li><li>The new objects <code>__proto__</code> points to the constructor’s prototype: <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">Person</span> = <span class="keyword">function</span>(<span class="params">name</span>)&#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">name</span> = name; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> emulisy = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;emulisy&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(emulisy.<span class="property">__proto__</span> === <span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>);   <span class="comment">//true</span></span><br></pre></td></tr></table></figure></li><li>Call the constructor with the created object.</li><li>If the constructor returns an object, return it, otherwise return the created object.</li></ol><h3 id="Rewrite-new"><a href="#Rewrite-new" class="headerlink" title="Rewrite new"></a>Rewrite <code>new</code></h3><p>Now we know how <code>new</code> works, we can create our own <code>myNew</code> function:</p><blockquote><p><code>Object.create(obj)</code> creates a new object and points its <code>__proto__</code> to the obj.</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myNew</span>(<span class="params">constructorFunc, ...args</span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> obj = <span class="title class_">Object</span>.<span class="title function_">create</span>(constructorFunc.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> result = constructorFunc.<span class="title function_">apply</span>(obj, ...args) </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (result &amp;&amp; (<span class="keyword">typeof</span> result === <span class="string">&#x27;object&#x27;</span> || <span class="keyword">typeof</span> result === <span class="string">&#x27;function&#x27;</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>The priority of this binding : <code>new</code> &gt; explicit binding (<code>apply</code>, <code>bind</code>, <code>call</code>) &gt; implicit binding (method call) &gt; default binding</p></blockquote><h3 id="Prototypal-inheritance-and-prototype-chain"><a href="#Prototypal-inheritance-and-prototype-chain" class="headerlink" title="Prototypal inheritance and prototype chain"></a>Prototypal inheritance and prototype chain</h3><p>In oop, inheritance is mostly about reusing codes from template classes. In js, all instances can reuse methods from prototypes using the prototype chain.</p><p>When we want to use a variable, we look for the variable using scope chain, that is trying to find the variable in execution contexts inside the function and outside the function. Prototype chain is very similar to the scope chain. </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayHi</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hi&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;Tom&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Assume we have a Person constructor and we created <code>p</code> from it. The prototype chain may look like this:</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">p</span><br><span class="line"> |</span><br><span class="line"> V</span><br><span class="line"><span class="string">[[Prototype]]</span>  →  Person.prototype</span><br><span class="line">                    |</span><br><span class="line">                    V</span><br><span class="line">                 <span class="string">[[Prototype]]</span> → Object.prototype</span><br><span class="line">                                        |</span><br><span class="line">                                        V</span><br><span class="line">                                     <span class="string">[[Prototype]]</span> → null</span><br></pre></td></tr></table></figure><blockquote><p><em>Tips</em>: we can get the prototype of the object using <code>obj.[[prototype]]</code> or <code>obj.__proto__</code></p><ul><li><code>[[prototype]]</code>: The actual pointer used by the JavaScript engine to build the prototype chain, cannot be directly accessed.</li><li><code>__proto__</code>: The public accessor to <code>[[prototype]]</code><br>The recommended way to access prototype is using <code>Object.getPrototypeOf()</code> and <code>Object.setPrototypeOf()</code></li></ul></blockquote><p>When an object calls methods, JS looks for the method along the prototype chain until finding it or throwing an error. The end of all prototype chain is <code>Object.prototype</code> followed by <code>null</code>.</p><p>Same happens when we use <code>instanceof</code> to determine the type of an instance:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myInstanceof</span>(<span class="params">obj, constructorFunc</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span>  constructorFunc !== <span class="string">&quot;function&quot;</span>)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&quot;Right-hand side of instanceof must be a function&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> targetProto = constructorFunc.<span class="property"><span class="keyword">prototype</span></span>; <span class="comment">//the target </span></span><br><span class="line">    <span class="keyword">let</span> checkProto = obj.<span class="property">__proto__</span>; <span class="comment">//current proto</span></span><br><span class="line">    </span><br><span class="line">   <span class="comment">//going up the proto chain</span></span><br><span class="line">    <span class="keyword">while</span>(checkProto !== <span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="comment">//if found</span></span><br><span class="line">        <span class="keyword">if</span>(checkProto === targetProto)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        checkProto = checkProto.<span class="property">__proto__</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// if not found</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>instanceof</code> basically checks if the target prototype is in the object’s prototype chain.</p><blockquote><p><code>typeof</code> can only defer primitive types and functions, like <code>typeof 1</code>. All other variables will be regarded as “object”. It has nothing to do with prototype chain.</p></blockquote><h2 id="OOP-before-ES6-Classes"><a href="#OOP-before-ES6-Classes" class="headerlink" title="OOP before ES6 Classes"></a>OOP before ES6 Classes</h2><p>As we already know, we can create an instance from a function using <code>new</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Doing so, we basically use the function as constructor, and the <code>this</code> is bind to the new object.</p><p>When we want to add methods to the instance(or class), we can:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sayHi</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hi&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>But putting the method inside the constructor would mean that each instance have its own copy of <code>sayHi</code>, which is not memory efficient.</p><p>So the recommended way to add methods before ES6 is to use Prototype inheritance:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayHi</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hi&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>When we call <code>sayHi</code> in <code>Person</code>, the js engine would look for the function along the prototype chain and find it in <code>Person.prototype</code>.</p><h2 id="OOP-after-ES6-Classes"><a href="#OOP-after-ES6-Classes" class="headerlink" title="OOP after ES6 Classes"></a>OOP after ES6 Classes</h2><p>Many of the ES6 changes are actually syntactic sugar, and does not change the underlying implementation.</p><h3 id="Class"><a href="#Class" class="headerlink" title="Class"></a><code>Class</code></h3><p>In ES6, we have the <code>Class</code> to replace the ordinary function, which makes the oop more intuitive:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hi, I&#x27;m <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Alice&quot;</span>, <span class="number">20</span>);</span><br><span class="line">p.<span class="title function_">sayHi</span>();</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><code>constructor</code>: called when using new on the class, it binds the <code>this</code> to the newly created object.<blockquote><p>when called without new, it will return an error.</p></blockquote></li><li><code>methods</code>: we no longer need to add methods using <code>Person.prototype</code>, just declaring it in the class and it will do it for us.<blockquote><p>Before ES6, methods in instances are enumerable, but we as developers expect that when we enumerate an object, we get its properties, not methods. In ES6 classes, methods are not enumerable:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Emulisy&quot;</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> p)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(key);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//we get name only, not sayHi.</span></span><br></pre></td></tr></table></figure></blockquote></li></ul><blockquote><p><code>Object.create(proto)</code> and <code>new</code>:</p><p>When creating an instance with <code>new</code>, we link the prototype and call the constructor with <code>this</code>(the new object);</p><p>But with <code>const obj = Object.create(Person.prototype)</code>, we only link the prototype, and stop the execution without calling the constructor.</p></blockquote><hr><h3 id="Getters-and-Setters"><a href="#Getters-and-Setters" class="headerlink" title="Getters and Setters"></a>Getters and Setters</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">get</span> <span class="title function_">age</span>() &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_age</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> <span class="title function_">age</span>(<span class="params">value</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (value &lt; <span class="number">0</span>) <span class="keyword">throw</span> <span class="title class_">Error</span>(<span class="string">&quot;Invalid age&quot;</span>);</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">_age</span> = value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>We use <code>get</code> and <code>set</code> to define getters and setters.  <strong>They define how we retrieve and rewrite a property</strong></p><p>They behave like ordinary properties and cannot be called with <code>()</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">person.<span class="title function_">age</span>(); <span class="comment">//error</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">age</span>); <span class="comment">//get the age property, runs getter</span></span><br><span class="line">person.<span class="property">age</span> = <span class="number">20</span>; <span class="comment">//rewrite the age property, runs setter</span></span><br></pre></td></tr></table></figure><hr><h3 id="Static-Methods"><a href="#Static-Methods" class="headerlink" title="Static Methods"></a>Static Methods</h3><p>Methods like <code>sayHi</code> are instance methods, meaning they can only be called using an instance, not the class it self:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Person</span>.<span class="title function_">sayHi</span>(); <span class="comment">//error</span></span><br><span class="line">person.<span class="title function_">sayHi</span>(); <span class="comment">// &quot;Hi&quot;</span></span><br></pre></td></tr></table></figure><p>These methods usually have access to properties, and their <code>this</code> points to the instance that calls them.</p><p>However, there are many methods that can be called without an instance, those are static&#x2F;class methods:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="title function_">hello</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>We can only call <code>hello</code> using the <code>Person</code> class - <code>Person.hello()</code>.</p><blockquote><p>Beneath the static method:</p><p>When we declare instance method, we are actually adding it to the prototype of the instance:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayHi</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hi&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>But when we declare static methods, we are adding it to the constructor function object:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Person</span>.<span class="property">hello</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The Person object have hello as a property:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Person</span>.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;hello&quot;</span>); <span class="comment">//true</span></span><br></pre></td></tr></table></figure></blockquote><h4 id="Arrow-Function"><a href="#Arrow-Function" class="headerlink" title="Arrow Function"></a>Arrow Function</h4><p>In the class body, when we use a constant to store an arrow function, this function is not stored in the prototype chain as other methods. Instead, it will be stored in the instance as a property:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">greet</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;greet&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This is because arrow functions are not this binding. So doing so is like adding a field in constructor:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">greet</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;greet&quot;</span>); <span class="comment">//this points to the instance</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="Inheritance-in-ES6-classes"><a href="#Inheritance-in-ES6-classes" class="headerlink" title="Inheritance in ES6 classes"></a>Inheritance in ES6 classes</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Parent</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hi, I&#x27;m <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">greet</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello from Parent class&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Child</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Parent</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(name); <span class="comment">// call Parent constructor</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sayAge</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`I am <span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span> years old`</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">greetChild</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello from Child class&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>1.<code>extends</code>: link the prototype chain:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Child</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span> = <span class="title class_">Parent</span>.<span class="property"><span class="keyword">prototype</span></span>;</span><br></pre></td></tr></table></figure><p>Doing so we can use instance methods and properties from parent. But we still need to inherit static methods:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Child</span>.<span class="property">__proto__</span>  = <span class="title class_">Parent</span>;</span><br></pre></td></tr></table></figure><p>Now we can use static methods from <code>Parent</code></p><p><strong>2. <code>super</code>: call the parent constructor or methods</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">super</span>(...) <span class="comment">// calls Parent constructor with `this`</span></span><br><span class="line"><span class="variable language_">super</span>.<span class="title function_">method</span>() <span class="comment">// calls Parent.prototype.method</span></span><br></pre></td></tr></table></figure><p>So when we need to rewrite the parent’s but still use logic from parent, we can call the parent methods with <code>super</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Child</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Parent</span> &#123;</span><br><span class="line">  <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>.<span class="title function_">sayHi</span>(); <span class="comment">// call Parent method</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`and I am a child`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Private-fields-and-methods"><a href="#Private-fields-and-methods" class="headerlink" title="Private fields and methods"></a>Private fields and methods</h3><p>Before ES6, if we want the field or method to be unprocessable from the outside, we need to hand-write a closure. But in ES6, we can define private fields and methods directly.</p><h4 id="Private-fields"><a href="#Private-fields" class="headerlink" title="Private fields"></a>Private fields</h4><p>Private fields must be declared with <code>#</code> :</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    #password;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">password</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.#password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">checkPassword</span>(<span class="params">input</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.#password === input;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> u = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;1234&quot;</span>);</span><br><span class="line"></span><br><span class="line">u.#password;        <span class="comment">// error</span></span><br><span class="line">u.<span class="title function_">checkPassword</span>(<span class="string">&quot;1234&quot;</span>); <span class="comment">// true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><p>It is only accessible inside the class body</p></li><li><p>It is not a property on the object, nor on the prototype. it is stored in internal slots.</p></li><li><p>It is not discoverable via reflection</p></li></ul><h4 id="Private-Methods"><a href="#Private-Methods" class="headerlink" title="Private Methods"></a>Private Methods</h4><p>It is also prefixed with a <code>#</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Counter</span> &#123;</span><br><span class="line">  #<span class="title function_">log</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;count changed&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">inc</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.#<span class="title function_">log</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>We can only call them inside the class body, and they are</p><ul><li>NOT properties on the instance(like static methods)</li><li>NOT on User.prototype</li><li>NOT discoverable via reflection</li><li>NOT dynamically accessible(cannot be inherited)</li></ul><hr><h3 id="Chaining-Methods"><a href="#Chaining-Methods" class="headerlink" title="Chaining Methods"></a>Chaining Methods</h3><p>When fetching promises, we might:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">promise.<span class="title function_">then</span>().<span class="title function_">catch</span>().<span class="title function_">finally</span>()</span><br></pre></td></tr></table></figure><p>How can we chain the methods like that? </p><p>In order to use chained methods, we need to return the instance that in the methods:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Counter</span> &#123;</span><br><span class="line">  <span class="title function_">inc</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value</span>++;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">value</span>; <span class="comment">// breaks chain</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">c.<span class="title function_">inc</span>().<span class="title function_">inc</span>().<span class="title function_">get</span>(); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><p><code>this</code> in instance methods points to the instance it self, so when we call <code>inc()</code>, we get the instance in return, and as long as it returns the instance itself, we can call it as a chain.</p>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 编程 </tag>
            
            <tag> frontend </tag>
            
            <tag> 前端 </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在Hexo Butterfly 里添加自定义加载页面</title>
      <link href="/2025/11/06/Hexo%20Butterfly%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%A0%E8%BD%BD%E9%A1%B5%E9%9D%A2/"/>
      <url>/2025/11/06/Hexo%20Butterfly%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%A0%E8%BD%BD%E9%A1%B5%E9%9D%A2/</url>
      
        <content type="html"><![CDATA[<h2 id="DOM-生命周期事件"><a href="#DOM-生命周期事件" class="headerlink" title="DOM 生命周期事件"></a>DOM 生命周期事件</h2><ul><li><p><code> document.addEventListener(&#39;DOMContentLoaded&#39;, ...)</code>:</p><p>  网页在载入的时候首先会解析HTML并构建DOM树。当这一步完成的时候该事件就会触发，此时css可能还没完全加载，其他网页资源如图片等也可能没完全加载完成。</p></li><li><p><code>window.addEventListener(&#39;load&#39;, ...)</code>:</p><p>  当所有网页资源加载完毕的时候触发，一般比DOM树加载晚得多。</p></li><li><p><code>window.addEventListener(&#39;beforeunload&#39;, ...)</code>:</p><p>  当用户要离开界面的时候触发，可能是跳转也可能是主动关闭页面。可以用来保存数据和弹出提示(现代浏览器一般会限制提示内容)</p></li></ul><p>要创建一个加载页面我们一般会用到第二个事件: <code>load</code>。 我们可以创建一个<code>position:fixed</code>的加载页面，然后在监听到页面加载完成的时候将他消除，例如<code>display:none</code>。</p><h2 id="在hexo-butterfly添加自定义加载页面"><a href="#在hexo-butterfly添加自定义加载页面" class="headerlink" title="在hexo butterfly添加自定义加载页面"></a>在hexo butterfly添加自定义加载页面</h2><blockquote><p><em>仅仅对于hexo: 7.3.0版本</em></p></blockquote><p><img src="/../img/Hexo/Hexo%20load.png" alt="Hexo loading"></p><ol><li>找到文件夹 <code>yourBlog/themes/butterfly</code> 打开<code>layout</code>文件夹:</li></ol><p><img src="/../img/Hexo/HexoLayout.png" alt="Hexo layout"></p><ol start="2"><li><p>打开<code>layout/includes/loading</code>文件夹，里面默认只有 <code>index.pug</code> <code>pace.pug</code> <code>full-page-loading.pug</code></p></li><li><p>创建你自己的<code>my-loader.pug</code> 里面有内联的css和js以及pug格式的HTML。可以直接把你的代码喂给AI转换为PUG格式(和原生HTML CSS JS 没啥区别)。</p></li><li><p>把原本的<code>index.pug</code> 里面替换为:</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if theme.preloader.enable</span><br><span class="line">  if theme.preloader.source === 1</span><br><span class="line">    include ./my-loader.pug</span><br></pre></td></tr></table></figure></li></ol><p>最后在terminal <code>hexo cl</code> <code>hexo g</code> <code>hexo s</code> 就可以预览了， 如果效果可以的话<code>hexo d</code>就可以部署。</p>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程 </tag>
            
            <tag> frontend </tag>
            
            <tag> 前端 </tag>
            
            <tag> javascript </tag>
            
            <tag> 中文 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Intersection Observer API</title>
      <link href="/2025/11/04/Using%20Intersection%20Observer/"/>
      <url>/2025/11/04/Using%20Intersection%20Observer/</url>
      
        <content type="html"><![CDATA[<h2 id="The-Intersection-Observer-Literal"><a href="#The-Intersection-Observer-Literal" class="headerlink" title="The Intersection Observer Literal"></a>The Intersection Observer Literal</h2><p><strong>Creating a new Intersection Observer using constructor:</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> observer = <span class="keyword">new</span> <span class="title class_">IntersectionObserver</span>(callback, options);</span><br></pre></td></tr></table></figure><ul><li><code>callback</code>: The function to be called whenever the target enter&#x2F;leave the intersection area.</li><li><code>options</code>: An object that controls the condition of triggering the callback function.</li></ul><h3 id="options-Object"><a href="#options-Object" class="headerlink" title="options Object"></a><code>options</code> Object</h3><p>The <code>option</code> object looks like this:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> option = &#123;</span><br><span class="line">    <span class="attr">root</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">rootMargin</span>: <span class="string">&quot;0px&quot;</span>,</span><br><span class="line">    <span class="attr">thereshold</span>: [<span class="number">0</span>, <span class="number">0.1</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p><code>root</code>: the container for observation, by default is the viewport(<code>null</code>), but can also be other HTML elements.</p></li><li><p><code>rootMargin</code>: a bit like css margin, controls the size of the root container(not actual size, but the size to detect intersection). The values can only be <code>px</code>.</p><p><code>rootMargin: top, left, bottom, right</code></p></li><li><p><code>thereshold</code>: the percentage of the observed items that triggers the callback function when entering the container.</p><p>  <code>thereshold: 0.1</code> meaning trigger the callback function when 10% of the object first enter&#x2F;leave the container.</p></li></ul><h3 id="callback-function"><a href="#callback-function" class="headerlink" title="callback function"></a><code>callback</code> function</h3><p>The callback function by default has two parameters:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> callback = <span class="keyword">function</span>(<span class="params">entries, observer</span>)&#123;</span><br><span class="line">    entries.<span class="title function_">forEach</span>(<span class="function"><span class="params">entry</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(entry);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p><code>entries</code>: Since the observer can observe multiple elements at once, the state of each element will be put in the <code>entries</code>.</p><ul><li>Each <code>entry</code> inside the <code>entries</code> is an object containing information about the observed element:</li></ul></li></ul><blockquote><p><code>entry</code> has many properties:</p><ul><li><code>entry.target</code>: the element being observed</li><li><code>entry.isIntersecting</code>: whether the target is visible inside the root.</li><li><code>entry.intersectionRatio</code>: visible ratio, behaves just like the <code>thereshold</code></li><li><code>entry.boundingClientRect</code>: the position of the element relative to the viewport</li><li><code>entry.time</code>: time stamp when the callback function is triggered</li><li>…</li></ul></blockquote><ul><li><code>observer</code>: the IntersectionObserver itself<ul><li>This is very useful cause we may want to stop the observation to avoid memory leakage:<ul><li><code>observer.unobserve(entry.target)</code>: stop observing the element</li><li><code>observer.disconnect</code>: stop observing every element in the observer</li><li><code>observer.observe(newElement)</code>:  start observing the new element</li></ul></li></ul></li></ul><h2 id="Lazy-load-img-with-IntersectionObserver"><a href="#Lazy-load-img-with-IntersectionObserver" class="headerlink" title="Lazy load img with IntersectionObserver"></a>Lazy load img with IntersectionObserver</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;blank-or-placeholder&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;real-url&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>The img will not be loaded at first but will be blank or replaced. Using js, we could let the img to load only when the user start to see it.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> lazyImg = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;img[data-src]&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> callback = <span class="keyword">function</span>(<span class="params">entries, observer</span>)&#123;</span><br><span class="line">    entries.<span class="title function_">forEach</span>(<span class="function"><span class="params">entry</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> img = entry.<span class="property">target</span>;</span><br><span class="line">        <span class="comment">// const realUrl = img.getAttribute(&quot;data-src&quot;);</span></span><br><span class="line">        <span class="comment">// img.setAttribute(&quot;src&quot;, realUrl);</span></span><br><span class="line">        <span class="comment">//the same effect</span></span><br><span class="line">        img.<span class="property">src</span> = img.<span class="property">dataset</span>.<span class="property">src</span>;</span><br><span class="line">        <span class="comment">// img.onload = () =&gt; &#123;img.classList.add(.loading)&#125;;</span></span><br><span class="line">        <span class="comment">//we can even add animation when img is loading</span></span><br><span class="line">        observer.<span class="title function_">unobserve</span>(img);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> option = &#123;</span><br><span class="line">    <span class="attr">thereshold</span>: <span class="number">0.1</span>,</span><br><span class="line">    <span class="attr">root</span>: <span class="literal">null</span> <span class="comment">//by default it is already null</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> lazyLoadObserver = <span class="keyword">new</span> <span class="title class_">IntersectionObserver</span>(callback, option);</span><br><span class="line">lazyImg.<span class="title function_">forEach</span>( <span class="function"><span class="params">img</span> =&gt;</span> &#123;</span><br><span class="line">    lazyLoadObserver.<span class="title function_">observe</span>(img);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>The key point is to only load the img when the observer observed that the img is in the users’ view. </p>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 编程 </tag>
            
            <tag> frontend </tag>
            
            <tag> 前端 </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>All about DOM API and Browser Performance</title>
      <link href="/2025/11/02/All%20about%20DOM%20and%20Browser%20Performance/"/>
      <url>/2025/11/02/All%20about%20DOM%20and%20Browser%20Performance/</url>
      
        <content type="html"><![CDATA[<h2 id="The-DOM-API"><a href="#The-DOM-API" class="headerlink" title="The DOM API"></a>The DOM API</h2><p>The Document Object Model (DOM) is a tree-like, in-memory representation of your HTML document.<br>When the browser parses an HTML file, it creates objects that form a hierarchical tree structure where:</p><ul><li><p>Each HTML element becomes a node.</p></li><li><p>Text inside elements becomes text nodes.</p></li><li><p>The relationships between elements (nested tags) form parent-child links.</p></li></ul><p>So the key fact is that <strong>in DOM, EVERYTHING is about nodes.</strong></p><hr><h2 id="DOM-Node"><a href="#DOM-Node" class="headerlink" title="DOM Node"></a>DOM Node</h2><p>Behind the scenes, each DOM node is a complex object with:</p><ul><li><p>Properties (like .nodeName, .textContent, .attributes)</p></li><li><p>Pointers to parent and child nodes</p></li><li><p>Event listeners</p></li><li><p>Metadata (like layout box, dimensions, etc.)</p></li><li><p>The <code>document</code> node: The root of all nodes</p></li><li><p>Element node: when we create a new HTML tag, an element node appears.</p></li><li><p>Text node: the text wrapped inside HTML tags.</p></li></ul><h3 id="Element-node"><a href="#Element-node" class="headerlink" title="Element node"></a>Element node</h3><p>Inside a DOM node, there are several methods that are universal:</p><table><thead><tr><th>Category</th><th>Property &#x2F; Method</th><th>Description</th></tr></thead><tbody><tr><td>Basic Node Info</td><td><code>nodeType</code></td><td>Always <code>1</code> for Element Nodes</td></tr><tr><td></td><td><code>nodeName</code></td><td>Tag name of the element (e.g., <code>&quot;DIV&quot;</code>, <code>&quot;SPAN&quot;</code>)</td></tr><tr><td></td><td><code>tagName</code></td><td>Same as <code>nodeName</code> (usually uppercase in HTML)</td></tr><tr><td>DOM Relationships</td><td><code>parentNode</code></td><td>Points to the parent node (another Element or Document)</td></tr><tr><td></td><td><code>childNodes</code></td><td>Includes all child nodes (elements, text, comments)</td></tr><tr><td></td><td><code>children</code></td><td>Includes only element-type children (no text&#x2F;comment)</td></tr><tr><td></td><td><code>firstChild</code> &#x2F; <code>lastChild</code></td><td>First &#x2F; last child node</td></tr><tr><td></td><td><code>nextSibling</code> &#x2F; <code>previousSibling</code></td><td>Adjacent sibling nodes</td></tr><tr><td>Attributes &amp; Properties</td><td><code>attributes</code></td><td>A <code>NamedNodeMap</code> containing all attributes (e.g., <code>id</code>, <code>class</code>, <code>src</code>)</td></tr><tr><td></td><td><code>getAttribute(name)</code> &#x2F; <code>setAttribute(name, value)</code></td><td>Read or modify an HTML attribute</td></tr><tr><td></td><td><code>id</code>, <code>className</code>, <code>classList</code>, <code>style</code></td><td>Common DOM property interfaces</td></tr><tr><td>Content</td><td><code>innerHTML</code></td><td>HTML string inside the element</td></tr><tr><td></td><td><code>outerHTML</code></td><td>Full HTML string including the element itself</td></tr><tr><td></td><td><code>textContent</code></td><td>Plain text content of the element</td></tr><tr><td>Element Query</td><td><code>querySelector()</code> &#x2F; <code>querySelectorAll()</code></td><td>Search for elements within the current node</td></tr><tr><td>Event System</td><td><code>addEventListener(type, handler)</code></td><td>Register an event listener</td></tr><tr><td>DOM Manipulation</td><td><code>append()</code>, <code>appendChild()</code>, <code>remove()</code>, <code>replaceWith()</code>, <code>cloneNode()</code></td><td>Dynamically modify DOM structure</td></tr></tbody></table><p>However, for certain nodes, they may have special attributes that are unique:</p><p>For element node that are created using HTML tags, there are properties like:</p><table><thead><tr><th>Property</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>tagName</code></td><td>The element’s tag name (uppercase)</td><td><code>div.tagName → &quot;DIV&quot;</code></td></tr><tr><td><code>id</code> &#x2F; <code>className</code></td><td>Shortcut access to HTML attributes</td><td><code>div.id = &quot;main&quot;</code></td></tr><tr><td><code>classList</code></td><td>A manipulable list of all class names</td><td><code>div.classList.add(&quot;active&quot;)</code></td></tr><tr><td><code>attributes</code></td><td>A <code>NamedNodeMap</code> containing all attributes</td><td><code>div.attributes[&quot;id&quot;].value</code></td></tr><tr><td><code>getAttribute()</code> &#x2F; <code>setAttribute()</code></td><td>Read or modify an attribute</td><td><code>div.getAttribute(&quot;id&quot;)</code></td></tr><tr><td><code>hasAttribute()</code> &#x2F; <code>removeAttribute()</code></td><td>Check for or remove an attribute</td><td><code>div.removeAttribute(&quot;hidden&quot;)</code></td></tr><tr><td><code>innerHTML</code></td><td>Returns the HTML content inside the element</td><td><code>div.innerHTML</code></td></tr><tr><td><code>outerHTML</code></td><td>Returns HTML including the element itself</td><td><code>div.outerHTML</code></td></tr><tr><td><code>style</code></td><td>Inline style object (<code>CSSStyleDeclaration</code>)</td><td><code>div.style.backgroundColor = &quot;red&quot;</code></td></tr><tr><td><code>dataset</code></td><td>Access custom <code>data-*</code> attributes</td><td><code>&lt;div data-info=&quot;hello&quot;&gt; → div.dataset.info</code></td></tr><tr><td><code>clientWidth</code> &#x2F; <code>offsetHeight</code></td><td>Element size information</td><td><code>div.clientHeight</code></td></tr></tbody></table><p>and since there are many types of HTML elements, some element may have special properties:</p><table><thead><tr><th>Property &#x2F; Method</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>hidden</code></td><td>Whether the element is hidden (equivalent to <code>display: none</code>)</td><td><code>div.hidden = true</code></td></tr><tr><td><code>tabIndex</code></td><td>Keyboard tab order index</td><td><code>button.tabIndex = 1</code></td></tr><tr><td><code>click()</code></td><td>Simulate a mouse click</td><td><code>button.click()</code></td></tr><tr><td><code>focus()</code> &#x2F; <code>blur()</code></td><td>Control focus state</td><td><code>input.focus()</code></td></tr></tbody></table><blockquote><p><code>style</code>: the <code>element.style</code> can return the inline CSS style, like <code>element.style.color</code>. If the requested style is from external .css file, nothing will be returned.</p><p>Therefore, when we are not trying to change the css styles, we often use <code>element.getComputedStyle()</code>. </p><p>eg. <code>element.getComputedStyle().color</code></p></blockquote><h3 id="Create-select-and-delete-DOM-element"><a href="#Create-select-and-delete-DOM-element" class="headerlink" title="Create, select and delete DOM element"></a>Create, select and delete DOM element</h3><h4 id="Select"><a href="#Select" class="headerlink" title="Select"></a>Select</h4><ul><li><code>document.getElementById()</code></li><li><code>document.getElementByClassName()</code></li><li><code>document.getElementByTag()</code></li><li><code>document.querySelector()</code></li><li><code>document.querySelectorAll()</code></li></ul><h4 id="Create"><a href="#Create" class="headerlink" title="Create"></a>Create</h4><p>First we create the node using <code>document.createElement()</code>, then we insert it using:</p><ul><li><code>element.appendChild(node)</code>:Adds a child element at the end</li><li><code>element.prepend(node)</code>:Adds a child element at the beginning</li><li><code>element.before(node)</code>:Inserts a new node before an element</li><li><code>element.after(node)</code>:Inserts a new node after an element</li><li><code>element.insertAdjacentHTML(position, html)</code>:Inserts HTML at specific positions (<code>beforebegin</code>, <code>afterbegin</code>, <code>beforeend</code>, <code>afterend</code>)</li></ul><p>We can also substitute the HTML elements inside&#x2F;outside the selected element, but it is not recommended.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="property">innerHTML</span> = <span class="string">&quot;&lt;p&gt;Hello World&lt;/p&gt;&quot;</span></span><br><span class="line"><span class="comment">// substitutes everything inside the element</span></span><br><span class="line"></span><br><span class="line">element.<span class="property">outerHTML</span> = <span class="string">&quot;&lt;div&gt;&lt;/div&gt;&quot;</span></span><br><span class="line"><span class="comment">//substitutes the element itself</span></span><br></pre></td></tr></table></figure><h4 id="Removing"><a href="#Removing" class="headerlink" title="Removing"></a>Removing</h4><ul><li><code>element.remove()</code>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> element = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#box&quot;</span>);</span><br><span class="line">element.<span class="title function_">remove</span>(); <span class="comment">// deletes itself from DOM</span></span><br></pre></td></tr></table></figure></li><li><code>element.removeChild(child)</code>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> parent = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#container&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> child = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#box&quot;</span>);</span><br><span class="line">parent.<span class="title function_">removeChild</span>(child);</span><br></pre></td></tr></table></figure></li><li><code>element.replaceChild(newElement, oldElement)</code>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> newEl = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> oldEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#old&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">replaceChild</span>(newEl, oldEl);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h2 id="Event-and-Event-listeners"><a href="#Event-and-Event-listeners" class="headerlink" title="Event and Event listeners"></a>Event and Event listeners</h2><h3 id="Event"><a href="#Event" class="headerlink" title="Event"></a>Event</h3><p>An event in JavaScript is a signal that something has happened — usually triggered by user interaction or by the browser itself.</p><p>When an event occurs, the browser creates an Event object,<br>and sends it to any event listeners that are watching for that type of event.</p><p>There are many types of events:</p><table><thead><tr><th>Category</th><th>Common Events</th><th>Description</th></tr></thead><tbody><tr><td>️ Mouse Events</td><td><code>click</code>, <code>dblclick</code>, <code>mousedown</code>, <code>mouseup</code>, <code>mousemove</code>, <code>mouseenter</code>, <code>mouseleave</code>, <code>contextmenu</code></td><td>Fired by mouse actions</td></tr><tr><td>Keyboard Events</td><td><code>keydown</code>, <code>keypress</code>, <code>keyup</code></td><td>Triggered when keys are pressed or released</td></tr><tr><td>Form Events</td><td><code>submit</code>, <code>change</code>, <code>focus</code>, <code>blur</code>, <code>input</code>, <code>reset</code></td><td>Related to form fields</td></tr><tr><td>Window &#x2F; Document Events</td><td><code>load</code>, <code>resize</code>, <code>scroll</code>, <code>unload</code>, <code>beforeunload</code>, <code>DOMContentLoaded</code></td><td>Fired on global page actions</td></tr><tr><td>Clipboard Events</td><td><code>copy</code>, <code>cut</code>, <code>paste</code></td><td>Interactions with the clipboard</td></tr><tr><td>Drag &amp; Drop Events</td><td><code>dragstart</code>, <code>drag</code>, <code>dragover</code>, <code>drop</code>, <code>dragend</code></td><td>For dragging elements</td></tr><tr><td>Touch Events (Mobile)</td><td><code>touchstart</code>, <code>touchmove</code>, <code>touchend</code>, <code>touchcancel</code></td><td>For touch screens</td></tr><tr><td>Focus Events</td><td><code>focus</code>, <code>blur</code>, <code>focusin</code>, <code>focusout</code></td><td>When elements gain or lose focus</td></tr><tr><td>Media Events</td><td><code>play</code>, <code>pause</code>, <code>ended</code>, <code>volumechange</code>, <code>timeupdate</code></td><td>For <code>&lt;audio&gt;</code> and <code>&lt;video&gt;</code> elements</td></tr><tr><td>Animation &#x2F; Transition</td><td><code>animationstart</code>, <code>animationend</code>, <code>transitionend</code></td><td>CSS animations and transitions</td></tr><tr><td>Network &#x2F; Resource</td><td><code>error</code>, <code>abort</code>, <code>load</code></td><td>Image loading and fetch requests</td></tr><tr><td>Custom Events</td><td>Created with <code>new CustomEvent()</code></td><td>User-defined events</td></tr></tbody></table><h3 id="Event-Propagation"><a href="#Event-Propagation" class="headerlink" title="Event Propagation"></a>Event Propagation</h3><p>Usually when we trigger an event, there are three phase before the event is finished:</p><ul><li><strong>Capture Phase</strong>: the event object is created at the root, which is the <code>document</code> object, and then travels through the DOM tree to reach the target element, passing through all its parent elements.</li><li><strong>Target Phase</strong>: the event reaches the target and triggers event listeners.</li><li><strong>Bubble Phase</strong>: the event travels back to the root, passing all parent elements again.</li></ul><p>In the Capture and Bubble phase, while traversing all parent elements, it is like the event is also triggered for each parent node. </p><blockquote><p>A very good way to trace the capture and bubbling is using <code>event.currentTarget</code>.</p><ul><li><code>event.target</code> returns the element that triggers the event.</li><li><code>event.currentTarget</code> returns the element where the event is currently being handled.</li></ul></blockquote><p>However, when we use event listeners to “listen” to an event, the event usually goes through the bubble phase not the capture phase. That is because by default, event listeners neglect the capture phase.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;&#125;, <span class="literal">true</span>);</span><br></pre></td></tr></table></figure><p>But we can still listen to the capture phase if we manually set the third parameter as <code>true</code>.</p><h4 id="Stop-Bubbling"><a href="#Stop-Bubbling" class="headerlink" title="Stop Bubbling"></a>Stop Bubbling</h4><p>Bubbling can be very useful, but sometimes we only want the event to stay at its target. We can manually stop the bubbling using:</p><ul><li><code>event.stopPropagation()</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">    event.<span class="title function_">stopPropagation</span>();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><code>event.stopImmediatePropagation()</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  event.<span class="title function_">stopImmediatePropagation</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>Note that this not only stops propagation, but also prevents other event listeners on the target.</li></ul><h3 id="Event-Delegation"><a href="#Event-Delegation" class="headerlink" title="Event Delegation"></a>Event Delegation</h3><p>Sometimes we want to add event listeners to multiple objects, like every <code>&lt;li&gt;</code> item in a list. If the number of the list items get too big, we may effectively add too many event listeners, which could severely impact the performance.</p><p>Using event delegation, we can use one listener to monitor multiple similar events.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;list&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (e.<span class="property">target</span>.<span class="property">tagName</span> === <span class="string">&#x27;LI&#x27;</span>) &#123;</span><br><span class="line">    e.<span class="property">target</span>.<span class="property">classList</span>.<span class="title function_">toggle</span>(<span class="string">&#x27;selected&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>So the basic steps are:</p><ul><li>Attach the event listener to the common parent.</li><li>Determine which element originated the event. </li><li>Attach matching strategy.</li></ul><blockquote><p><strong>Why is this possible?</strong></p><p>Because when we click on the list items, the click event spreads from the item and bubbles up to its parent, the list. </p><p>When the event listener in the list captures the event, we can trace the original target that triggers the event, that is the list item, using <code>event.target</code></p><p>Remember that <code>event.target</code> points to the most specific element in the DOM tree that triggers the event.</p></blockquote><h3 id="Traversing-the-DOM"><a href="#Traversing-the-DOM" class="headerlink" title="Traversing the DOM"></a>Traversing the DOM</h3><ul><li><p>Going downwards: child</p><ul><li><code>querySelectorAll()</code> and <code>querySelector</code></li><li><code>childNodes</code>: get every DOM node within the element, including comments and text nodes.</li><li><code>children</code>: get every DOM node that is an element, not including comments and text nodes</li><li><code>firstElementChild</code> and <code>lastElementChild</code>: get the first&#x2F;last element within the target.</li></ul></li><li><p>Going upwards: parent</p><ul><li><code>parentNode</code>: returns the parent node, sometimes might be <code>document</code></li><li><code>parentElement</code>: returns the parent element, if the parent is not an element(<code>document</code>) returns null.</li><li><code>closest(&quot;cssSelector&quot;)</code>: get the closest parent element that can be selected using css selector, including the element itself.</li></ul></li><li><p>Going sideways: siblings</p><ul><li><code>previousSibling</code> &#x2F; <code>nextSibling</code>: get the previous&#x2F;next node, including text nodes and comments</li><li><code>previousElementSibling</code> &#x2F; <code>nextElementSibling</code>: get the previous&#x2F;next element node.</li></ul></li></ul><blockquote><p><strong>Bubbling and <code>closest</code></strong></p><p>When using event deligation, the <code>event.target</code> may not always work as we want it to be:</p><p>Like when the user clicks a <code>&lt;div class=&quot;list-item&gt;</code>, there might be a <code>span</code> inside it. If the user click the <code>span</code>, the result of <code>event.target</code> would be <code>span</code> instead of the <code>div</code>.</p><p>If we still want to get the <code>div</code>, we could use:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event.<span class="property">target</span>.<span class="title function_">closest</span>(<span class="string">&quot;.list-item&quot;</span>);</span><br></pre></td></tr></table></figure></blockquote>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> frontend </tag>
            
            <tag> 前端 </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>浏览器滚动scrolling</title>
      <link href="/2025/10/21/All%20%20about%20scrolling%20-%20%E6%B5%8F%E8%A7%88%E5%99%A8%E6%BB%9A%E5%8A%A8/"/>
      <url>/2025/10/21/All%20%20about%20scrolling%20-%20%E6%B5%8F%E8%A7%88%E5%99%A8%E6%BB%9A%E5%8A%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="一、全局滚动属性（window-级别）"><a href="#一、全局滚动属性（window-级别）" class="headerlink" title="一、全局滚动属性（window 级别）"></a>一、全局滚动属性（window 级别）</h2><p>这些属性用于 <strong>获取或控制整个页面的滚动状态</strong>。</p><table><thead><tr><th>属性&#x2F;方法</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td><code>window.scrollX</code></td><td>页面水平滚动距离（单位 px）</td><td><code>console.log(scrollX)</code></td></tr><tr><td><code>window.scrollY</code></td><td>页面垂直滚动距离（单位 px）</td><td><code>console.log(scrollY)</code></td></tr><tr><td><code>window.pageXOffset</code></td><td>同 <code>scrollX</code>（旧写法）</td><td>✅ 向后兼容</td></tr><tr><td><code>window.pageYOffset</code></td><td>同 <code>scrollY</code>（旧写法）</td><td>✅ 向后兼容</td></tr><tr><td><code>window.scrollTo(x, y)</code></td><td>跳转到页面指定位置</td><td><code>window.scrollTo(0, 0)</code></td></tr><tr><td><code>window.scrollBy(x, y)</code></td><td>相对当前位置滚动</td><td><code>window.scrollBy(0, 500)</code></td></tr><tr><td><code>window.scroll()</code></td><td>等价于 <code>scrollTo()</code>（支持对象参数）</td><td><code>window.scroll(&#123; top: 500, behavior: &#39;smooth&#39; &#125;)</code></td></tr></tbody></table><hr><h2 id="二、元素级滚动属性（Element）"><a href="#二、元素级滚动属性（Element）" class="headerlink" title="二、元素级滚动属性（Element）"></a>二、元素级滚动属性（Element）</h2><p>控制 <strong>某个可滚动容器</strong> 的滚动。</p><table><thead><tr><th>属性&#x2F;方法</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td><code>element.scrollTop</code></td><td>元素内容向上滚动的距离</td><td><code>div.scrollTop = 0</code></td></tr><tr><td><code>element.scrollLeft</code></td><td>元素内容向左滚动的距离</td><td><code>div.scrollLeft += 100</code></td></tr><tr><td><code>element.scrollWidth</code></td><td>元素内容的总宽度（包括不可见部分）</td><td>用于计算滚动区域宽度</td></tr><tr><td><code>element.scrollHeight</code></td><td>元素内容的总高度（包括不可见部分）</td><td></td></tr><tr><td><code>element.clientWidth</code></td><td>元素可视区域宽度（不含滚动条）</td><td></td></tr><tr><td><code>element.clientHeight</code></td><td>元素可视区域高度（不含滚动条）</td><td></td></tr><tr><td><code>element.offsetWidth</code></td><td>元素的实际显示宽度（含内边距和滚动条）</td><td></td></tr><tr><td><code>element.offsetHeight</code></td><td>元素的实际显示高度</td><td></td></tr><tr><td><code>element.offsetTop</code></td><td>元素相对于 offsetParent 顶部的距离</td><td></td></tr><tr><td><code>element.offsetLeft</code></td><td>元素相对于 offsetParent 左侧的距离</td><td></td></tr></tbody></table><hr><h2 id="三、元素位置与尺寸获取"><a href="#三、元素位置与尺寸获取" class="headerlink" title="三、元素位置与尺寸获取"></a>三、元素位置与尺寸获取</h2><table><thead><tr><th>方法</th><th>作用</th><th>返回值</th></tr></thead><tbody><tr><td><code>element.getBoundingClientRect()</code></td><td>获取元素相对于视口的位置和尺寸</td><td><code>&#123; top, left, right, bottom, width, height, x, y &#125;</code></td></tr><tr><td><code>element.getClientRects()</code></td><td>获取元素内各个“矩形块”的位置（例如多行文字）</td><td>DOMRectList</td></tr><tr><td><code>element.scrollIntoView(options)</code></td><td>滚动容器或页面让该元素进入视口</td><td><code>&#123; behavior, block, inline &#125;</code></td></tr><tr><td><code>element.scrollTo(x, y)</code></td><td>滚动容器到指定位置</td><td>仅容器有效</td></tr><tr><td><code>element.scrollBy(x, y)</code></td><td>容器内相对滚动</td><td></td></tr></tbody></table><hr><h2 id="四、文档与视口尺寸"><a href="#四、文档与视口尺寸" class="headerlink" title="四、文档与视口尺寸"></a>四、文档与视口尺寸</h2><table><thead><tr><th>属性</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td><code>document.documentElement.scrollTop</code></td><td>页面滚动的垂直距离（现代写法）</td><td>常用于监听滚动</td></tr><tr><td><code>document.body.scrollTop</code></td><td>某些旧浏览器中使用（不推荐）</td><td></td></tr><tr><td><code>document.documentElement.scrollHeight</code></td><td>页面总高度</td><td></td></tr><tr><td><code>document.documentElement.clientHeight</code></td><td>视口高度（浏览器可见区域）</td><td></td></tr><tr><td><code>window.innerHeight</code></td><td>浏览器视口内部高度（含滚动条）</td><td></td></tr><tr><td><code>window.innerWidth</code></td><td>浏览器视口内部宽度</td><td></td></tr><tr><td><code>window.outerHeight</code></td><td>整个浏览器窗口高度（含工具栏）</td><td></td></tr><tr><td><code>window.outerWidth</code></td><td>整个浏览器窗口宽度</td><td></td></tr><tr><td><code>window.visualViewport.height</code></td><td>移动端可视区域高度（支持缩放时使用）</td><td></td></tr></tbody></table><hr><h2 id="五、滚动事件监听"><a href="#五、滚动事件监听" class="headerlink" title="五、滚动事件监听"></a>五、滚动事件监听</h2><table><thead><tr><th>事件</th><th>说明</th></tr></thead><tbody><tr><td><code>scroll</code></td><td>当页面或元素滚动时触发（可用于懒加载、导航高亮）</td></tr><tr><td><code>wheel</code></td><td>用户滚动鼠标滚轮时触发</td></tr><tr><td><code>resize</code></td><td>视口大小变化（可能影响 scroll 计算）</td></tr></tbody></table><p>示例：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">scrollY</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><hr><h2 id="六、CSS-滚动控制"><a href="#六、CSS-滚动控制" class="headerlink" title="六、CSS 滚动控制"></a>六、CSS 滚动控制</h2><table><thead><tr><th>属性</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td><code>overflow</code></td><td>控制是否出现滚动条</td><td><code>overflow: hidden / scroll / auto;</code></td></tr><tr><td><code>scroll-behavior</code></td><td>控制滚动是否平滑</td><td><code>scroll-behavior: smooth;</code></td></tr><tr><td><code>scroll-snap-type</code></td><td>启用滚动吸附效果</td><td><code>scroll-snap-type: y mandatory;</code></td></tr><tr><td><code>scroll-snap-align</code></td><td>元素在吸附时的对齐方式</td><td><code>scroll-snap-align: start;</code></td></tr></tbody></table><hr><h2 id="七、常见滚动操作示例"><a href="#七、常见滚动操作示例" class="headerlink" title="七、常见滚动操作示例"></a>七、常见滚动操作示例</h2><h3 id="1️⃣-平滑滚动到页面底部"><a href="#1️⃣-平滑滚动到页面底部" class="headerlink" title="1️⃣ 平滑滚动到页面底部"></a>1️⃣ 平滑滚动到页面底部</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">scrollTo</span>(&#123;</span><br><span class="line">  <span class="attr">top</span>: <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollHeight</span>,</span><br><span class="line">  <span class="attr">behavior</span>: <span class="string">&#x27;smooth&#x27;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="2️⃣-判断是否滚动到底部"><a href="#2️⃣-判断是否滚动到底部" class="headerlink" title="2️⃣ 判断是否滚动到底部"></a>2️⃣ 判断是否滚动到底部</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">innerHeight</span> + <span class="variable language_">window</span>.<span class="property">scrollY</span> &gt;= <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">offsetHeight</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;到底了！&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3️⃣-获取元素在文档中的绝对位置"><a href="#3️⃣-获取元素在文档中的绝对位置" class="headerlink" title="3️⃣ 获取元素在文档中的绝对位置"></a>3️⃣ 获取元素在文档中的绝对位置</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> rect = el.<span class="title function_">getBoundingClientRect</span>();</span><br><span class="line"><span class="keyword">const</span> absoluteTop = rect.<span class="property">top</span> + <span class="variable language_">window</span>.<span class="property">scrollY</span>;</span><br><span class="line"><span class="keyword">const</span> absoluteLeft = rect.<span class="property">left</span> + <span class="variable language_">window</span>.<span class="property">scrollX</span>;</span><br></pre></td></tr></table></figure><h3 id="4️⃣-禁止页面滚动"><a href="#4️⃣-禁止页面滚动" class="headerlink" title="4️⃣ 禁止页面滚动"></a>4️⃣ 禁止页面滚动</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>或：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">overflow</span> = <span class="string">&#x27;hidden&#x27;</span>;</span><br></pre></td></tr></table></figure><hr><h2 id="八、进阶与扩展（移动端与高级-API）"><a href="#八、进阶与扩展（移动端与高级-API）" class="headerlink" title="八、进阶与扩展（移动端与高级 API）"></a>八、进阶与扩展（移动端与高级 API）</h2><table><thead><tr><th>API</th><th>用途</th></tr></thead><tbody><tr><td><code>IntersectionObserver</code></td><td>监听页面元素是否进入视口（替代滚动监听）</td></tr><tr><td><code>visualViewport</code></td><td>获取手机上缩放、软键盘导致的视口变化</td></tr><tr><td><code>scrollRestoration</code></td><td>控制浏览器前进&#x2F;后退时是否自动恢复滚动位置</td></tr></tbody></table><hr><h2 id="九、易混淆点总结"><a href="#九、易混淆点总结" class="headerlink" title="九、易混淆点总结"></a>九、易混淆点总结</h2><ul><li><code>scrollTop</code> → 只读&#x2F;可写，用于容器内部。</li><li><code>scrollY</code> → 只读，全局滚动。</li><li><code>getBoundingClientRect()</code> 返回的是相对视口的坐标，不是文档。</li><li><code>scrollIntoView()</code> 会自动滚动外层容器，默认是平滑的。</li><li>禁止滚动不仅要 <code>overflow: hidden</code>，还要防止内容高度变化导致布局闪动。</li></ul><hr><h2 id="十、实用技巧"><a href="#十、实用技巧" class="headerlink" title="十、实用技巧"></a>十、实用技巧</h2><ul><li><p><strong>平滑回到顶部</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">scrollTo</span>(&#123; <span class="attr">top</span>: <span class="number">0</span>, <span class="attr">behavior</span>: <span class="string">&#x27;smooth&#x27;</span> &#125;);</span><br></pre></td></tr></table></figure></li><li><p><strong>带动画的锚点跳转</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#target&#x27;</span>).<span class="title function_">scrollIntoView</span>(&#123; <span class="attr">behavior</span>: <span class="string">&#x27;smooth&#x27;</span> &#125;);</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> frontend </tag>
            
            <tag> 前端 </tag>
            
            <tag> javascript </tag>
            
            <tag> 中文 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS Layout - Flexbox</title>
      <link href="/2025/10/21/CSS%20layout%20-%20Flexbox/"/>
      <url>/2025/10/21/CSS%20layout%20-%20Flexbox/</url>
      
        <content type="html"><![CDATA[<h2 id="Flexbox-display-flex"><a href="#Flexbox-display-flex" class="headerlink" title="Flexbox display: flex;"></a>Flexbox <code>display: flex;</code></h2><h2 id="The-main-axis-and-the-cross-axis"><a href="#The-main-axis-and-the-cross-axis" class="headerlink" title="The main axis and the cross axis"></a>The main axis and the cross axis</h2><p>There are two invisible axis that control the flexbox.</p><ul><li>The main axis that goes through the center of the box along the flex direction</li><li>The cross axis that is perpendicular to the main axis</li></ul><blockquote><p><code>flex-direction: row;</code> defines the direction of the main axis, it can be set to row or column</p></blockquote><p>We use <code>justify-content</code> to control the main axis, and <code>align-items</code> for the cross axis. </p><ul><li><p>For the <code>justify-content</code>, the values can be:</p><ul><li><code>flex-start</code>: default</li><li><code>flex-end</code></li><li><code>center</code></li><li><code>space-between</code></li><li><code>space-evenly</code></li><li><code>space-around</code></li></ul></li><li><p>For <code>align-items</code> we can use:</p><ul><li><code>flex-end</code></li><li><code>flex-start</code></li><li><code>stretch</code>: default</li><li><code>center</code></li></ul></li></ul><h2 id="How-the-flexbox-becomes-flexible"><a href="#How-the-flexbox-becomes-flexible" class="headerlink" title="How the flexbox becomes flexible"></a>How the flexbox becomes flexible</h2><p>There are three properties that makes elements inside flexbox shrink&#x2F;grow</p><ul><li><code>flex-basis</code>: the basis of the shrink or grow, by default it is auto, which means it will use the width&#x2F;height set to the item.</li><li><code>flex-grow</code>: the ratio of how the item will expand when there is additional space, by default is 0, which means it will not grow.</li><li><code>flex-shrink</code>: defines how much the item will shrink if the container is too small, by default is 1, which means the item can shrink</li></ul><h2 id="flex-wrap"><a href="#flex-wrap" class="headerlink" title="flex-wrap"></a><code>flex-wrap</code></h2><p>By default, when there is not enough space, the items will shrink(because <code>flex-shrink</code> is 1 by default), but sometimes we want the page to be responsive by moving items to different rows.</p><p>That’s where we need <code>flex-wrap</code>. It have 3 values:</p><ul><li><code>no-wrap</code>: the default value, even if there is no space, the items will not be moved to a new line.</li><li><code>wrap</code>: move items to new line when there is no space.</li><li><code>wrap-reverse</code>: same as <code>wrap</code> but the new line will be above the existing line instead of below.</li></ul><p>But a new problem comes in mind, <code>align-items</code> can only control alignment inside the row&#x2F;column, what should we do if we want to align multiple rows&#x2F;columns.</p><p>That’s where <code>align-content</code> comes into use. It also have many values:</p><ul><li><code>flex-start</code></li><li><code>flex-end</code></li><li><code>center</code></li><li><code>space-between</code></li><li><code>space-around</code></li><li><code>stretch</code></li></ul><p>But in order to use <code>align-content</code>, we must:</p><ul><li>set the <code>flex-wrap</code> to <code>wrap</code> or <code>no-wrap</code></li><li>there are at least two lines in the container(wrapped)</li></ul><h2 id="align-self"><a href="#align-self" class="headerlink" title="align-self"></a><code>align-self</code></h2><p>Just like in the grid, we can set the alignment of individual items using <code>align-self</code> to override the <code>align-items</code> property.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.flex-item</span> &#123;</span><br><span class="line">  <span class="attribute">align-self</span>: flex-start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In addition, we can use <code>order</code> to chang ethe virtual order of the items without changing the HTML.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">order</span>: -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The order property can be set to negative numbers, and the items will be placed in ascending order.<br>But note that it only changes the virtual order, that is the order they appear on the user interface, not in the DOM, therefore, we should avoid using it.</p>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 编程 </tag>
            
            <tag> frontend </tag>
            
            <tag> 前端 </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS layout - Grid</title>
      <link href="/2025/10/19/CSS%20layout%20-%20Grid/"/>
      <url>/2025/10/19/CSS%20layout%20-%20Grid/</url>
      
        <content type="html"><![CDATA[<h1 id="Grid-Layout"><a href="#Grid-Layout" class="headerlink" title="Grid Layout"></a>Grid Layout</h1><h2 id="Syntax"><a href="#Syntax" class="headerlink" title="Syntax"></a>Syntax</h2><blockquote><p><strong>Grid line:</strong> the grid line is the border of each cell, the first grid line is the left border of the first column, same applied to rows.</p></blockquote><h3 id="Grid-Container"><a href="#Grid-Container" class="headerlink" title="Grid Container"></a>Grid Container</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">display</span>: grid;</span><br><span class="line"><span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">3</span>, <span class="number">100px</span>) ;</span><br><span class="line"><span class="attribute">grid-template-rows</span>: <span class="built_in">repeat</span>(<span class="number">2</span>, <span class="number">200px</span>);</span><br></pre></td></tr></table></figure><p>This creates a grid with 3 columns and 2 rows, each column is 100px wide and each row is 200px high. However, instead of using <code>repeat()</code>, we can also define the size manually.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-template-columns</span>: <span class="number">100px</span>, <span class="number">100px</span>, <span class="number">100px</span> ;</span><br><span class="line"><span class="attribute">grid-template-rows</span>: <span class="number">200px</span>, <span class="number">200px</span>;</span><br></pre></td></tr></table></figure><p>This has the same effect as the <code>repeat()</code>.</p><p>We can also define the GAP between each box:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">gap</span>: <span class="number">10px</span>, <span class="number">20px</span>;</span><br></pre></td></tr></table></figure><p>This sets the horizontal gap at 10px, while the vertical gap at 20px.</p><h3 id="Grid-item"><a href="#Grid-item" class="headerlink" title="Grid item"></a>Grid item</h3><p>Some item will only take up one cell, but some may take up multiple rows or columns. In the grid item style, we can define how many rows and columns the item will occupy.</p><h4 id="Define-using-grid-lines"><a href="#Define-using-grid-lines" class="headerlink" title="Define using grid lines"></a>Define using grid lines</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-column-start</span>: <span class="number">1</span>;</span><br><span class="line"><span class="attribute">grid-column-end</span>: <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="attribute">grid-row-start</span>: <span class="number">1</span>;</span><br><span class="line"><span class="attribute">grid-row-end</span>: <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>This item will cover the space between the first grid line to the second vertically and horizontally, which makes it a square formed by one cell.</p><p>But this seems to be too much work, so we can usually use the shorthand property:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-column</span>: <span class="number">1</span> / <span class="number">2</span>;</span><br><span class="line"><span class="attribute">grid-row</span>: <span class="number">1</span> / <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>This is the same as the previous one.</p><p>ALSO, we can use the negative index:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-column</span>: <span class="number">1</span> / -<span class="number">1</span>;</span><br></pre></td></tr></table></figure><blockquote><p>-1 means the last grid line, which is the right border of the columns or rows.</p></blockquote><p>This means the item will cover the space starting from the first grid line to the last, which is all columns.</p><h4 id="Define-using-span"><a href="#Define-using-span" class="headerlink" title="Define using span:"></a>Define using <code>span</code>:</h4><p>Sometimes we don’t care about the border or grid lines, we only care how many columns&#x2F;rows the item spans.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-column</span>: <span class="number">1</span> / span <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>This means the item will cover 2 columns spanning from the second grid line, it has the same effect as:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-column</span>: <span class="number">1</span> / <span class="number">3</span>;</span><br></pre></td></tr></table></figure><p>If we only use the span, the item will be placed automatically after the last item and take up the space:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-column</span>: span <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>This item will cover 2 columns starting from the last item horizontally. Doing so makes the item more flexible, as it only cares about its size instead of its position.</p><h2 id="THE-fr-Unit"><a href="#THE-fr-Unit" class="headerlink" title="THE fr Unit"></a>THE fr Unit</h2><p>The size of each cell can use different units: </p><ul><li>Fixed units: <code>px</code> <code>em</code> <code>rem</code></li><li>Relative units: <code>%</code> <code>vw</code> <code>vh</code></li><li>Auto: <code>auto</code> The cell will take up enough space to put the contents</li><li><code>fr</code></li></ul><p>The fr is a very useful unit, since it devides the space of each row&#x2F;column and distribute the space according to its value.</p><p><em>If I want three columns of the same size, and the three columns takes up the max width, we can use:</em></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">3</span>, <span class="number">33.3%</span>);</span><br></pre></td></tr></table></figure><p>but this is not a good idea, since sometimes we may have <code>gap</code>:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">3</span>, <span class="number">1</span>fr);</span><br><span class="line"><span class="attribute">gap</span>: <span class="number">10px</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure><p>using <code>fr</code> can help us solve the problem.</p><h2 id="Naming-the-grid-line"><a href="#Naming-the-grid-line" class="headerlink" title="Naming the grid line"></a>Naming the grid line</h2><p>When deciding how large the grid item should be, we need to use grid line. But when a container has too many grid lines, this may be confusing. Therefore, we can name specific grid lines to help us with the layout.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: [first] <span class="number">1</span>fr [second] <span class="number">1</span>fr [third] <span class="number">1</span>fr [last];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Doing so with <code>[]</code>, we created a grid with one row, and three columns, between each column we have the named grid lines we can use in grid items:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.grid-item</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column</span>: first / last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This grid item will take up three columns starting from the first grid line to the last.</p><h2 id="Alignment"><a href="#Alignment" class="headerlink" title="Alignment"></a>Alignment</h2><p>If the grid is smaller than the container, we can set the alignment of the grid in the container.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">3</span>, <span class="number">1</span>fr);</span><br><span class="line">    <span class="attribute">gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">align-content</span>: center;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">justify-items</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The four properties are:</p><ul><li><code>justify-content</code>: defines the horizontal position of the <strong>grid inside the container.</strong></li><li><code>align-content</code>: defines the vertical position of the <strong>grid inside the container.</strong></li><li><code>justify-items</code>: defines the horizontal position of the <strong>grid item inside its grid cell.</strong></li><li><code>align-items</code>: defines the vertical position of the <strong>grid item inside its grid cell.</strong></li></ul><p>The first two properties(about the position of the grid) can have different values:</p><ul><li><code>start</code></li><li><code>end</code></li><li><code>center</code></li><li><code>space-evenly</code></li><li><code>space-between</code></li><li><code>space-around</code></li></ul><p>The value of the last two(about the position of grid items) can be:</p><ul><li><code>start</code></li><li><code>end</code></li><li><code>center</code></li><li><code>stretch</code>: the default, the grid item will stretch to fill the cells.</li></ul><blockquote><p>The <code>align-items</code> and the <code>justify-content</code> works for all grid items, but if one item needs to be different, we can use:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span>&#123;</span><br><span class="line"> <span class="attribute">align-self</span>: center;</span><br><span class="line"> <span class="attribute">justify-self</span>: center;</span><br><span class="line">&#125;   </span><br></pre></td></tr></table></figure></blockquote><h2 id="Responsive-design-using-grid"><a href="#Responsive-design-using-grid" class="headerlink" title="Responsive design using grid"></a>Responsive design using grid</h2><h3 id="minmax"><a href="#minmax" class="headerlink" title="minmax()"></a><code>minmax()</code></h3><p>Using this we can set the minimum and maximum length&#x2F;height of a column&#x2F;row.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="built_in">minmax</span>(<span class="number">200px</span>, <span class="number">1</span>fr)  <span class="number">500px</span>  <span class="built_in">minmax</span>(<span class="number">200px</span>, <span class="number">1</span>fr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This way, the center column will always be 500px, while the other two will be at least 200px wide, but will take up <code>1fr</code> space if available.</p><p>Using <code>minmax()</code> we can make sure the grid is not too stretched or too oppressed, which makes the site more responsive and readable.</p><h2 id="auto-fill-and-auto-fit"><a href="#auto-fill-and-auto-fit" class="headerlink" title="auto-fill and auto-fit"></a><code>auto-fill</code> and <code>auto-fit</code></h2><p>When using <code>repeat()</code>,  the first parameter is the number of columns&#x2F;rows we want. However, in responsive design, the number of rows&#x2F;columns may vary according to the size of the screen.<br>That’s why we need <code>auto-fill</code> and <code>auto-fit</code>.</p><p>The main idea is to fill in as much columns&#x2F;rows as possible. But there are some slight difference:</p><ul><li><code>auto-fill</code>: Fill the row with as many columns as possible, even if they’re empty.</li><li><code>auto-fit</code>: Fit the columns to the content; collapse empty ones.</li></ul><p>For example:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(auto-fill, <span class="built_in">minmax</span>(<span class="number">200px</span>, <span class="number">1</span>fr));</span><br><span class="line">  <span class="attribute">gap</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Using <code>auto-fill</code>, the result looks like:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">| item | item | item | [empty] | [empty] |</span><br></pre></td></tr></table></figure><p>On the other hand, using <code>auto-fit</code>:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(auto-fit, <span class="built_in">minmax</span>(<span class="number">200px</span>, <span class="number">1</span>fr));</span><br><span class="line">  <span class="attribute">gap</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">| item | item | item | (fills the entire row evenly) |</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 编程 </tag>
            
            <tag> frontend </tag>
            
            <tag> 前端 </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Falsy and Truthy in JS</title>
      <link href="/2025/10/12/Falsy%20and%20Truthy%20in%20JS/"/>
      <url>/2025/10/12/Falsy%20and%20Truthy%20in%20JS/</url>
      
        <content type="html"><![CDATA[<h2 id="Difference-between-and"><a href="#Difference-between-and" class="headerlink" title="Difference between == and ==="></a>Difference between <code>==</code> and <code>===</code></h2><p>In a word, <code>==</code> tries to covert the two values to the same type, and then compare its value.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;10&quot;</span> == <span class="number">10</span>; <span class="comment">//true</span></span><br></pre></td></tr></table></figure><p>But <code>===</code> requires the two values to have the same value and the same type:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;10&quot;</span> === <span class="number">10</span>; <span class="comment">//false</span></span><br><span class="line"><span class="string">&quot;10&quot;</span> === <span class="string">&quot;10&quot;</span>; <span class="comment">//true</span></span><br></pre></td></tr></table></figure><p><code>==</code> is not so safe to use, so we usually use <code>===</code> or <code>!==</code>.</p><hr><h1 id="How-to-determine-if-a-value-is-true-or-false"><a href="#How-to-determine-if-a-value-is-true-or-false" class="headerlink" title="How to determine if a value is true or false"></a>How to determine if a value is true or false</h1><p>In JS, whenever we need to transfer a value into a boolean, the value will be determined as truthy or falsy.</p><p>It is most commonly used in logical operators like and <code>&amp;&amp;</code>, or <code>||</code>, not <code>!</code>. When a value is considered truthy it will be converted into true for comparison, vice versa.</p><p>Generally speaking, there are only 7 values that will be considered as falsy:</p><ul><li><code>false</code> the boolean value false</li><li><code>0</code>  number zero</li><li><code>-0</code>  negative 0</li><li><code>0n</code> the bigInt zero</li><li><code>&quot;&quot;</code> &#x2F; <code>&#39;&#39;</code> empty string</li><li><code>null</code></li><li><code>undefined</code></li><li><code>NaN</code> not a number</li></ul><p><strong>All other values are considered truthy!</strong></p><blockquote><p>If you are not sure if the value is truthy or not, you can use type conversion to find out:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="string">&quot;0&quot;</span>)); <span class="comment">//true</span></span><br></pre></td></tr></table></figure></blockquote><p>However, there are some weird behaviors we may need to memorize:</p><ol><li><code>NaN</code> is NOT equal to anything including itself, so we can only use <code>isNaN</code> to check its type:  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">NaN</span> == <span class="title class_">NaN</span>); <span class="comment">//false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="number">10</span>/<span class="number">0</span>)); <span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="title class_">NaN</span>); <span class="comment">//&quot;number&quot;</span></span><br></pre></td></tr></table></figure></li><li><code>null</code> can only be assigned when the programmer explicitly set the value as <code>null</code>, if the variable have no value when declared, it will be <code>undefined</code>. <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="literal">null</span>); <span class="comment">//object</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">typeof</span> (<span class="literal">undefined</span>)); <span class="comment">//undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">null</span> === <span class="literal">undefined</span>); <span class="comment">//false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">null</span> == <span class="literal">undefined</span>); <span class="comment">//true, cause they are all falsy</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="Short-Circuiting"><a href="#Short-Circuiting" class="headerlink" title="Short Circuiting"></a>Short Circuiting</h2><p>Apart from using <code>&amp;&amp;</code>, <code>||</code> in <code>if</code> or <code>while</code> loop, we can also use them in <strong>short circuiting</strong> to make things easier.</p><ol><li><code>||</code> OR: returns the first truthy value:<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> userName = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> defaultName = userName || <span class="string">&#x27;Guest&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(defaultName); <span class="comment">// &#x27;Guest&#x27;</span></span><br></pre></td></tr></table></figure>It is very useful when we want to set a default value when the input is not valid.</li><li><code>&amp;&amp;</code> AND: returns the first falsy value<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span>&amp;&amp;<span class="number">1</span>); <span class="comment">//1</span></span><br></pre></td></tr></table></figure></li><li><code>??</code> Nullish Coalescing Operator: Just like <code>||</code>, but only checks <code>null</code> and <code>undefined</code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">null</span> ?? <span class="string">&#x27;default&#x27;</span>);      <span class="comment">// &#x27;default&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">undefined</span> ?? <span class="string">&#x27;default&#x27;</span>); <span class="comment">// &#x27;default&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span> ?? <span class="number">42</span>);                <span class="comment">// 0 ✅ (NOT replaced!)</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;&#x27;</span> ?? <span class="string">&#x27;default&#x27;</span>);        <span class="comment">// &#x27;&#x27; ✅</span></span><br></pre></td></tr></table></figure></li></ol><blockquote><p>With this logic, we can also use logical assignment operators:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">0</span>;</span><br><span class="line">a = a || <span class="number">100</span>;</span><br><span class="line">a ||= <span class="number">100</span>; <span class="comment">//they are the same</span></span><br></pre></td></tr></table></figure></blockquote>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 编程 </tag>
            
            <tag> frontend </tag>
            
            <tag> 前端 </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spread and Rest Operator - ES6</title>
      <link href="/2025/10/12/Spread%20and%20Rest%20Operator/"/>
      <url>/2025/10/12/Spread%20and%20Rest%20Operator/</url>
      
        <content type="html"><![CDATA[<h1 id=""><a href="#" class="headerlink" title=""></a></h1><h1 id="ES6-Spread-and-Rest"><a href="#ES6-Spread-and-Rest" class="headerlink" title="ES6 Spread and Rest (...)"></a>ES6 Spread and Rest (<code>...</code>)</h1><p>The three dots <code>...</code> in JavaScript can represent <strong>two different concepts</strong>:</p><ul><li><strong>Spread Operator</strong> – expands data</li><li><strong>Rest Pattern &#x2F; Rest Parameters</strong> – gathers data</li></ul><p>They look identical but behave in <strong>opposite directions</strong> depending on where they’re used.</p><hr><h2 id="Concept-Overview"><a href="#Concept-Overview" class="headerlink" title="Concept Overview"></a>Concept Overview</h2><table><thead><tr><th>Feature</th><th>Purpose</th><th>Context</th></tr></thead><tbody><tr><td><strong>Spread (<code>...</code>)</strong></td><td>Expands an iterable into individual elements</td><td>When <strong>passing</strong> or <strong>copying</strong> data</td></tr><tr><td><strong>Rest (<code>...</code>)</strong></td><td>Collects multiple elements into one array&#x2F;object</td><td>When <strong>receiving</strong> or <strong>destructuring</strong> data</td></tr></tbody></table><p><strong>Think:</strong></p><blockquote><p>🔹 Spread &#x3D; explode<br>🔹 Rest &#x3D; gather</p></blockquote><hr><h2 id="Spread-Operator"><a href="#Spread-Operator" class="headerlink" title="Spread Operator"></a>Spread Operator</h2><p>The <strong>Spread Operator</strong> is used to <strong>unpack</strong> elements from arrays, strings, or objects.</p><h3 id="Expanding-an-Array"><a href="#Expanding-an-Array" class="headerlink" title="Expanding an Array"></a>Expanding an Array</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(...arr); <span class="comment">// 1 2 3</span></span><br></pre></td></tr></table></figure><hr><h3 id="Copying-Arrays"><a href="#Copying-Arrays" class="headerlink" title="Copying Arrays"></a>Copying Arrays</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> copy = [...numbers];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(copy); <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure><p>Creates a <strong>shallow copy</strong> (nested objects still share reference).</p><hr><h3 id="Merging-Arrays"><a href="#Merging-Arrays" class="headerlink" title="Merging Arrays"></a>Merging Arrays</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fruits = [<span class="string">&quot;APPLE&quot;</span>, <span class="string">&quot;BANANA&quot;</span>];</span><br><span class="line"><span class="keyword">const</span> veggies = [<span class="string">&quot;CARROT&quot;</span>, <span class="string">&quot;CROCOLI&quot;</span>];</span><br><span class="line"><span class="keyword">const</span> food = [...fruits, ...veggies];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(food); <span class="comment">// [&quot;APPLE&quot;, &quot;BANANA&quot;, &quot;CARROT&quot;, &quot;BROCOLI&quot;]</span></span><br></pre></td></tr></table></figure><hr><h3 id="Adding-Elements"><a href="#Adding-Elements" class="headerlink" title="Adding Elements"></a>Adding Elements</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> base = [<span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> extended = [<span class="number">1</span>, ...base, <span class="number">4</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(extended); <span class="comment">// [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure><hr><h3 id="Spreading-Strings-Iterables"><a href="#Spreading-Strings-Iterables" class="headerlink" title="Spreading Strings (Iterables)"></a>Spreading Strings (Iterables)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> chars = [...<span class="string">&quot;hello&quot;</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(chars); <span class="comment">// [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;]</span></span><br></pre></td></tr></table></figure><hr><h3 id="Copying-and-Merging-Objects-ES2018"><a href="#Copying-and-Merging-Objects-ES2018" class="headerlink" title="Copying and Merging Objects (ES2018+)"></a>Copying and Merging Objects (ES2018+)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user = &#123; <span class="attr">name</span>: <span class="string">&quot;Alice&quot;</span>, <span class="attr">age</span>: <span class="number">25</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> clone = &#123; ...user &#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(clone); <span class="comment">// &#123; name: &quot;Alice&quot;, age: 25 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> defaults = &#123; <span class="attr">theme</span>: <span class="string">&quot;light&quot;</span>, <span class="attr">fontSize</span>: <span class="number">14</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> userSettings = &#123; <span class="attr">theme</span>: <span class="string">&quot;dark&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> settings = &#123; ...defaults, ...userSettings &#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(settings); <span class="comment">// &#123; theme: &quot;dark&quot;, fontSize: 14 &#125;</span></span><br></pre></td></tr></table></figure><p>Later spreads overwrite earlier ones.</p><hr><h3 id="Adding-Overriding-Properties-in-Objects"><a href="#Adding-Overriding-Properties-in-Objects" class="headerlink" title="Adding &#x2F; Overriding Properties in Objects"></a>Adding &#x2F; Overriding Properties in Objects</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123; <span class="attr">name</span>: <span class="string">&quot;Sophy&quot;</span>, <span class="attr">age</span>: <span class="number">21</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> updated = &#123; ...person, <span class="attr">age</span>: <span class="number">22</span>, <span class="attr">country</span>: <span class="string">&quot;Malaysia&quot;</span> &#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(updated);</span><br><span class="line"><span class="comment">// &#123; name: &quot;Sophy&quot;, age: 22, country: &quot;Malaysia&quot; &#125;</span></span><br></pre></td></tr></table></figure><hr><h3 id="Spread-in-Function-Calls"><a href="#Spread-in-Function-Calls" class="headerlink" title="Spread in Function Calls"></a>Spread in Function Calls</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">a, b, c</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b + c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(...nums)); <span class="comment">// 6</span></span><br></pre></td></tr></table></figure><p>Equivalent to <code>sum(1, 2, 3)</code>.</p><hr><h2 id="Rest-Parameters-in-Functions"><a href="#Rest-Parameters-in-Functions" class="headerlink" title="Rest Parameters (in Functions)"></a>Rest Parameters (in Functions)</h2><p>Used in <strong>function parameter lists</strong> to gather all remaining arguments into an array.</p><h3 id="Example-1-Collecting-Arguments"><a href="#Example-1-Collecting-Arguments" class="headerlink" title="Example 1: Collecting Arguments"></a>Example 1: Collecting Arguments</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">...numbers</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> numbers.<span class="title function_">reduce</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>));     <span class="comment">// 6</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>));  <span class="comment">// 60</span></span><br></pre></td></tr></table></figure><p><code>...numbers</code> collects all arguments into a single array, and name that array <code>numbers</code>.</p><hr><h3 id="Example-2-Mixing-Fixed-Rest-Parameters"><a href="#Example-2-Mixing-Fixed-Rest-Parameters" class="headerlink" title="Example 2: Mixing Fixed + Rest Parameters"></a>Example 2: Mixing Fixed + Rest Parameters</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">introduce</span>(<span class="params">firstName, ...hobbies</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hi, I’m <span class="subst">$&#123;firstName&#125;</span>`</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`I like: <span class="subst">$&#123;hobbies.join(<span class="string">&quot;, &quot;</span>)&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">introduce</span>(<span class="string">&quot;Sophy&quot;</span>, <span class="string">&quot;piano&quot;</span>, <span class="string">&quot;coding&quot;</span>, <span class="string">&quot;reading&quot;</span>);</span><br><span class="line"><span class="comment">// Hi, I’m Sophy</span></span><br><span class="line"><span class="comment">// I like: piano, coding, reading</span></span><br></pre></td></tr></table></figure><p>✅ <code>firstName</code> takes the first argument.<br>✅ <code>...hobbies</code> gathers the rest into an array.</p><hr><h3 id="Rules"><a href="#Rules" class="headerlink" title="Rules:"></a>Rules:</h3><ul><li>The <strong>rest parameter must be last</strong> in the parameter list.<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">bad</span>(<span class="params">...nums, x</span>) &#123;&#125; <span class="comment">// ❌ SyntaxError</span></span><br></pre></td></tr></table></figure></li><li>Can only appear <strong>once</strong> in a function parameter list.</li></ul><hr><h2 id="Rest-Pattern-in-Destructuring"><a href="#Rest-Pattern-in-Destructuring" class="headerlink" title="Rest Pattern (in Destructuring)"></a>Rest Pattern (in Destructuring)</h2><p>Used to collect <strong>the remaining elements</strong> after destructuring an array or object.</p><hr><h3 id="Example-1-Array-Destructuring"><a href="#Example-1-Array-Destructuring" class="headerlink" title="Example 1: Array Destructuring"></a>Example 1: Array Destructuring</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [a, b, ...others] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);      <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);      <span class="comment">// 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(others); <span class="comment">// [3, 4, 5]</span></span><br></pre></td></tr></table></figure><p>✅ <code>a</code> and <code>b</code> get the first two elements.<br>✅ <code>...others</code> gathers the remaining ones.</p><hr><h3 id="Example-2-Object-Destructuring"><a href="#Example-2-Object-Destructuring" class="headerlink" title="Example 2: Object Destructuring"></a>Example 2: Object Destructuring</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Emulisy&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">22</span>,</span><br><span class="line">  <span class="attr">country</span>: <span class="string">&quot;Malaysia&quot;</span>,</span><br><span class="line">  <span class="attr">hobby</span>: <span class="string">&quot;Piano&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; name, ...restInfo &#125; = person;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name);      <span class="comment">// &quot;Emulisy&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(restInfo);  <span class="comment">// &#123; age: 22, country: &quot;Malaysia&quot;, hobby: &quot;Piano&quot; &#125;</span></span><br></pre></td></tr></table></figure><p>✅ <code>restInfo</code> collects the remaining key-value pairs.</p><hr><h3 id="Example-3-Nested-Destructuring"><a href="#Example-3-Nested-Destructuring" class="headerlink" title="Example 3: Nested Destructuring"></a>Example 3: Nested Destructuring</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> data = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">user</span>: &#123; <span class="attr">first</span>: <span class="string">&quot;Sophy&quot;</span>, <span class="attr">last</span>: <span class="string">&quot;Lee&quot;</span> &#125;,</span><br><span class="line">  <span class="attr">stats</span>: &#123; <span class="attr">score</span>: <span class="number">95</span>, <span class="attr">level</span>: <span class="number">3</span> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; user, ...otherData &#125; = data;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(user);       <span class="comment">// &#123; first: &quot;Sophy&quot;, last: &quot;Lee&quot; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(otherData);  <span class="comment">// &#123; id: 1, stats: &#123; score: 95, level: 3 &#125; &#125;</span></span><br></pre></td></tr></table></figure><hr><h2 id="Combining-Spread-Rest"><a href="#Combining-Spread-Rest" class="headerlink" title="Combining Spread + Rest"></a>Combining Spread + Rest</h2><p>They often appear together when copying or modifying arrays&#x2F;objects.</p><h3 id="Example-Immutability-in-React"><a href="#Example-Immutability-in-React" class="headerlink" title="Example (Immutability in React)"></a>Example (Immutability in React)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> student = &#123; <span class="attr">name</span>: <span class="string">&quot;Sophy&quot;</span>, <span class="attr">age</span>: <span class="number">21</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> updated = &#123; ...student, <span class="attr">age</span>: <span class="number">22</span>, <span class="attr">city</span>: <span class="string">&quot;Melbourne&quot;</span> &#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(updated);</span><br><span class="line"><span class="comment">// &#123; name: &quot;Sophy&quot;, age: 22, city: &quot;Melbourne&quot; &#125;</span></span><br></pre></td></tr></table></figure><h3 id="Example-Destructuring-then-Spreading"><a href="#Example-Destructuring-then-Spreading" class="headerlink" title="Example (Destructuring then Spreading)"></a>Example (Destructuring then Spreading)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [first, ...rest] = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(first); <span class="comment">// 10</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rest);  <span class="comment">// [20, 30, 40]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> newArr = [first, ...rest];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newArr); <span class="comment">// [10, 20, 30, 40]</span></span><br></pre></td></tr></table></figure><hr><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><table><thead><tr><th>Feature</th><th>Symbol</th><th>Direction</th><th>Example</th></tr></thead><tbody><tr><td><strong>Spread Operator</strong></td><td><code>...</code></td><td>Expands &#x2F; Unpacks</td><td><code>[...arr]</code> → separate values</td></tr><tr><td><strong>Rest Pattern</strong></td><td><code>...</code></td><td>Gathers &#x2F; Packs</td><td><code>[a, ...rest]</code> → array of leftovers</td></tr><tr><td><strong>Rest Parameter</strong></td><td><code>...</code></td><td>Gathers function args</td><td><code>function f(...args)</code></td></tr></tbody></table><hr>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 编程 </tag>
            
            <tag> frontend </tag>
            
            <tag> 前端 </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javascript Engine</title>
      <link href="/2025/10/09/Javascript%20Engine/"/>
      <url>/2025/10/09/Javascript%20Engine/</url>
      
        <content type="html"><![CDATA[<h2 id="Javascript-overview"><a href="#Javascript-overview" class="headerlink" title="Javascript overview"></a>Javascript overview</h2><ul><li><strong>High-level</strong>: As a <strong>high level language</strong>, unlike C language, js arranges garbage collection and memory allocation for us.</li><li><strong>Just-in-time compiled</strong>: </li><li><strong>Multi-paradigm</strong>: JS supports procedural, object-oriented and functional programming, unlike C which does not support OOP(object-oriented programming), making JS more flexible and versatile.</li><li><strong>Single threaded with non-blocking event loop</strong>: enables concurrency, which is handling multiple tasks at the same time.</li></ul><hr><h2 id="Compiled-language-vs-Interpreted-language-vs-Javascript"><a href="#Compiled-language-vs-Interpreted-language-vs-Javascript" class="headerlink" title="Compiled language vs Interpreted language vs Javascript"></a>Compiled language vs Interpreted language vs Javascript</h2><table><thead><tr><th>Knowledge point</th><th>Compiled languages</th><th>Interpreted languages</th></tr></thead><tbody><tr><td><strong>Execution process</strong></td><td>Compiled ahead-of-time into machine code.</td><td>Interpreted at runtime line by line, but still need to be compiled into machine code.</td></tr><tr><td><strong>Output files</strong></td><td>Produces an executable (.exe, .out).</td><td>Usually no standalone file; may produce bytecode (.pyc).</td></tr></tbody></table><p>JS on the other hand is not purely interpreted nor compiled:</p><blockquote><p><strong>Modern JavaScript Execution Process</strong></p><ol><li>Parsing: Source code → Abstract Syntax Tree (AST).</li><li>Interpretation: AST → Bytecode (executed immediately).</li><li>JIT Compilation: Frequently executed (“hot”) code → Machine code at runtime.</li><li>Optimization: Compiled machine code is cached for future use.</li></ol></blockquote><p><strong>Key Differences</strong></p><table><thead><tr><th></th><th><strong>Compiled Language</strong></th><th><strong>Interpreted Language</strong></th><th><strong>JavaScript (Modern)</strong></th></tr></thead><tbody><tr><td><strong>Translation time</strong></td><td>Before execution</td><td>During execution</td><td>During execution (JIT)</td></tr><tr><td><strong>Machine code output</strong></td><td>Yes (permanent binary)</td><td>No</td><td>Yes (temporary, generated at runtime)</td></tr><tr><td><strong>Performance</strong></td><td>Fast</td><td>Slower</td><td>Fast after JIT optimization</td></tr><tr><td><strong>Recompilation needed</strong></td><td>Yes, if code changes</td><td>No</td><td>No, JIT dynamically adapts</td></tr><tr><td><strong>Flexibility &#x2F; Portability</strong></td><td>Low (platform-dependent)</td><td>High (platform-independent)</td><td>Very high (runs on any JS engine)</td></tr><tr><td><strong>Examples</strong></td><td>C, C++, Rust</td><td>Python, Ruby, PHP</td><td>JavaScript (V8, SpiderMonkey, etc.)</td></tr></tbody></table><hr><h2 id="JS-Engine-and-Runtime"><a href="#JS-Engine-and-Runtime" class="headerlink" title="JS Engine and Runtime"></a>JS Engine and Runtime</h2><p>JS Engine is a program that executes JS code, just like the <strong>V8</strong> in Chrome, which supports JS and Node-JS.</p><p>All JS engines have two parts: a call stack and a heap.</p><ul><li>Heap: where the engine stores all the objects, it is an unstructured memory pool.</li><li>Call Stack: contains <strong>execute contexts</strong>, and is where our code is executed.</li></ul><h3 id="JS-Runtime"><a href="#JS-Runtime" class="headerlink" title="JS Runtime"></a>JS Runtime</h3><p>If we imagine JS runtime as a box, then in the box we have three components: </p><ul><li>JS Engine</li><li>Web APIs: DOM, Fetch API, etc.</li><li>Callback queue: where callback functions are stored</li></ul><p>Together, they form what we call the Event Loop mechanism, especially between call stack in JS engine and the callback queue.</p><hr><h2 id="Execution-context"><a href="#Execution-context" class="headerlink" title="Execution context"></a>Execution context</h2><h3 id="What-is-Execution-Context"><a href="#What-is-Execution-Context" class="headerlink" title="What is Execution Context"></a>What is Execution Context</h3><p>We explained that inside the call stack in JS engine where the code is actually executed, there are execution contexts.</p><p>An execution context is an environment in which a piece of JavaScript code is evaluated and executed.<br>It defines how and where variables and functions are accessible, and what value this refers to.</p><p>There are usually two types of execution context:</p><ul><li><p><strong>Global Execution Context (GEC)</strong>:</p><p>  Created (only once) when the JavaScript program starts. It contains top level codes like global variables and functions (codes that are not in any function), and represents the global scope (e.g., window in browsers, global in Node.js).</p></li><li><p><strong>Function Execution Context (FEC)</strong>：<br>Created every time a function is called. Each function has its own context with new variable scope and this binding</p></li></ul><h3 id="What-is-inside-Execution-Context"><a href="#What-is-inside-Execution-Context" class="headerlink" title="What is inside Execution Context"></a>What is inside Execution Context</h3><ul><li><p>When the execution context is created, JS sets up the environment and:</p><ul><li>Creates the <strong>Variable Environment</strong></li><li>Creates the <strong>Lexical Environment</strong></li><li>Sets the target of <code>this</code></li></ul></li><li><p>When the execution context is in execution phase:</p><ul><li>The code is executed line by line.</li><li>Variables are assigned their actual values.</li><li>Functions are invoked and possibly create new execution contexts.</li></ul></li></ul><blockquote><p>Variable Environment: contains:</p><ul><li>variables declared with <code>var</code></li><li>function declarations<blockquote><p>and both of them are hoisted in the creation phase</p></blockquote></li></ul></blockquote><blockquote><p>Lexical Environment contains Environment Record + Reference to Outer Lexical Environment, that is:</p><ul><li>Reference to outer scopes (basis of <strong>scope chain</strong>)</li><li>variable declared with <code>const</code> or <code>let</code>, which has block scope.</li><li>arguments passed into the function(forms a <code>argument</code> object)</li></ul></blockquote><h3 id="Scope-chain"><a href="#Scope-chain" class="headerlink" title="Scope chain"></a>Scope chain</h3><p>When you try to access a variable:</p><ol><li>The JS engine first looks for it in the current lexical environment.</li><li>If not found, it goes to the outer environment (parent scope).</li><li>This continues until:<ul><li>The variable is found, or</li><li>The engine reaches the global scope (and throws an error if not found).</li></ul></li></ol><p>The basis is that the inner function stores the lexical environment of the outer function.</p><h3 id="Hoisting-and-TDZ-Temporary-Dead-Zone"><a href="#Hoisting-and-TDZ-Temporary-Dead-Zone" class="headerlink" title="Hoisting and TDZ(Temporary Dead Zone)"></a>Hoisting and TDZ(Temporary Dead Zone)</h3><p>In the creation phase of the execution context, all variables <code>var</code> <code>let</code> <code>const</code> are hoisted, meaning their declarations are moved to the top of their scope in memory.</p><table><thead><tr><th>Declaration Type</th><th>Hoisted?</th><th>Initialized?</th><th>Accessible Before Declaration?</th></tr></thead><tbody><tr><td><code>var</code></td><td>✅ Yes</td><td>✅ Initialized to <code>undefined</code></td><td>✅ Yes (value &#x3D; <code>undefined</code>)</td></tr><tr><td><code>let</code></td><td>✅ Yes</td><td>❌ Not initialized</td><td>❌ No (in TDZ)</td></tr><tr><td><code>const</code></td><td>✅ Yes</td><td>❌ Not initialized</td><td>❌ No (in TDZ)</td></tr><tr><td><code>function</code></td><td>✅ Yes</td><td>✅ Fully initialized</td><td>✅ Yes (can be called)</td></tr></tbody></table><blockquote><p><strong>TDZ</strong>: A region between entering the scope and the actual declaration of <code>let</code>&#x2F;<code>const</code>, where the variable cannot be accessed.</p><p>Its purpose is to enforce “declare before use”, which increases code safety and clarity. Hence, we usually use <code>let</code>&#x2F;<code>const</code> rather than <code>var</code> when declaring variables.</p></blockquote><hr><h2 id="This-Keyword"><a href="#This-Keyword" class="headerlink" title="This Keyword"></a><code>This</code> Keyword</h2><h3 id="Dynamic-this"><a href="#Dynamic-this" class="headerlink" title="Dynamic this"></a>Dynamic <code>this</code></h3><p>After learning Java, I always though <code>this</code> keyword is static and bind with the object when it is created:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">person</span>(String name)&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">20</span>; <span class="comment">//This is not the class attribute</span></span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">Person</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(emulisy);</span><br><span class="line"></span><br><span class="line">System.out.println(a.name); <span class="comment">//we get emulisy</span></span><br><span class="line">System.out.println(a.age); <span class="comment">//error</span></span><br></pre></td></tr></table></figure><p>The name of the Person class is set using <code>this</code> by the time we create the <code>a</code> object with <code>new</code> keyword.</p><p>However, that is not the case in Javascript. <code>this</code> keyword is dynamic in js:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> emulisy = &#123;</span><br><span class="line">    <span class="attr">birthYear</span>: <span class="number">2003</span>,</span><br><span class="line">    <span class="attr">name</span>: emulisy,</span><br><span class="line">    <span class="title function_">getAge</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2025</span> - <span class="variable language_">this</span>.<span class="property">birthYear</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(emulisy.<span class="title function_">getAge</span>()); <span class="comment">//this one would behave just like in java, and give 22.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sophy = &#123;</span><br><span class="line">    <span class="attr">birthYear</span>: <span class="number">2004</span>,</span><br><span class="line">    <span class="attr">name</span>: sophy,</span><br><span class="line">&#125;</span><br><span class="line">sophy.<span class="property">getAge</span> = emulisy.<span class="property">getAge</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sophy.<span class="property">getAge</span>); <span class="comment">//However, this gives the correct 21, but in java this would give 22.</span></span><br></pre></td></tr></table></figure><p>This is because in Javascript, <code>this</code> is dynamic and its target is defined by its usage.</p><h3 id="What-this-points-to"><a href="#What-this-points-to" class="headerlink" title="What this points to?"></a>What <code>this</code> points to?</h3><ul><li>In the Global Scope <code>this</code> points to the <code>window</code> object</li><li>In a regular function call, this points to <code>window</code> by default, or to <code>undefined</code> in strict mode.</li><li>In a function call that has an owner, <code>this</code> points to the caller object.</li><li>Arrow Functions are not <code>this</code> binding, therefore the <code>this</code> inherits from its outer scope.</li><li>When using <code>new</code> to create an object with constructor, <code>this</code> points to the newly created object.</li></ul><h3 id="bind-apply-and-call"><a href="#bind-apply-and-call" class="headerlink" title="bind apply and call"></a><code>bind</code> <code>apply</code> and <code>call</code></h3><p>There are ways to manually control <code>this</code>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="title class_">Emulisy</span>,</span><br><span class="line">    <span class="title function_">greet</span>(<span class="params">year</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Greetings <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>! Welcome to <span class="subst">$&#123;year&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">person.<span class="title function_">greet</span>(<span class="number">2025</span>); <span class="comment">//Greetings Emulisy! Welcome to 2025</span></span><br><span class="line"><span class="keyword">const</span> greetFunc = person.<span class="property">greet</span>;</span><br></pre></td></tr></table></figure><p>if we simply call <code>greetFunc(2025)</code>, since it is a regular function call, <code>this</code> points to the <code>undefined</code> in strict mode.</p><p>Assuming I have another object:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sophia = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="title class_">Sophia</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Now I want to print <code>Greetings Sophia! Welcome to 2025</code></p><ul><li><code>call</code>: the basic syntax is  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">greetFunc.<span class="title function_">call</span>(sophia, <span class="number">2025</span>);</span><br></pre></td></tr></table></figure>The first argument is what <code>this</code> points to, and the rest argument is what passed to the original function.</li><li><code>apply</code>: it’s almost the same as <code>call</code>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">greetFunc.<span class="title function_">apply</span>(sophia, [<span class="number">2025</span>]);</span><br></pre></td></tr></table></figure>But we store all original arguments in an array.</li><li><code>bind</code>: bind works differently.  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> greetSophia = greetFunc.<span class="title function_">bind</span>(sophia, <span class="number">2025</span>);</span><br><span class="line">greetSophia;</span><br></pre></td></tr></table></figure>Doing so we permanently bind <code>this</code> in greetSophia to sophia and the argument is always 2025. Even if I use <code>greetSophia(2026)</code>, the passed argument is still 2025.<br>However, <code>bind</code> does not change the original function, it creates a new function that has specific <code>this</code> binding and argument(optional).</li></ul><hr><h2 id="Functions-Behind-the-scene"><a href="#Functions-Behind-the-scene" class="headerlink" title="Functions Behind the scene"></a>Functions Behind the scene</h2><h3 id="Function-Lifecycle"><a href="#Function-Lifecycle" class="headerlink" title="Function Lifecycle"></a>Function Lifecycle</h3><ol><li><p>Creation: </p><p>When the function is created in the compile phase, it will be <strong>stored in the heap as an object</strong>, containing its lexical environment and identifier. This is when the scope chain is created, as the engine now memorizes “where” the function is located.</p></li><li><p>Invocation:</p><p>When we invoke a function, <strong>a new execution context will be created and pushed into the stack</strong>, while the parameters and variables in it will be assigned specific value. Then the function will be ready for execution.</p></li><li><p>Execution:</p><p>This is where the function actually executes line by line.</p></li><li><p>Destruction:</p><p>After execution, <strong>the engine pops the execution context from the call stack</strong>, and the variable environment will be destroyed. If there is no closure, the local variables will be handled by GC(garbage collection).</p></li></ol><blockquote><p><strong>Immediately Invoked Function Expression:</strong></p><p>Functions that are invoked and executed instantly upon creation. The syntax is:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;IIFE runs!&quot;</span>);</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="comment">//or</span></span><br><span class="line">(<span class="function">() =&gt;</span> &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;arrow IIFE&quot;</span>);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></blockquote><h3 id="Closure"><a href="#Closure" class="headerlink" title="Closure"></a>Closure</h3><p>A closure happens when the function’s outer environment (in heap) outlives its call stack frame.</p><p>When a function finished execution, its execution context will be destroyed. But its lexical environment will be passed to inner functions, and will be stored in the inner functions scope chain. Therefore, if we assign inner function to a variable, we can still access the outer variable after the outer function is gone.</p><h4 id="Why-do-we-need-closure"><a href="#Why-do-we-need-closure" class="headerlink" title="Why do we need closure?"></a>Why do we need closure?</h4><p>Closure is very useful in memorization, function factories and defining private variables. Here we confuse on the last one:</p><p>In Java, we can use the identifier <code>private</code> to make sure that the variable can only be accessed through its parent class. This enables encapsulation. But we don’t have this kind of identifiers in js.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createCounter</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> count = <span class="number">0</span>; <span class="comment">// private variable</span></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">      count++;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(count);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">reset</span>(<span class="params"></span>) &#123;</span><br><span class="line">      count = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> counter = <span class="title function_">createCounter</span>();</span><br><span class="line">counter.<span class="title function_">increment</span>(); <span class="comment">// 1</span></span><br><span class="line">counter.<span class="title function_">increment</span>(); <span class="comment">// 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(counter.<span class="property">count</span>); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><p>By storing the returned function, we created a closure. This way we can only access the <code>count</code> using the inner function.</p><hr><h2 id="Memory-Management-and-Garbage-Collection"><a href="#Memory-Management-and-Garbage-Collection" class="headerlink" title="Memory Management and Garbage Collection"></a>Memory Management and Garbage Collection</h2><h3 id="Memory-allocation"><a href="#Memory-allocation" class="headerlink" title="Memory allocation"></a>Memory allocation</h3><p>Memory is allocated whenever you create data:</p><ul><li>For primitive types: stored in call stack</li><li>For objects: stored in heap</li><li>For object references: also stored in the stack</li></ul><blockquote><p><strong>Object References</strong>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="title class_">Emulisy</span>,</span><br><span class="line"><span class="title class_">Gender</span>: male</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Here the <code>person</code> is an object reference that points to the actual object in heap。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> emulisy = person;</span><br></pre></td></tr></table></figure><p>Here we created another reference, but both <code>emulisy</code> and <code>person</code> points to the same object.</p></blockquote><h3 id="Shallow-and-deep-copy"><a href="#Shallow-and-deep-copy" class="headerlink" title="Shallow and deep copy"></a>Shallow and deep copy</h3><ul><li><strong>Primitive Value:</strong><br>  Primitive values are stored in the stack, and are copied by value.  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">10</span>;</span><br><span class="line">b = a;</span><br><span class="line">a = <span class="number">5</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">//5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">//10</span></span><br></pre></td></tr></table></figure><ul><li><strong>Objects</strong>:<br>  Objects are stored in the heap, and we can only access them using object references. So when we copy the object references, we create a new pointer to the same object.  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123; <span class="attr">name</span>: <span class="string">&quot;Sophia&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> obj2 = obj1;</span><br><span class="line">obj2.<span class="property">name</span> = <span class="string">&quot;Emulisy&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">name</span>); <span class="comment">// &quot;Emulisy&quot; — same reference</span></span><br></pre></td></tr></table></figure>But this is NOT a shallow copy, this is simply assigning a new reference since no object is created.</li></ul></li></ul><h4 id="Shallow-copy"><a href="#Shallow-copy" class="headerlink" title="Shallow copy"></a>Shallow copy</h4><p>A shallow copy creates a new object, but the inner objects are still shared (same reference).</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Sophia&quot;</span>,</span><br><span class="line">  <span class="attr">address</span>: &#123; <span class="attr">city</span>: <span class="string">&quot;Melbourne&quot;</span> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> copy = &#123; ...person &#125;; <span class="comment">// or Object.assign(&#123;&#125;, person)</span></span><br><span class="line">copy.<span class="property">name</span> = <span class="string">&quot;Emulisy&quot;</span>;</span><br><span class="line">copy.<span class="property">address</span>.<span class="property">city</span> = <span class="string">&quot;Sydney&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">name</span>); <span class="comment">// &quot;Sophia&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">address</span>.<span class="property">city</span>); <span class="comment">// &quot;Sydney&quot;  shared reference</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>We can see that although the <code>copy</code> is a different object, its inner object <code>address</code> is the same as the <code>person</code>.</p><p>So how to create a shallow copy:</p><ul><li>Use the spread operator: <code>newObj = &#123;...oldObj&#125;</code></li><li>Use <code>Object.assign(&#123;&#125;, oldObj)</code></li></ul><blockquote><p><code>Object.assign(target, ...source)</code>: put enumerable properties in the source to the target, doing so changes the target.</p><p>But we can also create a new object using <code>const newObj = Object.assign(&#123;&#125;, oldObj)</code></p><p>We can also copy multiple objects into the new object:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123; <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> obj3 = &#123; <span class="attr">c</span>: <span class="number">3</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, obj1, obj2, obj3);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result); <span class="comment">// &#123; a: 1, b: 2, c: 3 &#125;</span></span><br></pre></td></tr></table></figure></blockquote><h4 id="Deep-Clone"><a href="#Deep-Clone" class="headerlink" title="Deep Clone"></a>Deep Clone</h4><p>A deep copy duplicates all levels of nested objects, so nothing is shared.</p><p>To create a deep clone, we can:</p><ul><li>Using <code>structuredClone</code> (<em>most recommended</em>)  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Sophia&quot;</span>,</span><br><span class="line">  <span class="attr">address</span>: &#123; <span class="attr">city</span>: <span class="string">&quot;Melbourne&quot;</span> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> deepCopy = <span class="title function_">structuredClone</span>(person);</span><br><span class="line">deepCopy.<span class="property">address</span>.<span class="property">city</span> = <span class="string">&quot;Sydney&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">address</span>.<span class="property">city</span>); <span class="comment">// &quot;Melbourne&quot;</span></span><br></pre></td></tr></table></figure></li><li>Use Json: (<em>usually limited</em>)  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> deepCopy = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(person));</span><br></pre></td></tr></table></figure>  This is not recommended as JSON cloning removes functions, undefined, and special types.</li><li>Clone manually using recursion: (<em>nobody would do that lol</em>)  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (obj === <span class="literal">null</span> || <span class="keyword">typeof</span> obj !== <span class="string">&quot;object&quot;</span>) <span class="keyword">return</span> obj;</span><br><span class="line">  <span class="keyword">const</span> clone = <span class="title class_">Array</span>.<span class="title function_">isArray</span>(obj) ? [] : &#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    clone[key] = <span class="title function_">deepClone</span>(obj[key]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> clone;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 编程 </tag>
            
            <tag> frontend </tag>
            
            <tag> 前端 </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS Fundamentals (1)</title>
      <link href="/2025/09/18/CSS%20Fundamentals%20(1)/"/>
      <url>/2025/09/18/CSS%20Fundamentals%20(1)/</url>
      
        <content type="html"><![CDATA[<h1 id="CSS-Fundamentals-1-CSS-Selectors-and-Cascading"><a href="#CSS-Fundamentals-1-CSS-Selectors-and-Cascading" class="headerlink" title="CSS Fundamentals (1) - CSS Selectors and Cascading"></a>CSS Fundamentals (1) - CSS Selectors and Cascading</h1><hr><h2 id="Basic-Selectors"><a href="#Basic-Selectors" class="headerlink" title="Basic Selectors"></a>Basic Selectors</h2><h3 id="Type-Element-Selector"><a href="#Type-Element-Selector" class="headerlink" title="Type(Element) Selector"></a>Type(Element) Selector</h3><p>In html we have tags for each element, type selector selects all the elements with the specific tag:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#00c4b6</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="Class-Selector"><a href="#Class-Selector" class="headerlink" title="Class Selector"></a>Class Selector</h3><p>In html, we can add class attribute to every element, each element can have multiple classes. The class selector can select elements that have the same class attribute.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.className</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#0d0d0d</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>But sometimes we want to style specific elements that have class applied:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-class">.className</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="number">#86fffa</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This styles all <code>p</code> elements that have the class <code>className </code> applied(<em>No spaces between tag name and class name</em>).</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.className1</span><span class="selector-class">.className2</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">4px</span> solid black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This styles ALL elements that have BOTH <code>className1</code> and <code>className2</code> applied.</p><hr><h3 id="ID-Selector"><a href="#ID-Selector" class="headerlink" title="ID Selector"></a>ID Selector</h3><p>Usually the <code>id</code> attribute of a element is unique, so we can select the specific element using id selector.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#idName</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#00c4b6</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Just like the class selector, we can combine it with tag name to be more specific.(<em>But id selector is already the most specific selector, so this only works for large projects where elements may share unique ids</em>)</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-id">#idName</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#00c4b6</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="Selector-List"><a href="#Selector-List" class="headerlink" title="Selector List"></a>Selector List</h3><p>Sometimes there are multiple elements that need the same styling, we can style them together using selector list:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>, <span class="selector-class">.className</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="number">#0d0d0d</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span></span><br><span class="line"><span class="selector-id">#idName</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>You can either separate them with <code>,</code> or write them on different lines. The first example is the same as:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="number">#0d0d0d</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.className</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="number">#0d0d0d</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="Attribute-Selector"><a href="#Attribute-Selector" class="headerlink" title="Attribute Selector"></a>Attribute Selector</h3><p>Sometimes we want to select elements that have specific attribute:</p><ul><li><pre><code class="language-CSS">  p[attribute] &#123;  color: black;  &#125;  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">    This selects all `&lt;p&gt;` elements that have the `attribute`, regardless of the value of the attribute.</span><br><span class="line">    (*The element can only be tag name, and can be omitted. If omitted, it will select all elements with the attribute*)</span><br><span class="line">* ```CSS</span><br><span class="line">    a[href=&quot;github.com&quot;] &#123;</span><br><span class="line">        color: #3d8fd1;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>This way we can select those elements with the attribute and have the specific value.</code></pre></li><li><pre><code class="language-CSS">p[class~=&quot;example&quot;] &#123;  color: #3d8fd1;&#125;  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">  This selects all `p` tags that have the attribute class=&quot;example&quot;. But `~=` means the target elements only need to have the value in its list of values.</span><br><span class="line"></span><br><span class="line">There are also attribute selectors for [value substrings](https://developer.mozilla.org/en-US/docs/Learn_web_development/Core/Styling_basics/Attribute_selectors), but they are rarely used.</span><br><span class="line"></span><br><span class="line">***</span><br><span class="line">### Pseudo-classes and pseudo-elements selector</span><br><span class="line">In the former selectors, if we want to maintain the site, we inevitably have to edit the HTML, like changing the classes, id or adding attributes. But that is not always available. </span><br><span class="line">Pseudo classes and elements however, only target at HTML elements in a certain state, and they behave as if you had added something to your HTML.</span><br><span class="line">#### User-action pseudo classes</span><br><span class="line">These classes behave like a class has been added to the element when user interact with them. They start with a `:`.</span><br><span class="line">* `:hover`:triggered when user moves their pointer over an element.</span><br><span class="line">* `:focus`: triggered when user click or use `tab` to select and element.</span><br><span class="line">* `:nth-child`: select the n-th child of the element.</span><br><span class="line">Using them we can make a hyperlink change color when user points at it:</span><br><span class="line">```html</span><br><span class="line">&lt;a href=&quot;github.com&quot;&gt;github link&lt;/a&gt;</span><br></pre></td></tr></table></figure></code></pre></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="pseudo-element"><a href="#pseudo-element" class="headerlink" title="pseudo element"></a>pseudo element</h4><p>This one behaves as if you added a new html element to the page. They start with <code>::</code>.</p><ul><li><code>::first-line</code>: selects the first line of the element dynamically.</li><li><code>::before</code>: add another inline element in front of the father element. Must be accompanied by content.<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;this is a hyperlink&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><code>::after</code>: the same as <code>::before</code> but added as an immediate child. Must be used with <code>content</code>.</li></ul><h4 id="Combining-pseudo-class-and-elements"><a href="#Combining-pseudo-class-and-elements" class="headerlink" title="Combining pseudo class and elements"></a>Combining pseudo class and elements</h4><p>We can concatenate pseudo classes without limitation, as long as they don’t contradict with each other:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;score&quot;</span>&gt;</span>Please enter a score:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;score&quot;</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">max</span>=<span class="string">&quot;100&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>Result:<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:focus</span><span class="selector-pseudo">:out-of-range</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/../img/CSS%20Fundamentals/pseudoclass%20before.png" alt="pseudoclass before.png"><br><img src="/../img/CSS%20Fundamentals/pseudoclass%20after.png" alt="pseudoclass after.png"><br>Now only when user tries to input more than 100 will the background turn red.</p><p>However, you cannot do the same with pseudo-elements, <strong>they don’t support concatenation</strong>.<br>Still we can concatenate pseudo classes with pseudo-elements, <strong>as long as the element appears at last:</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:focus</span><span class="selector-pseudo">:out-of-range</span> + <span class="selector-tag">h4</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;Score out of range!&quot;</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">150%</span>;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/../img/CSS%20Fundamentals/pseudo%203.png" alt="pseudo 3.png"></p><hr><h3 id="Combinator"><a href="#Combinator" class="headerlink" title="Combinator"></a>Combinator</h3><ul><li>Descendent <code>space</code>:<ul><li><code>header p &#123;&#125;</code> only selects <code>&lt;p&gt;</code> within <code>&lt;header&gt;</code>.</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is ALSO styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is ALSO styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>Child <code>&gt;</code>:<ul><li><code>header &gt; p &#123;&#125;</code> only selects the direct child <code>&lt;p&gt;</code> within <code>&lt;header&gt;</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is ALSO styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is NOT styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>Adjacent sibling <code>+</code>:<ul><li><code>header + p &#123;&#125;</code> only selects the first <code>&lt;p&gt;</code> in the <code>&lt;header&gt;</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is NOT styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is NOT styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>Skips if the direct sibling is not the target:<br> <code>article + p &#123;&#125;</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;example.com&quot;</span>&gt;</span>example<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>target<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line"><span class="comment">&lt;!--This p will not be selected--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>Subsequent-sibling <code>~</code>:<ul><li><code>article ~ p &#123;&#125;</code> Selects the sibling <code>p</code> that is at the same level, unlike the descendent combinator, which targets at all levels:</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is NOT styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is ALSO styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p><em>We can combine all former selectors with combinators, so that we can create big CSS selectors that select specific part of the file. But be careful, as doing so may affect the reusability of CSS rules.</em></p><p><code>ul &gt; li[class=&quot;example&quot;]</code> This one uses attribute selector and child combinator to select the direct child(<code>li</code> list item) of <code>ul</code> that has class <code>example</code></p></blockquote></li></ul><hr><h3 id="Grouping"><a href="#Grouping" class="headerlink" title="Grouping"></a>Grouping</h3><p>We can use <code>,</code> to group selectors together, unlike the combinator, doing so have the same effect as writing them separately.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span>, <span class="selector-tag">h2</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>is the same as:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">h2</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="The-universal-selector"><a href="#The-universal-selector" class="headerlink" title="The universal selector *"></a>The universal selector <code>*</code></h3><p><code>*</code> matches all elements. If you use <code>*</code> alone, it targets at everything in your file. But it is usually used with other selectors and combinators:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> * &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#60fff2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This selects all descendents inside the <code>div</code>.</p><hr><h3 id="Inline-style"><a href="#Inline-style" class="headerlink" title="Inline style"></a>Inline style</h3><p>We can write inline styles in HTML file using the attribute <code>style=&quot;&quot;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;color: red&quot;</span>&gt;</span>Example<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>is the same as </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="The-Cascade"><a href="#The-Cascade" class="headerlink" title="The Cascade"></a>The Cascade</h2><p>CSS stands for Cascading Style Sheet. When there are multiple rules styling the same element, the cascading algorithm decides which rule is applied.</p><blockquote><p>The general rule is that the last CSS rule in the sheet will be applied, given if they have the same specificity.</p></blockquote><h3 id="Specificity"><a href="#Specificity" class="headerlink" title="Specificity"></a>Specificity</h3><p>For a single element: <strong>Type(element) selector &lt; class selector &lt; id selector</strong></p><hr><h3 id="Inheritance"><a href="#Inheritance" class="headerlink" title="Inheritance"></a>Inheritance</h3><p>When you define the properties of the parent element, its child may <strong>inherit</strong> these properties. Like if you define the <code>font-family</code> of the <code>body</code>, by default every letter in your file will inherit such property and use its value as a default font.</p><blockquote><p>Generally speaking, you can only inherit a property only if :</p><ul><li>The property has no value yet</li><li>The property can be inherited (Usually properties related to font or text can be inherited, like <code>font-family</code> or <code>color</code>)</li></ul></blockquote><p>However, there are some <strong>universal property values</strong> we can use to control inheritance:</p><ul><li><code>property=inherit</code>: Enforce inheritance even if the property cannot be inherited.</li><li><code>property=initial</code>: Set the value to the initial state (default value).</li><li><code>property=unset</code>: If the property can be inherited, it behaves like <code>inherit</code>, otherwise it behaves like <code>initial</code></li><li><code>property=revert</code>: Reset to browser’s stylesheet(user-agent stylesheet)</li></ul><blockquote><p><em>We can use the special property-<code>all</code> to represent all properties</em></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line"><span class="attribute">all</span>:initial</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This sets all properties of <code>p</code> to default value.</p></blockquote><hr><h3 id="The-Cascading-Algorithm"><a href="#The-Cascading-Algorithm" class="headerlink" title="The Cascading Algorithm"></a>The Cascading Algorithm</h3><p>When deciding which CSS rule is applied to a certain element, we use the following principles:</p><ol><li><p>First, consider importance:</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line"> <span class="attribute">color</span>: red <span class="meta">!important</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p><code>!important</code> have the highest level priority.</p></li><li><p>Second, consider specificity:<br> We can measure the specificity in numbers:</p><table><thead><tr><th>Selector Type</th><th>Example</th><th>Specificity Value</th></tr></thead><tbody><tr><td>Inline styles</td><td>style&#x3D;”color:red”</td><td>1000</td></tr><tr><td>ID selector</td><td>#header</td><td>100</td></tr><tr><td>Class selector</td><td>.highlight</td><td>10</td></tr><tr><td>Attribute selector</td><td>[type&#x3D;”text”]</td><td>10</td></tr><tr><td>Pseudo-class</td><td>:hover</td><td>10</td></tr><tr><td>Element &#x2F; type selector</td><td>div, p, h1</td><td>1</td></tr><tr><td>Pseudo-element</td><td>::before, ::after</td><td>1</td></tr><tr><td>Universal selector</td><td>*</td><td>0</td></tr><tr><td>Combinators</td><td>div &gt; p, h1 + p</td><td>0</td></tr><tr><td>:where() (special case)</td><td>:where(.class)</td><td>0 (always zero)</td></tr><tr><td>Together combined is the specificity value, the larger one wins.</td><td></td><td></td></tr></tbody></table></li><li><p>Finally, consider source order. That is the one that comes last in the stylesheet wins.</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 编程 </tag>
            
            <tag> frontend </tag>
            
            <tag> 前端 </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML Fundamentals (2)</title>
      <link href="/2025/09/16/HTML%20Fundamentals%20(2)/"/>
      <url>/2025/09/16/HTML%20Fundamentals%20(2)/</url>
      
        <content type="html"><![CDATA[<h1 id="HTML-Fundamentals-2"><a href="#HTML-Fundamentals-2" class="headerlink" title="HTML Fundamentals (2)"></a>HTML Fundamentals (2)</h1><h2 id="Structuring-HTML"><a href="#Structuring-HTML" class="headerlink" title="Structuring HTML"></a>Structuring HTML</h2><p>There are many layout HTML elements that helps to structure the file in an ordered manner. Specifically speaking, the most commonly seen ones are:</p><ul><li><code>&lt;main&gt;</code> is for content unique to this page. Use <code>&lt;main&gt;</code> only once per page, and put it directly inside <body>. Ideally this shouldn’t be nested within other elements.</li><li><code>&lt;article&gt;</code> encloses a block of related content that makes sense on its own without the rest of the page (<em>for example, a single blog post. If you use your dev tool in your browser on this page, you may find the whole blog content is wrapped within a <code>&lt;article&gt;</code> tag.</em>).</li><li><code>&lt;section&gt;</code> is very similar to <code>&lt;article&gt;</code>, it is used to group a segment of the page that have a uniform function(like a mini map or a paragraph). You can break <code>&lt;article&gt;</code> up into <code>&lt;section&gt;</code>s and vice versa, depending on the context.</li><li><code>&lt;aside&gt;</code>contains supplementary information than is indirectly related to the main content(like glossary entries, author biography or links)</li></ul><blockquote><p>In the <a href="https://developer.mozilla.org/en-US/">MDN web docs</a> you can usually see contribution links wrapped in <code>&lt;aside&gt;</code> at the bottom of the page:</p><img src="../img/HTML Fundamentals/aside_exp.png"  alt="aside_example"></blockquote><ul><li><code>&lt;header&gt;</code> represents the introductory section of a page or a section. It can contain logos, navigations or headings.  If it is a child of <code>&lt;body&gt;</code> it defines the global header of a webpage, but if it’s a child of an <code>&lt;article&gt;</code> or <code>&lt;section&gt;</code> it defines a specific header for that section.</li></ul><blockquote><p><strong>Differing <code>&lt;header&gt;</code> from <code>&lt;title&gt;</code> and headings</strong></p><ul><li>the <code>&lt;title&gt;</code> is the title of the whole webpage, and is not shown in the body. It is the child of <code>&lt;head&gt;</code>.</li><li>the headings(<code>&lt;h1&gt;</code> - <code>&lt;h6&gt;</code>) are child of <code>&lt;body&gt;</code>, they can be wrapped in <code>&lt;header&gt;</code></li><li><code>&lt;header&gt;</code> is a <strong>semantic container element</strong> (just like <code>&lt;div&gt;</code> but with semantic meaning)</li></ul></blockquote><ul><li><code>&lt;nav&gt;</code> contains navigational links of the page, including secondary link.</li><li><code>&lt;footer&gt;</code> the footer element of the page</li></ul><h3 id="None-semantic-wrappers"><a href="#None-semantic-wrappers" class="headerlink" title="None semantic wrappers"></a>None semantic wrappers</h3><ul><li><code>&lt;div&gt;</code> is a block level wrapper</li><li><code>&lt;span&gt;</code> is an inline level wrapper</li></ul><p>They are very convenient to use, but make sure you only use them when there is no better wrapper in place. For readability and search engine compatability, we now promotes semantic html.</p><h3 id="and"><a href="#and" class="headerlink" title="&lt;br&gt; and &lt;hr&gt;"></a><code>&lt;br&gt;</code> and <code>&lt;hr&gt;</code></h3><ul><li><code>&lt;br&gt;</code> is a line breaker, it is a self-closing tag.</li><li><code>&lt;hr&gt;</code> is a thematic break element，it looks like a horizontal line in the file(just like <code>***</code> in markdown in this blog). Semantically, it denotes a change of topic or section.<br>It is also a self-closing tag.</li></ul><hr><h2 id="HTML-Tags-in-Detail"><a href="#HTML-Tags-in-Detail" class="headerlink" title="HTML Tags in Detail"></a>HTML Tags in Detail</h2><h3 id="Links"><a href="#Links" class="headerlink" title="Links &lt;a&gt;"></a>Links <code>&lt;a&gt;</code></h3><p>To create a hyperlink, we use <code>&lt;a&gt;</code> with its <code>href</code> attribute:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is a hyperlink<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    We can replace the inner html of &lt;a&gt; to almost anything!--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>We can add hyperlink to almost any element, including block level elements:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>This is a title with hyperlink<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="title-Attribute"><a href="#title-Attribute" class="headerlink" title="title Attribute"></a><code>title</code> Attribute</h4><p>We can use the <code>title</code> attribute of <code>&lt;a&gt;</code> to give additional information to the user when the pointer hovers on the link:<br><a title="Now you see me~">like this.<a/></p><h4 id="target-Attribute"><a href="#target-Attribute" class="headerlink" title="target Attribute"></a><code>target</code> Attribute</h4><p>If the link is to open a new site, we can decide whether to navigate the user to a new tab or just open it in the current tab using<code>target</code> attribute:</p><ul><li>To open links in a new tab, we simply set <code>target=&quot;_blank&quot;</code></li></ul><h4 id="download-Attribute"><a href="#download-Attribute" class="headerlink" title="download Attribute"></a><code>download</code> Attribute</h4><p>Sometimes we want to make the browser download the file in <code>href</code> instead of directing to a new site. To do this, we need to specify the <code>download</code> attribute.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">download</span>=<span class="string">&quot;file name&quot;</span>&gt;</span>download file<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>The <code>download</code> attribute can be blank, only when there is the <code>download</code> attribute will the browser enforce a download.</li><li>We can set the default name of the downloaded file.</li></ul><h4 id="Filepath"><a href="#Filepath" class="headerlink" title="Filepath"></a>Filepath</h4><p>In order to create a hyperlink to one document, we need the filepath of the target.</p><ul><li><strong>Absolute URL:</strong> what we type in the browser to open a website:<blockquote><p>An absolute URL should at least have these parts:</p><ul><li>Protocol: <code>http://</code> or <code>https://</code></li><li>Domain Name: like <code>github.com</code></li><li>Path to specific page: like <code>github.com/about/team.html</code></li><li>Query String: like <code>github.com/search?q=emulisy</code></li><li>Fragment: <code>github.com/docs/index.html#section1</code></li></ul></blockquote></li><li><strong>Relative Filepath:</strong> A project may have multiple directories. Using relative path, we can reference documents under our project:<ul><li>Lower level directory:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">project/ </span><br><span class="line">├── index.html </span><br><span class="line">└── assets/ </span><br><span class="line">└── css/ </span><br><span class="line">└── themes/</span><br></pre></td></tr></table></figure><blockquote><p>If the project is shaped like this, inside index.html we want to refer to documents inside css or assets folder, we just type <code>css/document.css</code> or <code>assets/document</code></p><p>To refer to same or lower directories, we just type in the folder and the document name, separated with <code>/</code>.</p></blockquote></li><li>Higher level directory:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">project/ </span><br><span class="line">├── index.html </span><br><span class="line">└── assets/ </span><br><span class="line">└── css/ </span><br><span class="line">    └── style.css</span><br><span class="line">└── themes/</span><br></pre></td></tr></table></figure><blockquote><p>If we want to refer to index.html inside the style.css, we can type <code>../index.html</code></p><p>To refer to higher level directories, we add <code>../</code> to indicate looking up one level. So to go up three levels, we type<code>../../../folder/document</code></p></blockquote></li></ul></li></ul><p>These file path is very important when creating links or adding images, audios and videos, as these resources are usually not presented directly in the html file.</p><hr><h3 id="Image"><a href="#Image" class="headerlink" title="Image &lt;img&gt;"></a>Image <code>&lt;img&gt;</code></h3><p>This is a <strong>void element</strong>, so it can’t have any child or closing tag, unlike <code>&lt;a&gt;</code> you can put almost anything in it.</p><p>Using <code>&lt;img&gt;</code> we need two essential properties:</p><ul><li><code>src=</code>: the source root of the image</li><li><code>alt=</code>: dictates the content of the image, and is shown when the image can’t be loaded.</li></ul><blockquote><p><em>Tip: Don’t point the <code>src</code> of the image to another website without permission, as this cost extra bandwidth to others when delivering the image to your page. Also, doing so leaves you no control over the image you referred to.</em></p></blockquote><h4 id="width-and-height"><a href="#width-and-height" class="headerlink" title="width and height"></a><code>width</code> and <code>height</code></h4><p>Usually we may want to start handling the visual effect of the page in CSS, however it is best practice to set the size of the image directly using <code>width</code> and <code>height</code> properties as they provide the aspect-ratio and enforce the browser to reserve space for the image.</p><h4 id="Captions-and"><a href="#Captions-and" class="headerlink" title="Captions &lt;figure&gt; and &lt;figcaption&gt;"></a>Captions <code>&lt;figure&gt;</code> and <code>&lt;figcaption&gt;</code></h4><p>Although we can import the image and use <code>&lt;p&gt;</code> to write captions for the figure, it is hard for screen reader to associate the figure with the caption. However, it can be done using <code>&lt;figure&gt;</code> and <code>&lt;figcaption&gt;</code> element.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;figure.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;figure&quot;</span> <span class="attr">width</span>=<span class="string">&quot;400&quot;</span> <span class="attr">height</span>=<span class="string">&quot;400&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>This is the caption<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">figure</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;figure.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;figure&quot;</span> <span class="attr">width</span>=<span class="string">&quot;400&quot;</span> <span class="attr">height</span>=<span class="string">&quot;400&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">figcaption</span>&gt;</span>This is the caption<span class="tag">&lt;/<span class="name">figcaption</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="Videos"><a href="#Videos" class="headerlink" title="Videos &lt;video&gt;"></a>Videos <code>&lt;video&gt;</code></h3><p>This element is very much like the img, it also needs a <code>src=</code> attribute to find the video document.</p><p><code>controls</code>: Usually we want the user to be able to control the video itself, to do so we only need to add the <code>controls</code> attribute, and the browser will render the video with controls for us.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">&quot;file.mp4&quot;</span> <span class="attr">controls</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Your browser doesn&#x27;t support this video, </span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;url.com&quot;</span>&gt;</span>here<span class="tag">&lt;/<span class="name">a</span>&gt;</span> is a link to the original video.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure><p>You may notice the paragraph inside <code>&lt;video&gt;</code>, this is a <strong>fallback content</strong>. It works just like the <code>alt</code>in <code>&lt;img&gt;</code>, when the video is not supported, these contents will be shown on the page.</p><h4 id="Multiple-Format-Support"><a href="#Multiple-Format-Support" class="headerlink" title="Multiple Format Support"></a>Multiple Format Support</h4><p>For videos and audios, they need to be encoded using different codecs, and not all browsers support the same codecs, therefore we end up with compatability issues that some video and audio format may not be available on certain browsers.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">controls</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;rabbit320.mp4&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/mp4&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;rabbit320.webm&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/webm&quot;</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  The type attribute is optional, but it is better practice to include it--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    Your browser doesn&#x27;t support this video. Here is a</span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;rabbit320.mp4&quot;</span>&gt;</span>link to the video<span class="tag">&lt;/<span class="name">a</span>&gt;</span> instead.</span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure><p>To resolve compatability issues, we can introduce multiple formats by extracting the <code>src=</code> attribute. We can put the different source roots in separate <code>&lt;source/&gt;</code> tags.</p><p>In this case, the browser will play the first one that it has a supporting codec, and eventually print the fallback text if no such codec is available.</p><h4 id="Other-attributes"><a href="#Other-attributes" class="headerlink" title="Other attributes"></a>Other attributes</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span></span></span><br><span class="line"><span class="tag">  <span class="attr">controls</span></span></span><br><span class="line"><span class="tag">  <span class="attr">width</span>=<span class="string">&quot;400&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">height</span>=<span class="string">&quot;400&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">autoplay</span></span></span><br><span class="line"><span class="tag">  <span class="attr">loop</span></span></span><br><span class="line"><span class="tag">  <span class="attr">muted</span></span></span><br><span class="line"><span class="tag">  <span class="attr">preload</span>=<span class="string">&quot;auto&quot;</span></span></span><br><span class="line"><span class="tag">&lt;!<span class="attr">--</span>  <span class="attr">Buffering</span> <span class="attr">large</span> <span class="attr">files</span>, <span class="attr">you</span> <span class="attr">can</span> <span class="attr">choose</span> &quot;<span class="attr">auto</span>&quot;, &quot;<span class="attr">none</span>&quot; <span class="attr">or</span> &quot;<span class="attr">metadata</span>&quot;<span class="attr">--</span>&gt;</span></span><br><span class="line">  poster=&quot;poster.png&quot;&gt; </span><br><span class="line"><span class="comment">&lt;!--  display the image before the video--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;rabbit320.mp4&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/mp4&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;rabbit320.webm&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/webm&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    Your browser doesn&#x27;t support this video. Here is a</span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;rabbit320.mp4&quot;</span>&gt;</span>link to the video<span class="tag">&lt;/<span class="name">a</span>&gt;</span> instead.</span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="Audios"><a href="#Audios" class="headerlink" title="Audios &lt;audio&gt;"></a>Audios <code>&lt;audio&gt;</code></h3><p>Introducing audios are almost the same as introducing videos:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">controls</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;example.mp4&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/mp4&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;example.webm&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/webm&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">track</span> <span class="attr">kind</span>=<span class="string">&quot;subtitles&quot;</span> <span class="attr">src</span>=<span class="string">&quot;subtitles_es.vtt&quot;</span> <span class="attr">srclang</span>=<span class="string">&quot;es&quot;</span> <span class="attr">label</span>=<span class="string">&quot;Spanish&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure><p>You can provide transcript of the audio using <code>&lt;track&gt;</code></p><hr><h3 id="Tables"><a href="#Tables" class="headerlink" title="Tables &lt;table&gt; &lt;th&gt; &lt;td&gt; &lt;tr&gt;"></a>Tables <code>&lt;table&gt;</code> <code>&lt;th&gt;</code> <code>&lt;td&gt;</code> <code>&lt;tr&gt;</code></h3><p>We can create tables in this format:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>Col 1<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>Col 2<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>Col 3<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>(1,0)<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>(1.1)<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>(1,2)<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Each row of the table is wrapped inside a <code>&lt;tr&gt;</code> table row, and within each row we can put in cells, which is wrapped in <code>&lt;td&gt;</code> table data.</p><p><code>&lt;th&gt;</code> is a special table data, as they are usually the first row of the table, table headers. By default, they are bold and centered.</p><h4 id="Tables-of-different-shape"><a href="#Tables-of-different-shape" class="headerlink" title="Tables of different shape"></a>Tables of different shape</h4><p>Sometimes, we want the table to shape differently, not just one column with several corresponding rows. We want rows or columns to span multiple cells.<br>To do so, we need <code>rowspan</code> and <code>colspan</code> attributes:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span> <span class="attr">colspan</span>=<span class="string">2</span>&gt;</span>Animals<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span> <span class="attr">colspan</span>=<span class="string">2</span>&gt;</span>Hippopotamus<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span> <span class="attr">rowspan</span>=<span class="string">2</span>&gt;</span>Horse<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Mare<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Stallion<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span> <span class="attr">colspan</span>=<span class="string">2</span>&gt;</span>Crocodile<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span> <span class="attr">rowspan</span>=<span class="string">2</span>&gt;</span>Chicken<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Hen<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Rooster<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><p>This table looks like this:</p><div style="text-align: center">  <img src="../img/HTML Fundamentals/weird table.png" alt="special table" width=200></div><hr><h3 id="Button"><a href="#Button" class="headerlink" title="Button &lt;button&gt;"></a>Button <code>&lt;button&gt;</code></h3><p>A single button is created using <code>&lt;button&gt;</code>:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>This is a button<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Usually the button itself is meaningless, so we need to use form or javascript to add certain effect to the button. like</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> button = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(button);</span><br><span class="line">button.<span class="title function_">addEventListener</span>(click, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    butthon.<span class="property">innerText</span> = <span class="string">&quot;You clicked me!!!&quot;</span>;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="Form"><a href="#Form" class="headerlink" title="Form"></a>Form</h3><p>A basic form contains several elements:</p><ul><li>A <code>&lt;form&gt;&lt;/form&gt;</code> that wraps everything. Any data inside this is considered from the same form.</li><li>Some <code>&lt;label&gt;</code> <code>&lt;input&gt;</code> or <code>&lt;select&gt;</code> element that allows the user to choose or input data.</li><li>A <code>&lt;button&gt;</code> to submit the data</li></ul><blockquote><p><em>Tip: we can use <code>&lt;section&gt;</code> <code>&lt;div&gt;</code> or even <code>&lt;li&gt;</code> to group the form elements, but a specialized wrapper for the job is <code>&lt;filedset&gt;</code></em></p></blockquote><h4 id=""><a href="#" class="headerlink" title="&lt;form&gt;"></a><code>&lt;form&gt;</code></h4><p>This tag have two frequently used attributes:</p><ul><li><code>action</code>: contains path to the page where we want to submit the data</li><li><code>method</code>: contains the HTTP request method for the data transmission, like <code>get</code> <code>post</code></li></ul><h4 id="-1"><a href="#-1" class="headerlink" title="&lt;input&gt;"></a><code>&lt;input&gt;</code></h4><p>This void element enables user to input data.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">id</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;please type here&quot;</span> <span class="attr">required</span> /&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>type</code>: there are MANY types of input, ranging from text, passwords to checkboxes, dates or even range widget. You can visit <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/input">here</a> for the complete options.</li><li><code>name</code> <code>id</code>: they are all identifiers for the data to be submitted</li><li><code>required</code>: decide whether the form can be submitted with or without this input</li><li><code>value</code>: The initial state of the input element, varies according to the type. like for “text” or “password”, this defines the pre-filled text. But for “button” or “checkbox”, this defines the label of the input.</li></ul><h4 id="-2"><a href="#-2" class="headerlink" title="&lt;label&gt;"></a><code>&lt;label&gt;</code></h4><p><code>&lt;label&gt;</code> provides extra information, notably identifiers for the input. They are associated with certain inputs explicitly or implicitly.</p><ul><li>Explicit:<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;name&quot;</span>&gt;</span>Name (required):<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">id</span>=<span class="string">&quot;name&quot;</span> <span class="attr">required</span> /&gt;</span></span><br></pre></td></tr></table></figure>The label associate with the input via <code>for</code> attribute and <code>id</code> of the input element.</li><li>Implicit:<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">Name (required):</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">required</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure>The input are nested inside the label.</li></ul><h4 id="-3"><a href="#-3" class="headerlink" title="&lt;button&gt;"></a><code>&lt;button&gt;</code></h4><p>When a button is inside a form, the default behaviour is to submit the form.</p><p>Just like the <code>&lt;input&gt;</code>, button also have <code>type</code> attribute:</p><ul><li><code>type=&quot;submit&quot;</code>: since this is the default behaviour you don’t really have to specify this.</li><li><code>type=&quot;reset&quot;</code>: reset the form to initial state, doing so erases all user input.</li><li><code>type=&quot;button&quot;</code>: makes the button the same as the button outside the form, clicking it have no effect.</li></ul><h4 id="-4"><a href="#-4" class="headerlink" title="&lt;select&gt; &lt;option&gt;"></a><code>&lt;select&gt;</code> <code>&lt;option&gt;</code></h4><p>These tags are for creating drop-down menus:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;portion&quot;</span>&gt;</span>Portion size:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;portion&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">selected</span>&gt;</span>Please select a portion size<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  Add selected if you want the option to be selected upon page load--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="Other-form-items"><a href="#Other-form-items" class="headerlink" title="Other form items:"></a>Other form items:</h4><ul><li><p><strong>Multiline text input:</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;comments&quot;</span>&gt;</span>Any other comments:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">&quot;comments&quot;</span> <span class="attr">name</span>=<span class="string">&quot;comments&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;5&quot;</span> <span class="attr">cols</span>=<span class="string">&quot;33&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Using <code>&lt;textarea&gt;</code>, they behave just like <code>&lt;input type=&quot;text&quot;&gt;</code>, but allows multiline entry.</p></li><li><p><strong>Radio buttons:</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">legend</span>&gt;</span>Education level<span class="tag">&lt;/<span class="name">legend</span>&gt;</span>  </span><br><span class="line"><span class="comment">&lt;!--    Use this to add subtitle for the form selector--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">id</span>=<span class="string">&quot;choice1&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">name</span>=<span class="string">&quot;education&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">value</span>=<span class="string">&quot;bachelor&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">checked</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  use checked if you want this to be selected initially--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;choice1&quot;</span>&gt;</span>Bachelor<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">id</span>=<span class="string">&quot;choice2&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">name</span>=<span class="string">&quot;education&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">value</span>=<span class="string">&quot;master&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;choice2&quot;</span>&gt;</span>Master<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">id</span>=<span class="string">&quot;choice3&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">name</span>=<span class="string">&quot;education&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">value</span>=<span class="string">&quot;doctor&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">disabled</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  Use disabled to make this option unselectable--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;choice3&quot;</span>&gt;</span>Doctor<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br></pre></td></tr></table></figure><img src="../img/HTML%20Fundamentals/radio%20form.png" alt="radio form image" /></li><li><p><strong>Checkbox</strong>:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">legend</span>&gt;</span>To do list<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">id</span>=<span class="string">&quot;choice1&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">name</span>=<span class="string">&quot;feedCat&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;choice1&quot;</span>&gt;</span>Feed my cat<span class="tag">&lt;/<span class="name">label</span>&gt;</span>   </span><br><span class="line">   <span class="tag">&lt;<span class="name">input</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">id</span>=<span class="string">&quot;choice2&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">name</span>=<span class="string">&quot;playWithCat&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;choice2&quot;</span>&gt;</span>Play with my cat<span class="tag">&lt;/<span class="name">label</span>&gt;</span>   </span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">id</span>=<span class="string">&quot;choice3&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">name</span>=<span class="string">&quot;work&quot;</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">checked</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  Use checked to pre-select the box--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;choice3&quot;</span>&gt;</span>Go to work<span class="tag">&lt;/<span class="name">label</span>&gt;</span>   </span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br></pre></td></tr></table></figure><img src="../img/HTML%20Fundamentals/checkbox%20form.png" alt="checkbox form image" /></li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English - 编程 - frontend - 前端 - HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javascript Fundamentals</title>
      <link href="/2025/09/02/Javascript%20Fundamentals/"/>
      <url>/2025/09/02/Javascript%20Fundamentals/</url>
      
        <content type="html"><![CDATA[<h2 id="Primitive-types"><a href="#Primitive-types" class="headerlink" title="Primitive types"></a>Primitive types</h2><ul><li>string</li><li>number</li><li>bigInt</li><li>boolean </li><li>undefined</li><li>null</li><li>symbol</li></ul><hr><h2 id="Numbers"><a href="#Numbers" class="headerlink" title="Numbers"></a>Numbers</h2><p>In JS, numbers are always 64-bit Floating Point!! Therefor precision exist to avoid overflow:</p><ul><li>Integer precision: int are accurate within the scope (<code>Number.MAX_SAFE_INTEGER</code>, <code>Number.MIN_SAFE_INTEGER</code>)</li><li>Floating-point imprecision: Because numbers are binary floats, decimals like 0.1 cannot be represented accurately. So float point arithmetic is not always precise.<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0.1</span> + <span class="number">0.2</span> === <span class="number">0.3</span>)<span class="comment">//false</span></span><br></pre></td></tr></table></figure>So how to fix this?</li><li>One way to fix integer precision is using bigInt:<blockquote><p>To create bigInt we simply add <code>n</code> after the number, or we use explicit conversion:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> n = <span class="title class_">BigInt</span>(<span class="number">11111</span>); </span><br><span class="line"><span class="comment">//to avoid precision, make sure the number in the parenthsis is within the safe range</span></span><br><span class="line"><span class="keyword">let</span> m = <span class="number">11111n</span>;</span><br></pre></td></tr></table></figure></blockquote></li><li>To fix float point imprecision, we can use integer arithmetic and scale down:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> n = (<span class="number">1</span> + <span class="number">2</span>)/<span class="number">10</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(n === <span class="number">0.3</span>); <span class="comment">//true</span></span><br></pre></td></tr></table></figure></li><li>However, when precision really matters, we usually use libraries for large&#x2F;decimal numbers, especially in finance or science backgrounds:<ul><li>decimals.js</li><li>bigNumbers.js</li><li>big.js</li></ul></li></ul><h3 id="NAN-and-Infinity"><a href="#NAN-and-Infinity" class="headerlink" title="NAN and Infinity"></a>NAN and Infinity</h3><p>NaN is a JavaScript reserved word indicating that a number is not a legal number.<br>like <code>100/&quot;a&quot; === NAN</code></p><p><code>Infinity</code>&#x2F;<code>-Infinity</code> is the value JavaScript will return if you calculate a number outside the largest possible number.<br>like <code>1/0</code> or <code>1/Infinity</code></p><hr><h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><h3 id="Numbers-and-String"><a href="#Numbers-and-String" class="headerlink" title="Numbers and String"></a>Numbers and String</h3><ol><li>When we use <code>+</code> between a numeric string and a number, or two numeric strings, the result will be concatenation.</li></ol>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">10</span> + <span class="number">20</span> + <span class="string">&quot;30&quot;</span>);</span><br><span class="line"><span class="comment">// The result is not 102030, but 3030.</span></span><br></pre></td></tr></table></figure><ol start="2"><li>Js will try to convert strings to numbers in all numeric operations, other than <code>+</code>.</li></ol>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;1&quot;</span> + <span class="string">&quot;3&quot;</span> / <span class="number">3</span>);</span><br><span class="line"><span class="comment">// The result is not 1, but 11, as it is actually &quot;1&quot; + 1</span></span><br></pre></td></tr></table></figure><hr><h3 id="Embedding-into-a-string"><a href="#Embedding-into-a-string" class="headerlink" title="Embedding into a string"></a>Embedding into a string</h3><p>In python to do this is easy:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;Ian&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;my name is <span class="subst">&#123;name&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;my name is &#123;&#125;&quot;</span>.<span class="built_in">format</span>(name))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;my name is %s&quot;</span> % (name))</span><br><span class="line"></span><br><span class="line"><span class="comment">## all the outputs are the string: my name is Ian</span></span><br></pre></td></tr></table></figure><p>So it shouldn’t be difficult in js as well, we simply use <strong>template literals</strong> or <strong>string concatenation</strong>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;Ian&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`my name is <span class="subst">$&#123;name&#125;</span>`</span>+ <span class="string">`and my age is <span class="subst">$&#123;<span class="number">10</span> + <span class="number">11</span>&#125;</span>`</span> )</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;my name is&quot;</span> + name)</span><br></pre></td></tr></table></figure><blockquote><p><strong>Tip:</strong> For declaring a string in js, we can use &#96;&#96;(backticks), “” ‘’(single or double quotes). But when to use them is a problem. Here is the rules.</p><p>We use &#96;&#96;(backticks) when:</p><ul><li>We want to use template literals, use internal function calls or calculations.</li><li>We want to declare a string with multiple lines<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> multiLine = <span class="string">`first line</span></span><br><span class="line"><span class="string">second line</span></span><br><span class="line"><span class="string">third line`</span></span><br></pre></td></tr></table></figure>And we use quotes when:</li><li>We just want simple, static string</li><li>We need consistency in JSON(JSON requires double quotes <code>&quot;&quot;</code>)</li></ul><p><strong>However, the best practice is to use double quotes unless we need special features.</strong></p><hr></blockquote><h2 id="String-as-Object"><a href="#String-as-Object" class="headerlink" title="String as Object"></a>String as Object</h2><p>Although string is a primitive object, when using in-built properties, js will wrap the sting in a String object.<br>Here are some of the thing we can do with string.</p><ul><li>Length of a string: <code>string.length</code> to get the length of the string</li><li>Indexing: <code>string[index]</code> to get a specific character</li><li>Check substring: <em>They all returns <code>true</code> or <code>false</code></em><ul><li><code>string.includes(substring)</code> </li><li><code>string.startsWtih(substring)</code></li><li><code>string.endsWith(substring)</code></li></ul></li><li>Slicing: <code>string.slice(index1, index2)</code></li><li>Changing case: <code>string.toUpperCase()</code>, <code>string.toLowerCase()</code></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String Object Methods</a></li></ul><hr><h2 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h2><p>There are some characteristics that a js array have:</p><ul><li><strong>Dynamic size:</strong> A js array have no fixed size, the resizing is done automatically.</li><li><strong>Ordered and Zero indexed:</strong> The elements in the array are ordered according to their index, which starts at 1. Unlike a hashmap in Java, you always know which element is at the specific index.</li><li><strong>Heterogeneous:</strong> Unlike in Java, when we initialize an array or arraylist, we must define the datatype it stores. In JS, the array can store different datatypes(numbers, strings, objects and other arrays).</li><li><strong>Arrays are special objects:</strong> In JS, arrays are seen as special objects, so when we use <code>typeof()</code> on an array, the result is object. We can use <code>Array.isArray()</code> to determine if the variable is an array.</li></ul><p>Syntax: <code>const array = [&quot;item1&quot;, &quot;item2&quot;, &quot;item3&quot;];</code></p><blockquote><p><em>Important tips: We usually use <code>const</code> to declare an array, but <code>const</code> doesn’t mean the elements in the array cannot be changed, but the reference to  the array cannot be changed!</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a; <span class="comment">//Syntax error, must initialize the array when using const</span></span><br><span class="line"><span class="keyword">const</span> b = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> b = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]; <span class="comment">//Syntax error, reassigning a const array is not allowed</span></span><br><span class="line">b[<span class="number">0</span>] = <span class="number">4</span>; <span class="comment">//Changing elements are allowed</span></span><br><span class="line">b.<span class="title function_">push</span>(<span class="number">5</span>); <span class="comment">//adding elements are allowed</span></span><br><span class="line">b.<span class="title function_">pop</span>()<span class="comment">// deleting element is allowed</span></span><br><span class="line">***</span><br><span class="line">## <span class="title class_">Declaring</span> a variable</span><br><span class="line"></span><br><span class="line"><span class="title class_">There</span> are three keywords to declare a variable <span class="keyword">in</span> js, <span class="string">`let`</span>, <span class="string">`const`</span>, and <span class="string">`var`</span>.</span><br><span class="line"></span><br><span class="line">* <span class="title class_">Only</span> variables declared <span class="keyword">with</span> <span class="string">`var`</span> are **hoisted** (safe to log it before declaration):</span><br><span class="line"> <span class="string">``</span><span class="string">`javascript</span></span><br><span class="line"><span class="string"> console.log(x);</span></span><br><span class="line"><span class="string"> var x = 10;</span></span><br><span class="line"><span class="string"> console.log(x);</span></span><br><span class="line"><span class="string"> // The results in console would be: </span></span><br><span class="line"><span class="string"> // undefined(not error!) </span></span><br><span class="line"><span class="string"> // 10</span></span><br><span class="line"><span class="string"> console.log(y);</span></span><br><span class="line"><span class="string"> let y = 100;</span></span><br><span class="line"><span class="string"> console.log(y); // not shown!</span></span><br><span class="line"><span class="string"> // if you use let or const to do this, the first console.log will give an error message and stop the execution:</span></span><br><span class="line"><span class="string"> // Uncaught ReferenceError: Cannot access &#x27;rr&#x27; before initialization</span></span><br></pre></td></tr></table></figure></blockquote><ul><li>Variables declared with <code>var</code> always have <strong>Global Scope</strong>:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="keyword">var</span> x = <span class="number">100</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(x); <span class="comment">//This call is within the block scope and should give 100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x); <span class="comment">//This call is outside of the block, it should give 100</span></span><br><span class="line"><span class="comment">// since x is declared with var, hence x has global scope </span></span><br><span class="line"><span class="comment">// and can be called outside of the block</span></span><br></pre></td></tr></table></figure></li><li>Variables declared with <code>let</code> and <code>const</code> have <strong>Block Scope</strong>:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> x = <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x);<span class="comment">// Gives and error: Uncaught ReferenceError: x is not defined</span></span><br></pre></td></tr></table></figure></li><li>Variables declared with <code>var</code> can be <strong>redeclared</strong>:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">20</span>; </span><br><span class="line"><span class="comment">// since x has global scope, redeclaring it would reassign its value</span></span><br></pre></td></tr></table></figure></li><li>Variable declared with <code>let</code> or <code>const</code> <strong>can’t be redeclared</strong>:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">let</span> x = <span class="number">10</span>;</span><br><span class="line"><span class="comment">//Gives and error: Uncaught SyntaxError: Identifier &#x27;x&#x27; has already been declared</span></span><br></pre></td></tr></table></figure></li><li>The variable <strong>must be assigned a value</strong> when using <code>const</code> to declare it, and changing its value is not allowed.<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> x;</span><br><span class="line"><span class="keyword">const</span> y = <span class="number">100</span>;</span><br><span class="line">y -= <span class="number">1</span>;</span><br><span class="line"><span class="comment">// Not allowed!!!</span></span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="Objects-and-JSON"><a href="#Objects-and-JSON" class="headerlink" title="Objects and JSON"></a>Objects and JSON</h2><p>JS objects are very much like dictionaries in python, it is fundamentally a collection of key-value pairs.</p><p><em>Tip: comparing two objects (with <code>==</code> or <code>===</code>) always returns false!</em></p><h3 id="Syntax"><a href="#Syntax" class="headerlink" title="Syntax:"></a>Syntax:</h3>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line"><span class="attr">firstProperty</span>: <span class="string">&quot;I&#x27;m a string&quot;</span>,</span><br><span class="line"><span class="attr">secondProperty</span>: <span class="number">99</span>,</span><br><span class="line"><span class="attr">thirdProperty</span>: <span class="literal">false</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>  So what can we put in a JS object as value?</p><ol><li>primitive types</li><li>arrays</li><li>objects</li><li>functions</li><li>other object references<blockquote><p>To create a js object, the key is <code>&#123;&#125;</code>. You can create an empty object and add properties later.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line">obj.<span class="property">name</span> = <span class="string">&quot;object&quot;</span></span><br></pre></td></tr></table></figure></blockquote></li></ol><h3 id="Access-object-properties"><a href="#Access-object-properties" class="headerlink" title="Access object properties"></a>Access object properties</h3><p>There are two ways to access the properties of an object:</p><ul><li><pre><code class="language-javascript">let value = objectName.propertyName;<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* ```javascript</span><br><span class="line">  let value = objectName[&quot;propertyName&quot;];</span><br></pre></td></tr></table></figure></code></pre></li></ul><h3 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h3><p>JSON is usually used as text messages between systems, and be read&#x2F;written by many languages(python, C++, java…), It is very similar to a js object, but there are certain rules on the format:</p><ul><li>Keys must be in <code>&quot;&quot;</code></li><li>Values can only be: string, number, boolean, null, array, or another JSON object.</li><li>No comments, no <code>functions</code> and no <code>undefined</code></li></ul><blockquote><p>We can <code>parse</code> JSON into a js object and <code>stringify</code> js object into JSON:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&quot;Ian&quot;</span>,</span><br><span class="line"><span class="attr">university</span>: <span class="string">&quot;Monash&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> objJson = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj);</span><br></pre></td></tr></table></figure><p>object &#x3D;&gt; JSON: <code>JSON.stringify(obj)</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> objstr = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Ian&quot;</span>, <span class="string">&quot;university&quot;</span>: <span class="string">&quot;Monash&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> obj = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(objstr)</span><br></pre></td></tr></table></figure><p>JSON &#x3D;&gt; object: <code>JSON.parse(objstr)</code></p></blockquote><h3 id="Object-Constructors-new-and-this"><a href="#Object-Constructors-new-and-this" class="headerlink" title="Object Constructors, new and this"></a>Object Constructors, <code>new</code> and <code>this</code></h3><p>If you have learned Java or other languages that supports OOP(Object-Oriented Programming), you may be familiarized with the concept of constructor.</p><p>In general, constructors are <strong>special methods(functions) we use to create new objects</strong>, they serve as <strong>object prototypes</strong>.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Men</span>(<span class="params">name, age</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">gender</span> = <span class="string">&quot;male&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> ian = <span class="keyword">new</span> <span class="title class_">Men</span>(<span class="string">&quot;Ian&quot;</span>, <span class="number">20</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ian) <span class="comment">//result is an object</span></span><br></pre></td></tr></table></figure><p>In this context, <code>new</code> keyword creates a new object, and <code>this</code> points to the newly created object. It is just like adding properties to an object, we simply use <code>obj.propertyName = value</code> syntax.</p><p><em>Tip: The prototype constructor(mentioned above) does not support arrow function syntax, as in ES6, arrow functions are not <strong><code>this</code>binding.</strong> Using prototype constructors are usually not recommended after ES6, as we have specific <code>constructor</code> keyword in <code>class</code> to do that.</em></p><h3 id="Difference-between-objects-and-arrays"><a href="#Difference-between-objects-and-arrays" class="headerlink" title="Difference between objects and arrays"></a>Difference between objects and arrays</h3><ul><li>objects use <code>&#123;&#125;</code> while arrays use <code>[]</code> when initializing</li><li>objects use named index while arrays support numbered index<blockquote><p>JS does not support associative arrays like hashmaps. So when use named indexes, js will redefine the array into object:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="property">length</span>); <span class="comment">// gives 3</span></span><br><span class="line">a[<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;Ian&quot;</span>;</span><br><span class="line">a[<span class="string">&quot;age&quot;</span>] = <span class="number">20</span>;</span><br><span class="line">a[<span class="string">&quot;gender&quot;</span>] = <span class="string">&quot;male&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="property">length</span>); <span class="comment">//still 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a[<span class="number">0</span>]); <span class="comment">// gives 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a[<span class="number">3</span>]); <span class="comment">//gives undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="property">name</span>); <span class="comment">//gives Ian</span></span><br></pre></td></tr></table></figure><p>Arrays are special objects, when it is redefined it stops behaving like an array.</p><p>Which means you can no longer use number index or <code>.length</code> on it.</p></blockquote></li></ul><hr><h2 id="Type-conversion"><a href="#Type-conversion" class="headerlink" title="Type conversion"></a>Type conversion</h2><h3 id="typeof-instanceof"><a href="#typeof-instanceof" class="headerlink" title="typeof, instanceof"></a><code>typeof</code>, <code>instanceof</code></h3><p>To check the datatypes of a variable is easy, we usually use <code>typeof</code>, <code>instanceof</code> operator.</p><p>Primitive types</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="number">42</span>;        <span class="comment">// &quot;number&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">&quot;hi&quot;</span>;      <span class="comment">// &quot;string&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">true</span>;      <span class="comment">// &quot;boolean&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span>; <span class="comment">// &quot;undefined&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="title class_">Symbol</span>();  <span class="comment">// &quot;symbol&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">10n</span>;       <span class="comment">// &quot;bigint&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span>;        <span class="comment">// &quot;object&quot;  (quirk!)</span></span><br><span class="line"><span class="literal">null</span> === <span class="literal">null</span>;      <span class="comment">// true      ✅ best way to check</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> <span class="title class_">NaN</span>;         <span class="comment">// &quot;number&quot;  (yes, NaN is still a number!)</span></span><br><span class="line"><span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="title class_">NaN</span>);  <span class="comment">// true      ✅ best way to check</span></span><br></pre></td></tr></table></figure><p>Objects and Array</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> &#123;&#125;;             <span class="comment">// &quot;object&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> [];             <span class="comment">// &quot;object&quot;   (so not helpful)</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">isArray</span>([]);     <span class="comment">// true       ✅ best way to check for arrays</span></span><br><span class="line"></span><br><span class="line">(&#123;&#125;) <span class="keyword">instanceof</span> <span class="title class_">Object</span>;   <span class="comment">// true</span></span><br><span class="line">[] <span class="keyword">instanceof</span> <span class="title class_">Array</span>;      <span class="comment">// true</span></span><br><span class="line">[] <span class="keyword">instanceof</span> <span class="title class_">Object</span>;     <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>Functions and Classes</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;;   <span class="comment">// &quot;function&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">class</span> <span class="title class_">MyClass</span>&#123;&#125;; <span class="comment">// &quot;function&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">MyClass</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">MyClass</span>() <span class="keyword">instanceof</span> <span class="title class_">MyClass</span>; <span class="comment">// true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Type-conversion-1"><a href="#Type-conversion-1" class="headerlink" title="Type conversion"></a>Type conversion</h3><ul><li>Numbers<ul><li><code>Number()</code></li><li><code>parseFloat()</code></li><li><code>parseInt()</code></li><li>Unary +: <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="string">&quot;1&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> y = + x; <span class="comment">//y is a number</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="string">&quot;string&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> b = + a; <span class="comment">// b is still a number but its value is NaN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &quot;= +&quot; is the unary +, it will convert the result into number</span></span><br><span class="line"><span class="comment">//if the result can&#x27;t be converted into a number, it will just return NaN</span></span><br></pre></td></tr></table></figure></li></ul></li><li>String<ul><li><code>String()</code></li><li><code>toString()</code></li></ul></li></ul><hr><h2 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h2><ul><li><p>Syntax:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">functionName</span>(<span class="params">p1, p2, p3</span>) &#123;</span><br><span class="line"><span class="comment">//function body</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;body&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Invoking a function<br><code>functionName(p1, p2, p3)</code> (a simple <code>()</code> would do)</p></li><li><p>Return:</p><ul><li><code>return</code> ends the execution(lines after <code>return</code> will be omitted).</li><li>By default, the function will return <code>undefined</code> if the <code>return</code> is missing.</li><li>You can ONLY omit the <code>return</code> and the bracket<code>&#123;&#125;</code> if the function is a single statement:</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">adding</span> = (<span class="params">a,b</span>) =&gt; a + b;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">complexFunc</span> = (<span class="params">p1, p2, p3</span>) =&gt; &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;body&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>(<span class="string">&quot;execution ends&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//The best practice is to keep the return and brackets at any case.</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="Anonymous-Function"><a href="#Anonymous-Function" class="headerlink" title="Anonymous Function"></a>Anonymous Function</h3><p>Usually when a function is passed in as a parameter(especially when we use event listener), we write them as anonymous function:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">textBox.<span class="title function_">addEventListener</span>(<span class="string">&quot;keydown&quot;</span>, <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`You pressed &quot;<span class="subst">$&#123;event.key&#125;</span>&quot;.`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>However, after ES6, we now usually use arrow function instead.</p><hr><h3 id="Arrow-functions"><a href="#Arrow-functions" class="headerlink" title="Arrow functions"></a>Arrow functions</h3><p>All arrow functions are anonymous. However, we can still reuse them just like an ordinary function when we assign a variable to them:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">arrowFunc</span> = (<span class="params">a, b</span>) =&gt; &#123;</span><br><span class="line">    a * b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">textBox.<span class="title function_">addEventListener</span>(<span class="string">&quot;keydown&quot;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`You pressed &quot;<span class="subst">$&#123;event.key&#125;</span>&quot;.`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><hr><h2 id="Events"><a href="#Events" class="headerlink" title="Events"></a>Events</h2><p>Events are interactions of hardware or software with the website, and are used as a signal for certain action to be taken. Most commonly used events could be mouse click or keys pressed.</p><p>There are many events that can be triggered. <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Events#event_index">See the list of events.</a></p><hr><h3 id="Event-Listeners"><a href="#Event-Listeners" class="headerlink" title="Event Listeners"></a>Event Listeners</h3><p>DOM objects can fire events when they have <code>addEventListener()</code> method, the syntax is:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(eventType, handler, options);</span><br></pre></td></tr></table></figure><p>Where:</p><ul><li>element → the DOM element you want to listen on.</li><li>eventType → a string like “click”, “keydown”, “mouseover”, etc.</li><li>handler → the function to run when the event happens. (this is where arrow and anonymous function comes in)</li><li>options → (optional) object or boolean for extra settings like { once: true }.<blockquote><p><em>Tip: you can add multiple event listeners to one element, they will be executed in the order you add them.</em></p></blockquote></li></ul><p>For large, complex programs, it is more efficient to remove the event listener if not needed. To do so, we use <code>removeEventListener()</code> method:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">remomveEventListener</span>(eventType, handler);</span><br><span class="line"><span class="comment">// must pass in the EXACT reference as the addEventListener.</span></span><br></pre></td></tr></table></figure><hr><h3 id="Event-Handler-Properties"><a href="#Event-Handler-Properties" class="headerlink" title="Event Handler Properties"></a>Event Handler Properties</h3><p>Other way to trigger event is using event handler properties:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="property">onclick</span> = <span class="function">() =&gt;</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handler</span>(<span class="params"></span>) &#123;&#125;;</span><br><span class="line">element.<span class="property">onmouseenter</span> = handler;</span><br><span class="line"><span class="comment">// basically it is on + event</span></span><br></pre></td></tr></table></figure><blockquote><p><em>Key difference: you can only attack one event to the element, unlike event listeners.</em></p></blockquote><p>You can also use <strong>inline event handlers</strong>:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;bgChange()&quot;</span>&gt;</span>Press me<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">byChange</span>(<span class="params"></span>) &#123;&#125;;</span><br></pre></td></tr></table></figure><p>However, this is NOT RECOMMENDED! Referencing JS function in html file makes the program harder to read. Do not use this!</p><hr><h3 id="Event-Objects"><a href="#Event-Objects" class="headerlink" title="Event Objects"></a>Event Objects</h3><p>Sometimes we want to know something about the event itself, like for <code>keydown</code> event we want to know which key the user pressed. This is where the event object comes in.</p><p>Usually in the event handler, we pass in a parameter named <code>e</code> <code>evt</code>, this is the event object. The event object is passed automatically to the event handler, and provides information about the event itself.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(</span><br><span class="line">    click, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">        <span class="comment">// doing so we can get the event object of this click event</span></span><br><span class="line">    &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>Event object have some common properties, like:</p><ul><li><code>event.type</code>: get the type of the event like <code>click</code>, <code>keydown</code>…</li><li><code>event.target</code>: get the element that triggered the event. (the element)</li><li><code>event.currentTarget</code>: get the element the event is currently attached to.</li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 编程 </tag>
            
            <tag> frontend </tag>
            
            <tag> 前端 </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CS571 More about Fetch</title>
      <link href="/2025/09/02/CS571%20API%20Requests/"/>
      <url>/2025/09/02/CS571%20API%20Requests/</url>
      
        <content type="html"><![CDATA[<h1 id="CS571-API-Requests-with-Javascript"><a href="#CS571-API-Requests-with-Javascript" class="headerlink" title="CS571 API Requests with Javascript"></a>CS571 API Requests with Javascript</h1><p><a href="../_posts/Javascript%20Fundamentals.md"><em>Prerequisites: Solid understanding to Javascript fundamentals</em></a><br><a href="https://cs571.org/">lecture video(web dev basic 2)</a></p><h2 id="APIs-and-The-DOM-Document-Object-Model-API"><a href="#APIs-and-The-DOM-Document-Object-Model-API" class="headerlink" title="APIs and The DOM(Document Object Model) API"></a>APIs and The DOM(Document Object Model) API</h2><p>Application Programming Interfaces(APIs) is a bit like ADTs om data structures. Without knowing the underlying principles, we can use properties assigned to the ADT and carry out our implementation. API, on the other hand, allows us to use complex functionalities using simple syntax in our actual code.</p><p>Typically, there are many kinds of APIs, here we introduce the first kind:</p><ul><li><strong>Browser API</strong></li></ul><blockquote><p>Browser API is a set of built-in tools that browsers provide to bridge JavaScript code and the browser’s internal features.</p><p>The most commonly used browser API is DOM</p></blockquote><img src="../img/CS571/DOM.png" alt="DOM"><p>As you can see, the DOM abstracts the whole HTML file into a tree-like structured object <code>document</code>, where every element is a node. We use Javascript to read and change the tree.</p><ul><li><strong>Finding and selecting elements:</strong>:</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;id&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;class name&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;tag name&quot;</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;css selector&quot;</span>) <span class="comment">//returns the first match</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;css selector&quot;</span>) <span class="comment">//returns all the matches</span></span><br></pre></td></tr></table></figure><h2 id="Making-API-request-with-Javascript-The-fetch-API"><a href="#Making-API-request-with-Javascript-The-fetch-API" class="headerlink" title="Making API request with Javascript - The fetch API"></a>Making API request with Javascript - The <code>fetch</code> API</h2><p><strong>syntax:</strong></p><ul><li><code>fetch(request)</code>: make the request to the url, and allows you to set the:<ul><li>HTTP method: by default is GET, you can also set to POST, DELETE, PUT, etc.</li><li>header: custom request headers</li><li>body: the msg to send, usually JSON or HTML form data.</li></ul></li><li><code>.then(response =&gt; response.json())</code>: parse the body into JSON</li><li><code>.catch()</code>: handle errors like no internet connection or unauthorised access. When the status code is not 200 OK, usually something is wrong.</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fetch(&quot;https://official-joke-api.appspot.com/random_joke&quot;)</span><br><span class="line">  .then(response =&gt; response.json()) // parse JSON</span><br><span class="line">  .then(data =&gt; &#123;</span><br><span class="line">    console.log(data);</span><br><span class="line">    // Example output: &#123; setup: &quot;Why did the...&quot;, punchline: &quot;Because...&quot; &#125;</span><br><span class="line">    document.body.innerHTML += `<span class="tag">&lt;<span class="name">p</span>&gt;</span>$&#123;data.setup&#125; - $&#123;data.punchline&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span>`;</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(error =&gt; console.error(&quot;Error:&quot;, error));</span><br></pre></td></tr></table></figure><blockquote><p>Tip: the fetch request happens asynchronously, which means that the request and respond happens in a new thread.<br>if I write:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fetch(url)</span><br><span class="line"> ...</span><br><span class="line">console.log(&quot;Asynchronously&quot;)</span><br></pre></td></tr></table></figure><p>the massage “Asynchronously” is printed out before the fetch response.</p></blockquote><h2 id="Under-the-Hoods"><a href="#Under-the-Hoods" class="headerlink" title="Under the Hoods"></a>Under the Hoods</h2><p>If we only want to retrieve data use a simple get request, we only need to use <code>fetch(url)</code></p><p>However, if we print out the result of the fetch, we get a new data, <code>promise</code>.</p><p>We can see <code>promise</code> as a placeholder for future data to fill, eventually we can receive a response from the requested url, then we can do something about the promise:</p><p>Usually, after the server returns a response, we need to parse the promise into JSON.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> response = <span class="title function_">fetch</span>(<span class="string">&quot;https://api.thecatapi.com/v1/images/search&quot;</span>);</span><br><span class="line">response.<span class="title function_">then</span>(<span class="variable language_">this</span>.<span class="property">json</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 编程 </tag>
            
            <tag> frontend </tag>
            
            <tag> 前端 </tag>
            
            <tag> CS571 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML Fundamentals (1)</title>
      <link href="/2025/08/08/HTML%20Fundamentals%20(1)/"/>
      <url>/2025/08/08/HTML%20Fundamentals%20(1)/</url>
      
        <content type="html"><![CDATA[<h1 id="HTML-Hypertext-Markup-Language-the-Fundamentals-1"><a href="#HTML-Hypertext-Markup-Language-the-Fundamentals-1" class="headerlink" title="HTML Hypertext Markup Language - the Fundamentals (1)"></a>HTML Hypertext Markup Language - the Fundamentals (1)</h1><h2 id="Anatomy-of-HTML"><a href="#Anatomy-of-HTML" class="headerlink" title="Anatomy of HTML"></a><a href="https://developer.mozilla.org/en-US/docs/Learn_web_development/Core/Structuring_content/Basic_HTML_syntax#anatomy_of_an_html_document">Anatomy of HTML</a></h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- Metadata: character encoding, title, description --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;Brief description of the page&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Title shown in the browser tab --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>My Web Page<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Link external CSS stylesheet --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;styles.css&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Optional internal CSS --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-family</span>: Arial, sans-serif;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- Visible content of the page --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Welcome to My Website<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Navigation links --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Main content area --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>About This Page<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is a sample paragraph in the main section.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Footer content --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="symbol">&amp;copy;</span> 2025 My Website<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Link external JavaScript file (best practice: before closing &lt;/body&gt;) --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;script.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Optional inline JavaScript --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Page loaded&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ol><li><code>&lt;!DOCTYPE html&gt;</code>: Doctype to be declared as HTML</li><li><code>&lt;html lang=&quot;&quot;&gt;</code>: Root element that wraps up the whole HTML page, for internationalize purpose we usually specify the lang(en, zh, fr, ja, ar, es).</li><li><code>&lt;head&gt;</code>: Contains everything else you want to include in the html file, including metadata, title, or internal or external CSS links. <strong>It does not include any components shown in the user interface!</strong><ul><li><code>&lt;meta&gt;</code>: Contains metadata like character encoding(usually UTF-8), viewport settings and SEO data.</li><li><code>&lt;title&gt;</code>: Browser tab and search engine results.</li><li><code>&lt;link&gt;</code>: External CSS sheet or browser tab icons.</li><li><code>&lt;style&gt;</code>:inline CSS </li><li><code>&lt;script&gt;</code>: Reference to javascript. Using this directly at head will block html from rendering, therefore we only use it with defer(runs after dom ready) or async(parallel with html render) attribute for better performance.</li></ul></li><li><code>&lt;body&gt;</code>: Contains everything that displays on the page. Usually includes<code>&lt;nav&gt;</code>, <code>&lt;main&gt;</code>, <code>&lt;header&gt;</code>, <code>&lt;footer&gt;</code>, <code>&lt;section&gt;</code>.</li><li><code>&lt;script&gt;</code>: External or inline JS, ideally put at bottom.</li></ol><hr><h2 id="White-space-rule"><a href="#White-space-rule" class="headerlink" title="White space rule"></a>White space rule</h2><p>In HTML element content, no matter how much white spaces we include, the HTML parser will only recognize the sequence of white spaces as a single space. </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>White space rule<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>White</span><br><span class="line">    space</span><br><span class="line">    rule<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--These two paragraphs are rendered the same in your browser!--&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p><em>Tip: Accessing the innerHTML of elements from JavaScript will keep all the whitespace intact. This may return unexpected results if the whitespace is trimmed by the browser.</em></p></blockquote><hr><h2 id="Character-references"><a href="#Character-references" class="headerlink" title="Character references"></a>Character references</h2><p>As in almost all programming languages, certain characters have special meanings and are usually treated as part of syntax instead of plain text. Like in python, when we want to print out <code>&quot;&quot;</code>, we need to type <code>print(\&quot;\&quot;)</code>.</p><p>HTML also has reserved characters that are part of the markup, not normal text. If you want these characters to show up in the browser instead of being interpreted, you must use HTML character references:</p><table><thead><tr><th>Literal char</th><th>Char ref</th></tr></thead><tbody><tr><td>&gt;</td><td><code>&amp;gt; </code></td></tr><tr><td>&lt;</td><td><code>&amp;lt;  </code></td></tr><tr><td>“</td><td><code>&amp;quot;</code></td></tr><tr><td>‘</td><td><code>&amp;apos;</code></td></tr><tr><td>&amp;</td><td><code>&amp;amp; </code></td></tr></tbody></table><hr><h2 id="HTML-Comments"><a href="#HTML-Comments" class="headerlink" title="HTML Comments"></a>HTML Comments</h2><p>Like in all languages, we can use ctrl + &#x2F; to conveniently comment lines of codes in HTML.</p><p>In HTML the comment usually start with <code>&lt;--!</code> and ends with <code>--&gt;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--This is a line of comment.--&gt;</span></span><br></pre></td></tr></table></figure><hr><h2 id="The-Head-of-HTML"><a href="#The-Head-of-HTML" class="headerlink" title="The Head of HTML"></a>The Head of HTML</h2><h3 id="Metadata-and"><a href="#Metadata-and" class="headerlink" title="Metadata and &lt;meta&gt;"></a>Metadata and <code>&lt;meta&gt;</code></h3><p><a href="https://developer.mozilla.org/en-US/docs/Glossary/Metadata">Metadata</a>: don’t get confused by its fancy name, this is basically the same as data, however here we regard the HTML file to be the data that the metadata is describing(like the author, the date, the encoding standard).</p><p><strong>Adding Metadata</strong>:</p><ul><li>Adding character encoding:<blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p><code>utf-8</code> is a universal character set that includes pretty much any character from any human language. We usually add this for better performance and internationalization. </p></blockquote></li><li>Adding more metadata:<blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;author&quot;</span> <span class="attr">content</span>=<span class="string">&quot;Ian Zhang&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;HTML fundamentals&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>name&#x3D;”?”</th><th>Data contained</th><th>Still used for SEO purpose?</th></tr></thead><tbody><tr><td>author</td><td>The author</td><td>Optional, not used for ranking</td></tr><tr><td>description</td><td>The description of the site</td><td>used for SEO snippet</td></tr><tr><td>keywords</td><td>Keyword of the site</td><td>Usually ignored by search engines</td></tr><tr><td>generator</td><td>specifies the what software or platform was used to create the page</td><td>usually removed for security reasons</td></tr><tr><td>revisit-after</td><td>tells the search engine to crawl the page again after certain period of time</td><td>usually ignored by search engine</td></tr><tr><td>These tags are usually used for SEO purposes only and <strong>does not affect the file and its output directly.</strong></td><td></td><td></td></tr></tbody></table></blockquote></li></ul><h4 id="Important-Meta-Tags"><a href="#Important-Meta-Tags" class="headerlink" title="Important Meta Tags"></a>Important Meta Tags</h4><ul><li><p><strong><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Guides/Viewport_meta_element">Viewport</a></strong>: This tag tells the browser <strong>how wide the page should be, relative to the screen</strong>, and <strong>how zooming and scaling should work</strong></p><blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><strong>width&#x3D;</strong> : can be set to specific pixels like <code>width=600</code> (<em>Only accept positive values from 1 to 10000</em>), and can also be set to special value <code>width=device-width</code>.<br>This value establishes the vm unit in CSS.</li><li><strong>height&#x3D;</strong> : same as width but controls only the vertical axis, the special value is <code>height=device-height</code>.<br>This value establishes the vh unit in CSS.</li><li><strong>initial-scale&#x3D;</strong> : controls the zoom level when the page is first loaded. Ranging from 1 to 10 and the default is 1.</li><li><strong>minimum-scale&#x3D; &#x2F; maximum-scale&#x3D;</strong> : the minimum&#x2F;maximum zoom level allowed, by default are 0.1 and 10.</li><li><strong>user-scalable&#x3D;</strong> : controls whether zooming is allowed on the page. Accepted values are <code>0</code>, <code>1</code>, <code>no</code>, <code>yes</code>.</li><li><strong>interactive-widget&#x3D;</strong> : Specifies the effect that interactive UI widgets, such as a virtual keyboard, have on the page’s viewports.<br>Valid values: <code>resizes-visual</code>, <code>resizes-content</code>, or <code>overlays-content</code>. Default: <code>resizes-visual</code>.</li></ul></blockquote></li><li><p><strong><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/meta/name/robots">Robot</a></strong>: Defines the crawl and indexing behavior that web crawlers should use with the page.</p><blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;robots&quot;</span> <span class="attr">content</span>=<span class="string">&quot;noindex&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p><strong>content&#x3D;</strong>: </p><ul><li><code>index</code>: default behaviour, allow robot to index the page.</li><li><code>noindex</code>: restrict robot from indexing the page.</li><li><code>follow</code>: also default behaviour, allow robot to follow links on the page.</li><li><code>nofollow</code>: opposite of <code>follow</code>.</li><li><code>all</code>: equivalent to <code>index</code> + <code>follow</code>, used by google.</li><li><code>none</code>: equivalent to <code>noindex</code> + <code>nofollow</code>, used by google.</li></ul><p><strong>This only affect cooperative robots but not malicious users. In addition, the robot still have to access the page to read the meta tag, so we can consider using a robot.txt file to reduce bandwidth.</strong></p></blockquote></li></ul><hr><h3 id="tag"><a href="#tag" class="headerlink" title="&lt;link&gt; tag"></a><code>&lt;link&gt;</code> tag</h3><ul><li>Using <code>&lt;link&gt;</code> tag we can add custom icons for the site.</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">href</span>=<span class="string">&quot;favicon.ico&quot;</span> <span class="attr">type</span>=<span class="string">&quot;image/x-icon&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><ul><li>Linking style sheets.</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;styles.css&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>These two are the most common use of <code>&lt;link&gt;</code> tag, however the tag is also used for preload of resource and many other ways.</p><hr><h3 id="Applying-JS-using-tag"><a href="#Applying-JS-using-tag" class="headerlink" title="Applying JS using &lt;script&gt; tag"></a>Applying JS using <code>&lt;script&gt;</code> tag</h3><p>In the <code>&lt;head&gt;</code>, we usually use <code>&lt;script&gt;</code> tag to apply external js script.</p><p>The <code>&lt;script&gt;</code> tag usually have two attributes:</p><ul><li><code>src=</code>: contains the path to the script</li><li><code>defer</code>: a boolean attribute that ensures the HTML are parsed before loading the script</li></ul><p>There are some strategies for introducing a js script to our file only after the HTML elements are parsed:</p><ul><li>Placing the  <code>&lt;script&gt;</code> at the bottom of the <code>&lt;body&gt;</code> instead of the <code>&lt;head&gt;</code>, however depending on the internet connection and the length of the HTML file, this may cause some latency before the script is applied.</li><li>Use <code>&lt;script type=&quot;module&quot;&gt;</code>, so that the browser treats it as a module and will be executed after all HTML are parsed.</li><li>We can also use <code>defer</code> and <code>async</code> attribute for external scripts in <code>head</code>, or wrap the script in eventlistener, but <strong>unless we want to support very old browsers, using <code>type=&quot;module&quot;</code> is sufficient.</strong></li></ul><hr><h2 id="The-body-of-HTML"><a href="#The-body-of-HTML" class="headerlink" title="The body of HTML"></a>The <code>body</code> of HTML</h2><h3 id="Emphasis"><a href="#Emphasis" class="headerlink" title="Emphasis"></a>Emphasis</h3><p>In HTML5, we use <code>&lt;em&gt;</code> to replace <code>&lt;i&gt;</code>, and <code>&lt;strong&gt;</code> to replace <code>&lt;b&gt;</code>, as we want to highlight the semantic meaning of the italic or bold text.</p><blockquote><p>Here’s the best rule you can remember: It’s only appropriate to use <code>&lt;b&gt;</code>, <code>&lt;i&gt;</code>, or <code>&lt;u&gt;</code> to convey a meaning traditionally conveyed with bold, italics, or underline when there isn’t a more suitable element; and there usually is. Consider whether <code>&lt;strong&gt;</code>, <code>&lt;em&gt;</code>, <code>&lt;mark&gt;</code>, or <code>&lt;span&gt;</code> might be more appropriate.</p></blockquote><p><mark> Use the elements based on their semantics, not their appearence!</mark></p><hr><h3 id="Void-Elements"><a href="#Void-Elements" class="headerlink" title="Void Elements"></a>Void Elements</h3><p>Some elements don’t have closed tag and are composed of only one tag:</p><ul><li><code>&lt;img&gt;</code></li><li><code>&lt;br&gt;</code></li><li><code>&lt;hr&gt;</code></li><li><code>&lt;input&gt;</code></li><li><code>&lt;link&gt;</code></li><li><code>&lt;href&gt;</code></li><li><code>&lt;meta&gt;</code></li></ul><hr><h3 id="Attributes"><a href="#Attributes" class="headerlink" title="Attributes"></a>Attributes</h3><p>Typically, an attribute looks like this:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">attr</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure><p>We can add identifiers using attribute, define the labels behaviour, or apply inline css styles:</p><ul><li>class or id identifiers <code>id=&quot;&quot;</code>, <code>class=&quot;&quot;</code></li><li>define behaviour  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span> </span><br><span class="line"><span class="comment">&lt;!--    this defines that the input is text--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    you can also set the &quot;type&quot; attribute to &quot;password&quot;, &quot;email&quot;, etc.--&gt;</span></span><br></pre></td></tr></table></figure></li><li>inline css <code>style=&quot;&quot;</code></li></ul><hr><h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><h4 id="Ordered-and-unordered-list"><a href="#Ordered-and-unordered-list" class="headerlink" title="Ordered and unordered list"></a>Ordered and unordered list</h4><ul><li>ordered list <code>&lt;ol&gt;</code></li><li>unordered list <code>&lt;ul&gt;</code></li></ul><p>We always use <code>&lt;li&gt;</code> for list items:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">li</span>&gt;</span> This is an unordered list<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">li</span>&gt;</span> This is an unordered list<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span> </span><br><span class="line">   <span class="tag">&lt;<span class="name">li</span>&gt;</span>This is an ordered list<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">li</span>&gt;</span>This is an ordered list<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><ul>  <li> This is an unordered list</li>  <li> This is an unordered list</li></ul></blockquote><blockquote><ol>   <li>This is an ordered list</li>  <li> This is an ordered list</li></ol></blockquote><h4 id="Nested-list"><a href="#Nested-list" class="headerlink" title="Nested list"></a>Nested list</h4><p>To use nested list, we simply add new <code>&lt;ul&gt;</code> <code>&lt;ol&gt;</code> in the list item:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">li</span>&gt;</span>The first layer<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">li</span>&gt;</span> The second layer</span><br><span class="line">      <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">li</span>&gt;</span>The second layer item<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span>    </span><br></pre></td></tr></table></figure><blockquote><ul>  <li>The first layer</li>  <li> The second layer     <ol>        <li>The second layer item</li>     </ol>  </li></ul>   </blockquote><h4 id="Description-list"><a href="#Description-list" class="headerlink" title="Description list"></a>Description list</h4><p>The purpose of description lists is to mark up a set of items and their associated descriptions, such as terms and definitions.</p><p>Description lists use a different wrapper than the other list types — <code>&lt;dl&gt;</code>; in addition each term is wrapped in a <code>&lt;dt&gt;</code> (description term) element, and each description is wrapped in a <code>&lt;dd&gt;</code> (description definition) element.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dt</span>&gt;</span>The HTML<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dd</span>&gt;</span>A language that serves as the main skeleton of a website<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dt</span>&gt;</span>The CSS<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dd</span>&gt;</span>Defines the styling of HTML skeleton<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><dl>  <dt>The HTML</dt>  <dd>A language that serves as the main skeleton of a website</dd>  <dt>The CSS</dt>  <dd>Defines the styling of HTML skeleton</dd></dl><p>To put it plainly, <code>&lt;dt&gt;</code> is like the item of the first layer list, and <code>&lt;dd&gt;</code> is like the item of the second layer list, and <code>&lt;dl&gt;</code> is like the <code>&lt;ol&gt;</code> that wraps everything up.<br>Tip: there can be multiple description for one term, just like there can be multiple items in a nested list.</p></blockquote><hr>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English - 编程 - frontend - 前端 - HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CS571 Class note 1</title>
      <link href="/2025/08/04/CS571%20Class%20note%201/"/>
      <url>/2025/08/04/CS571%20Class%20note%201/</url>
      
        <content type="html"><![CDATA[<h1 id="CS571-UW-Madison"><a href="#CS571-UW-Madison" class="headerlink" title="CS571 @UW-Madison"></a>CS571 @UW-Madison</h1><p>CS571 is a course for basic UI&#x2F;UX design and frontend programming by University of Wisconsin Madison. The course is completely open source for all cs students to learn globally.</p><blockquote><p>The official website of this course is <a href="https://cs571.org/">CS571</a>, the latest version is for 2025 Spring. </p><p>You can find matching class videos and other materials in this website.</p></blockquote><hr><h2 id="Json"><a href="#Json" class="headerlink" title="Json"></a>Json</h2><p>Json(<em>Javascript Object Notation</em>) is basically a way to represent data in a hierarchy key-value pairs.</p><p>The first tutorial didn’t cover json in depth, I assume they will look in to json in the next few tutorials.</p><hr><h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><blockquote><p>A good place to learn HTML is <a href="https://developer.mozilla.org/en-US/docs/Web/HTML">MDN Web Doc</a>, this site covers all useful HTML components in detail.</p><p>This note will not cover html in basics, but will contain insights and interesting discoveries I found while learning.</p></blockquote><hr><h3 id="Semantics-and-nesting-elements"><a href="#Semantics-and-nesting-elements" class="headerlink" title="Semantics and nesting elements"></a>Semantics and nesting elements</h3><p>Sometimes we can place elements within other elements, this is called nesting, just like in programming we have nested loops. </p><blockquote><p>this is <strong>me</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>this is <span class="tag">&lt;<span class="name">strong</span>&gt;</span>me<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Using <code>&lt;strong&gt;</code> label we can emphasize the text in bold font.</p></blockquote><p>However, if you learned html before, you may be confused that <code>&lt;b&gt;</code> label also turns the text into bold font. The main difference is the semantics.</p><p>In HTML, although pairs like <code>&lt;strong&gt;</code> and <code>&lt;b&gt;</code> have the same visual effect, they are not treated the same in screen readers or search engines.</p><blockquote><ul><li>the search engine may give more weight to <code>&lt;strong&gt;</code> but would treat <code>&lt;b&gt;</code> texts as normal texts.</li><li>the screen reader may read <code>&lt;strong&gt;</code> text with emphasis to help visually impaired users.</li></ul></blockquote><p>Same applies to label pairs like:</p><ul><li><code>&lt;em&gt;</code> vs <code>&lt;i&gt;</code></li><li><code>&lt;mark&gt;</code> vs <code>&lt;span style=&quot;background: yellow&quot;&gt;</code></li><li><code>&lt;code&gt;</code> vs <code>&lt;span style=&quot;font-family: monospace&quot;&gt;</code></li><li><code>&lt;blockquote&gt;</code> vs <code>&lt;div style=&quot;margin-left: 20px&quot;&gt;</code></li><li><code>&lt;abbr&gt;</code> vs just typing the abbreviation</li></ul><p>These label pairs have the exact same visual representation but different semantics meaning, and will therefore be treated differently in browsers or assistive technologies. </p><hr><h2 id="CSS-Units"><a href="#CSS-Units" class="headerlink" title="CSS Units"></a>CSS Units</h2><p>It has always puzzled me how the units of measurement works in CSS, commonly seen units like px, %, vh, may have the same visual effect in a fixed window, but completely different size in another.</p><p>While learning CSS in CS571, I took some time to figure out the exact mechanism for such transformation.</p><blockquote><p>Ref <a href="https://www.geeksforgeeks.org/css/css-units-em-rem-px-vh-vw/">geek4geek</a></p></blockquote><p>In general there are absolute units (that remain the same scale regardless of the window), and relative units. In order to make the page adaptable and scalable for new windows, we usually prefer the latter.</p><table>  <tr>    <td rowspan="6"><strong>Absolute Units</strong></td>    <td><code>px</code></td><td>Pixels — relative to screen (1px = 1 dot)</td>  </tr>  <tr>    <td><code>pt</code></td><td>Points — 1pt = 1/72 inch = 0.3527cm</td>  </tr>  <tr>    <td><code>in</code></td><td>Inches — 1in = 2.54cm = 96px</td>  </tr>  <tr>    <td><code>cm</code></td><td>Centimeters — 1cm ≈ 37.8px</td>  </tr>  <tr>    <td><code>mm</code></td><td>Millimeters — 10mm = 1cm</td>  </tr>  <tr>    <td><code>pc</code></td><td>Picas — 1pc = 12pt = 4.233mm</td>  </tr>  <tr>    <td rowspan="6"><strong>Relative Units</strong></td>    <td><code>%</code></td><td>Percentage — relative to parent element</td>  </tr>  <tr>    <td><code>em</code></td><td>Relative to the font size of the element</td>  </tr>  <tr>    <td><code>rem</code></td><td>Relative to the root element's font size</td>  </tr>  <tr>    <td><code>vw</code></td><td>1% of viewport width</td>  </tr>  <tr>    <td><code>vh</code></td><td>1% of viewport height</td>  </tr>  <tr>    <td><code>vmin</code></td><td>1% of the smaller of viewport width or height</td>  </tr></table><h2 id="CSS-Selectors"><a href="#CSS-Selectors" class="headerlink" title="CSS Selectors"></a>CSS Selectors</h2><ul><li>By tag name (<strong>Type selector</strong>): targeted on all tags of certain type, like <code>p</code></li><li>By Class name: targeted on elements with the designated class name(<code>class=</code> attribute), like <code>.class</code></li><li>By ID: targeted on elements with the <code>id=</code> attribute(id is unique on each page), like <code>#id</code></li><li>By tag name and attribute (<strong>attribute selector</strong>):<ul><li>e.g. <code>input[type=&quot;password&quot;]&#123;&#125;</code> is targeted on all <code>&lt;input&gt;</code> label that have <code>type=&quot;password&quot;</code> attribute.<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">element[attribute] &#123; ... &#125;           /* has attribute */</span><br><span class="line">element[attribute=&quot;value&quot;] &#123; ... &#125;   /* exact value */</span><br></pre></td></tr></table></figure></li></ul></li><li>By Hierarchy (combinator):<ul><li>Descendent:<ul><li><code>header p &#123;&#125;</code> only selects <code>&lt;p&gt;</code> within <code>&lt;header&gt;</code>.</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is ALSO styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is ALSO styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>Child:<ul><li><code>header &gt; p &#123;&#125;</code> only selects the direct child <code>&lt;p&gt;</code> within <code>&lt;header&gt;</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is ALSO styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is NOT styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>Adjacent sibling selector:<ul><li><code>header + p &#123;&#125;</code> only selects the first <code>&lt;p&gt;</code> in the <code>&lt;header&gt;</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is NOT styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>This one is NOT styled<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li><li>Pseudo-class selector: selects and element at a special state(<em>does not create a new element</em>)<ul><li>Uses <code>:</code>  Like<code>a:hover</code> or <code>p:n-th child</code></li><li>Think of it as: “apply this style when the element is in this condition.”</li></ul></li><li>Pseudo-element selector: styles a special part of an element(pretends there is an actual box associated to the element)<ul><li>Uses <code>::</code></li><li>Targets a portion of the content, like <code>::first-letter</code> or <code>::first-line</code></li><li>Or creates a virtual box that you can insert content, like <code>::before</code> or <code>::after</code></li></ul></li></ul><hr><h4 id="Grouping-selectors"><a href="#Grouping-selectors" class="headerlink" title="Grouping selectors"></a>Grouping selectors</h4><p>We can use <code>,</code> to group ANY type of selectors.</p><p>Like this : <code>header p, a[href], className &#123;&#125;</code></p><p>But do note that grouping selectors is equivalent to writing them separately.</p><hr><h2 id="The-Cascade-algorithm"><a href="#The-Cascade-algorithm" class="headerlink" title="The Cascade algorithm"></a>The Cascade algorithm</h2><p>The Cascade algorithm decide which CSS rules actually applied when multiple rules taget at the same element. The “Cascade” is what the C in CSS stands for.</p><p>The priority of the CSS rules are as follows:</p><ul><li>Origin and importance</li><li>Selector specificity</li><li>Order of appearance</li><li>Initial and inherited properties (default values)</li></ul><h3 id="Origin-and-importance"><a href="#Origin-and-importance" class="headerlink" title="Origin and importance"></a>Origin and importance</h3><p><strong>Origin</strong>:</p><p>The CSS declarations can come from different origin types: <strong>User-agent stylesheets, User stylesheets, Author stylesheets</strong>.</p><ul><li><strong>User-agent:</strong> Stylesheets can come from user-agents, or as we probably know them as <strong>browsers</strong>. These sheets set the default style for any document.</li><li><strong>Author:</strong> Author stylesheets are the most commonly used ones, they are written by developers and can overwrite the browser’s default styles. This includes inline, internal and external CSS sheets.(<em>as explained in HTML-how to introduce stylesheets to HTML</em>)</li><li><strong>User:</strong> The user or the reader of the browser can choose to make up their own styles by altering the browser’s profile folder.(like adding a custom.css). However, modern browsers are making this more difficult.</li></ul><p><strong>Importance</strong></p><p>For developers of browsers or websites, we want some CSS properties to be consistent and make sure they are not overwritten. That’s where we use importance.</p><p>To use importance, we simply add <code>!important</code> behind the property:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a[href] &#123;</span><br><span class="line">color: blue !important;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Therefore, the order of power of the first step is:</p><p><strong>User !important &gt; Author !important &gt; Author normal &gt; User normal &gt; Browser defaults</strong></p><h3 id="Selector-Specificity"><a href="#Selector-Specificity" class="headerlink" title="Selector Specificity"></a>Selector Specificity</h3><p>When different CSS selector aims at the same element, we prioritize the CSS declarations according to the specificity of the selectors.</p><p>Generally speaking, the priority level in <strong>descending order</strong> is:</p><ul><li>Inline Styles</li><li>ID selectors</li><li>Classes&#x2F; attribute &#x2F;pseudo-class selectors</li><li>Type&#x2F;pseudo-element selectors</li></ul><h3 id="Source-order"><a href="#Source-order" class="headerlink" title="Source order"></a>Source order</h3><p>This is probably the simplest layer. Whatever CSS declaration comes last in the source code is applied.</p><p>In the source code, the browser first renders according to the default, which is the User-agent origin CSS we discussed earlier.<br>Then it reads the external and internal CSS in the file, like <code>&lt;link rel=&quot;stylesheet&quot; href=&quot;styles.css&quot;&gt;</code> and <code>&lt;style&gt;&lt;/style&gt;</code><br>Following, it reads the inline CSS. And at last it applies the CSS in User origin stylesheets.</p>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 编程 </tag>
            
            <tag> frontend </tag>
            
            <tag> 前端 </tag>
            
            <tag> CS571 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Data 8 学习笔记(四)</title>
      <link href="/2025/07/03/Data8%20%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0(%E5%9B%9B)/"/>
      <url>/2025/07/03/Data8%20%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0(%E5%9B%9B)/</url>
      
        <content type="html"><![CDATA[<h1 id="Data-8-学习笔记-四"><a href="#Data-8-学习笔记-四" class="headerlink" title="Data 8 学习笔记(四)"></a>Data 8 学习笔记(四)</h1><blockquote><p><em>数据科学简直就是统计学披着计算机的外皮。</em><br><i style="text-align: right; display: block;">——我</i></p></blockquote><h2 id="Testing-Hypothesis-假设检验"><a href="#Testing-Hypothesis-假设检验" class="headerlink" title="Testing Hypothesis 假设检验"></a>Testing Hypothesis 假设检验</h2><p>这里我们以孟德尔的豌豆花形状实验为例，孟德尔的模型是，对于每一株豌豆有75%其有紫色花，25%其为白花，其颜色和其他植株独立。</p><h3 id="Step-1-The-Hypothesis-假设"><a href="#Step-1-The-Hypothesis-假设" class="headerlink" title="Step 1: The Hypothesis 假设"></a>Step 1: The Hypothesis 假设</h3><blockquote><p><strong>The Null hypothesis 零(原)假设</strong>：零假设认为所有数据都是在明确指定的条件下生成的，如果数据结果和零假设不同，那只可能是因为偶然性。</p><p>但是我们最关心的是，在实际应用中，零假设是我们研究者提出的，用来模拟数据的假设。</p><p>对于孟德尔模型来说，零假设就是其模型是正确的，即每株豌豆有75%是紫色花，25%是白色花，且互相独立。</p></blockquote><blockquote><p><strong>The Alternative Hypothesis 备选假设</strong>：备选假设站在零假设的对立面，它说明除了概率以外的其他因素导致了结果和零假设相悖。</p><p>对于孟德尔模型来说，备选假设很简单，就是孟德尔模型不正确。这里我们并不说明理由和影响因素。</p></blockquote><hr><h3 id="Step-2-The-Test-Statistic-检验统计量"><a href="#Step-2-The-Test-Statistic-检验统计量" class="headerlink" title="Step 2: The Test Statistic 检验统计量"></a>Step 2: The Test Statistic 检验统计量</h3><p>为了在这两个假设之间作出决策，我们必须选择一个统计量作为我们决策的依据。 这被称为检验统计量 <code>Test Statistic</code>。</p><blockquote><p><strong>TVD(Total Variation Distance) 总变差距离</strong>：量化两个概率分布的距离</p><p><span style="text-align: center; display: block;">$TVD(P, Q) &#x3D; \frac{1}{2} \sum_x|P(x) - Q(x)|$</p><p>即两个概率分布的TVD是每个事件概率差的绝对值的和除以二</p><p>TVD的值在0到1之间：</p><ul><li>TVD &#x3D; 0 表示两个分布完全相同</li><li>TVD &#x3D; 1 表示两个分布完全不重叠</li></ul></blockquote><p>以孟德尔的实验结果为例，929株豌豆中有705株有紫色花，我们选择计算随机抽样结果和模型的相关性，于是我们计算这两个分布的TVD。为了更好的观察数据我们把结果转换成百分比。</p><blockquote><p><strong>Observed Value of the Test Statistic 检测统计量的观测值</strong>：这里随机抽样得到的705&#x2F;929是检测统计量的观测值，该数据并非我们通过模拟得到的。</p></blockquote><p><code>TVD = 0.5 * (abs(100 * 705/929 - 75) + abs(100 * 224/929 - 25))</code> TVD 的结果是 <code>0.8880516684607045</code>。</p><hr><h3 id="Step-3：The-Distribution-of-the-Test-Statistic-Under-the-Null-Hypothesis-在原假设下检测统计量的概率分布"><a href="#Step-3：The-Distribution-of-the-Test-Statistic-Under-the-Null-Hypothesis-在原假设下检测统计量的概率分布" class="headerlink" title="Step 3：The Distribution of the Test Statistic, Under the Null Hypothesis 在原假设下检测统计量的概率分布"></a>Step 3：The Distribution of the Test Statistic, Under the Null Hypothesis 在原假设下检测统计量的概率分布</h3><p>为了搞清楚原假设的模型预测的数据是什么样的，我们需要知道如果原假设是正确的，我们应该得到的检验统计量应该是怎样的。 于是我们需要把原假设为正确作为前提来模拟，通过抽样过程的大量重复和统计量的经验分布来近似检验统计量的概率分布。。</p><blockquote><ul><li>对于每个植株，紫花的概率是0.75</li><li>样本大小是929</li><li>每次模拟我们生成929次，记录其中紫花的比例还有其与原假设(75%)的距离， 也就是|紫花的百分比 - 75|</li><li>重复模拟</li></ul><p>结果可视化后如图<br><img src="/../img/data8/data8-4.png" alt="result"><br>我们可以发现，大部分的数据在0到1的区间内，也就是模拟数据和理想状况(75%)的距离大多数在0到1之间。</p></blockquote><p>接下来我们要比较我们根据原假设的预测和莫德尔的实际观察数据。</p><hr><h3 id="Step-4-The-Conclusion-of-the-Test-下结论"><a href="#Step-4-The-Conclusion-of-the-Test-下结论" class="headerlink" title="Step 4. The Conclusion of the Test 下结论"></a>Step 4. The Conclusion of the Test 下结论</h3><p>原假设和备选假设之间的选择，取决于Step 2 和 3 的结果之间的比较：检验统计量的观察值以及由原假设预测的概率分布。</p><p>如果二者一致<code>consistent</code>，则观察到的检验统计量与原假设的预测一致。 换句话说，这个检验并不偏向备选假设；数据更加支持原假设。</p><p>但如果两者不一致，就像我们阿拉米达县陪审团的例子那样，那么数据就不支持原假设。 这就是为什么我们得出结论，陪审团不是随机挑选的。 几率之外的东西影响了他们的构成。</p><p>如果数据不支持原假设，我们说检验拒绝<code>reject</code>了原假设。</p><p>我们从Step 2得知，孟德尔的数据检测统计量的观测值是大约0.89，这和我们在Step 3里面的结果相吻合，也就是说孟德尔的模型，也就是原假设相比于备选假设更正确。</p><hr><h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><p>判断检测统计量和预测是否一致的指标目前很不明确，所以我们需要用更系统的方式去决定什么时候我们认为两者<code>consistent</code>一致。</p><h3 id="Significance-and-p-value-显著性和p值"><a href="#Significance-and-p-value-显著性和p值" class="headerlink" title="Significance and p-value 显著性和p值"></a>Significance and p-value 显著性和p值</h3><p>孟德尔的数据的和原假设预测的TVD是0.89，但是如果我们的数据和原假设的TVD是3.2呢？我们怎么判断原假设和备选假设哪个更正确呢？</p><blockquote><p><img src="/../img/data8/data8-4-2.png" alt="result"><br>我们可以看见，3.2的TVD位于红点所在的位置。 惯例上，我们习惯于通过尾部tail来判断，也就是从红点向偏向于备选假设的方向，在这里是右方。如果tail的面积(在直方图里面积就是比例)过小，我们就可以说观察到的数据和符合原假设的预测相去甚远。</p><p>通过计算，我们可以得到有2.4%的在原假设下的模拟数据的TVD大于3.2，这个概率很小了，如果原假设是正确的话我们的数据应该有97.6%概率比3.2小。这时我们就需要引入convention惯例了。</p></blockquote><h4 id="p-value-p值"><a href="#p-value-p值" class="headerlink" title="p-value p值"></a>p-value p值</h4><p><strong>显著性 (Significance)</strong> 用来评估观察到的测试统计量有多不寻常，即在原假设成立的情况下，这个统计量出现的概率有多低，这个值我们称为<strong>p-value p值</strong>，也就是我们上面所计算的2.4%。</p><blockquote><p>Definition: The p-value of a test is the chance, based on the model in the null hypothesis, that the test statistic will be equal to the observed value in the sample or even further in the direction that supports the alternative.</p></blockquote><h4 id="Significance-level"><a href="#Significance-level" class="headerlink" title="Significance level"></a>Significance level</h4><p>在实际运用中我们会设置一个阙值<code>cutoffs</code>(显著性水平) $\alpha$： <code>conventional cutoffs</code>一般来说，我们认为5%是一个方便的极限，也就是</p><ul><li>$p &lt;&#x3D; \alpha$的时候结果统计显著，即有足够证据拒绝原假设。</li><li>$p &gt; \alpha$，则无法拒绝原假设。</li></ul><blockquote><p>统计学上显著性水平 $\alpha$ 是<b>第一类错误(Type I error)</b>的容忍度： </p><p>第一类错误：错误地拒绝了原本真实的原假设。 比如 $\alpha &#x3D; 0.05$，就代表即便原假设是真的，仍有 5% 的可能性我们会误判为拒绝。</p><p>第二类错误：备择假设 (Alternative Hypothesis) 为真，但错误地没有拒绝原假设。 Data8暂时不覆盖计算Type Ⅱ error的概率计算。</p></blockquote><hr><h3 id="Data-Snooping-and-p-Hacking-数据窥探"><a href="#Data-Snooping-and-p-Hacking-数据窥探" class="headerlink" title="Data Snooping and p-Hacking 数据窥探"></a>Data Snooping and p-Hacking 数据窥探</h3><p>咱们在高中物理化学生物实验就做过类似的事情了~在分析前或假设检验之前，反复探索数据、试图找到看似显著的关系，或者为了使p值小于等于0.05改变分析方法强行得到结果。</p><p>Needless to say, 这样会导致很多问题</p><ul><li>结果可复现性极低</li><li>增加假阳性 false positive</li><li>结果不具有统计效度</li></ul><p>为了academic integrity 我们一定要事前定义好假设和方法，不去反复调整，统计显著性才可信，否则结果的p&lt;&#x3D;0.05可能只是数据随机波动的幻觉。</p><hr><h2 id="Project-2-Part-1"><a href="#Project-2-Part-1" class="headerlink" title="Project 2 Part 1"></a>Project 2 Part 1</h2><p>project1很基础很简单，但是project 2 开始涉及一些系统的统计学术语了，有些在textbook里没进行阐述。Part 2 的内容包括教科书第12章的内容，下一个笔记会涵盖。</p><hr><h3 id="置信区间及其计算"><a href="#置信区间及其计算" class="headerlink" title="置信区间及其计算"></a>置信区间及其计算</h3><p>置信区间 Confidence Interval CI: 置信区间是指由样本统计量所构造的总体参数的估计区间</p><p>置信区间是基于样本数据，对总体参数（例如总体均值）的一种区间估计。<br>常用的置信水平（Confidence Level）有 95%、99% 等。<br>例如，95% 置信区间意味着：</p><p>如果重复抽样并计算置信区间，多次后约95%的区间会包含真实总体参数。</p><blockquote><p>线性插值： 如果百分位数对应的位置是浮点数，取它相邻的两个点，按距离比例计算加权平均。</p><p>也就是对于第2和第3个数据加权平均0.5。但是np使用<code>np.percentile()</code>就自动进行插值了，很方便<br>本节我们只学习bootstrap方法取置信区间，具体代码实现如下</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">bootstrap_ci</span>(<span class="params">data, statistic_func, num_samples=<span class="number">5000</span>, ci=<span class="number">95</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    计算给定数据和统计量的 Bootstrap 置信区间</span></span><br><span class="line"><span class="string">    data: 原始样本数据 (np array)</span></span><br><span class="line"><span class="string">    statistic_func: 统计量函数 (如 np.mean, np.median)</span></span><br><span class="line"><span class="string">    num_samples: 重采样次数</span></span><br><span class="line"><span class="string">    ci: 置信水平 (百分数)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    boot_stats = make_array()</span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(num_samples):</span><br><span class="line">        resample = np.random.choice(data, size=<span class="built_in">len</span>(data), replace=<span class="literal">True</span>)</span><br><span class="line">        stat = statistic_func(resample)</span><br><span class="line">        boot_stats = np.append(boot_stats, stat)</span><br><span class="line">    </span><br><span class="line">    lower = np.percentile(boot_stats, (<span class="number">100</span> - ci) / <span class="number">2</span>)</span><br><span class="line">    upper = np.percentile(boot_stats, <span class="number">100</span> - (<span class="number">100</span> - ci) / <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> lower, upper</span><br></pre></td></tr></table></figure><hr><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="https://inferentialthinking.com/chapters/intro.html#">Data 8 Text book: Inferential Thinking chapter 11</a></p>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程 </tag>
            
            <tag> 中文 </tag>
            
            <tag> Data science(数据科学) </tag>
            
            <tag> Data8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Data8 课堂笔记(三)</title>
      <link href="/2025/07/01/Data8%20%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0(%E4%B8%89)/"/>
      <url>/2025/07/01/Data8%20%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0(%E4%B8%89)/</url>
      
        <content type="html"><![CDATA[<h1 id="Data-8-学习笔记-三"><a href="#Data-8-学习笔记-三" class="headerlink" title="Data 8 学习笔记(三)"></a>Data 8 学习笔记(三)</h1><h2 id="Numpy-random-choice"><a href="#Numpy-random-choice" class="headerlink" title="Numpy random.choice()"></a>Numpy random.choice()</h2><p>有时我们需要从集合里随机选取一个值，这时就可以用np.choice()，具体语法是：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#随机选取一个值</span></span><br><span class="line">random_choice = np.choice(array_name)</span><br><span class="line"><span class="comment">#多次随机选取</span></span><br><span class="line">random_choices = np.choice(array_name, frequency)</span><br><span class="line"><span class="comment">#模拟掷骰子三次</span></span><br><span class="line">dice_rolls = np.choice(np.arange(<span class="number">1</span>,<span class="number">7</span>), <span class="number">3</span>)</span><br></pre></td></tr></table></figure><hr><h2 id="模拟-simulation-以原神抽卡为例"><a href="#模拟-simulation-以原神抽卡为例" class="headerlink" title="模拟 simulation - 以原神抽卡为例"></a>模拟 simulation - 以原神抽卡为例</h2><h3 id="Step-1-What-to-simulate"><a href="#Step-1-What-to-simulate" class="headerlink" title="Step 1: What to simulate?"></a>Step 1: What to simulate?</h3><p>我们想要模拟每次抽到五星物品的预计抽数。<br>每一次抽卡只会有两个结果：</p><ul><li>抽到五星物品</li><li>没抽到五星物品</li></ul><hr><h3 id="Step-2-Simulating-one-play"><a href="#Step-2-Simulating-one-play" class="headerlink" title="Step 2: Simulating one play."></a>Step 2: Simulating one play.</h3><p>接下来我们模拟一次抽卡的结果。目前我们只考虑五星，不考虑四星插队的情况，也不考虑up角色的情况：</p><p>在前73抽，每次出现五星物品的概率为0.6%。 从第74抽开始，每次增加6%的概率直至第90抽到达100%。</p><p>我们定义一个函数<code>calc_chance</code>来计算每一抽出五星的概率，传入参数pity为目前抽数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">calc_chance</span>(<span class="params">pity</span>):</span><br><span class="line">    <span class="keyword">if</span> pity &lt; <span class="number">74</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0.006</span></span><br><span class="line">    <span class="keyword">elif</span> pity &lt; <span class="number">90</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0.006</span> + <span class="number">0.06</span> * (pity - <span class="number">74</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1.0</span></span><br></pre></td></tr></table></figure><p>那么对于一次模拟，我们定义函数<code>one_simulation</code>获得出五星时的抽数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">one_simulation</span>():</span><br><span class="line">    pity = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        pity += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> np.random.random() &lt; calc_chance(pity):</span><br><span class="line">            <span class="keyword">return</span> pity</span><br></pre></td></tr></table></figure><hr><h3 id="Step-3-Number-of-repetition"><a href="#Step-3-Number-of-repetition" class="headerlink" title="Step 3: Number of repetition"></a>Step 3: Number of repetition</h3><p>模拟次数由我们决定，次数越多结果越可靠，但是耗时越长。 这里我们仅仅模拟10000次试试：</p><ul><li>也就是说我们要模拟抽到五星物品的抽卡数10000次</li></ul><hr><h3 id="Step-4-Simulating-Multiple-Values"><a href="#Step-4-Simulating-Multiple-Values" class="headerlink" title="Step 4: Simulating Multiple Values"></a>Step 4: Simulating Multiple Values</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">num_of_repetition = <span class="number">10000</span></span><br><span class="line">res = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num_of_repetition):</span><br><span class="line">    res.append(one_simulation())</span><br><span class="line">res = np.array(res)</span><br><span class="line">simulation_result = Table().with_columns(</span><br><span class="line">    <span class="string">&quot;Repetition&quot;</span>, np.arange(<span class="number">1</span>, num_of_repetition + <span class="number">1</span>),</span><br><span class="line">    <span class="string">&quot;Count&quot;</span>, res</span><br><span class="line">    )</span><br></pre></td></tr></table></figure><p>在<code>simulation_result</code>里我们获得了10000次模拟组成的Table。 接下来我们可以用直方图直观的查看数据分布, 并用np.mean查看出五星的平均抽数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">simulation_result.hist(<span class="string">&quot;Count&quot;</span>, bins=np.arange(<span class="number">1</span>, <span class="number">91</span>, <span class="number">1</span>))</span><br><span class="line">np.mean(res) <span class="comment">#在jupiter notebook里会自动打印每个cell的最后一行代码</span></span><br></pre></td></tr></table></figure><p>结果如图：<br><img src="/../img/data8/data8-3.png" alt="result"><br><strong>所以说我们可以得出结论，原神出金的平均抽数为大约63抽，但是大部分人会在74抽以后出金。</strong><br>当然我们也可以用<code>np.median()</code>获得中位数数据。</p><hr><h2 id="Monty-Hall-Problem-三门问题"><a href="#Monty-Hall-Problem-三门问题" class="headerlink" title="Monty Hall Problem 三门问题"></a>Monty Hall Problem 三门问题</h2><p>经典的统计学问题，国内高中数学应该早有接触的。我们也可以用模拟来得出大概结论。具体情景可以参考<a href="https://zhuanlan.zhihu.com/p/48254298">三门问题</a>。有三道门，背后分别由一辆汽车两个山羊，参与者从中选择一道门，然后主持人从剩余的两道门里指出背后有山羊的一道门，并询问参与者是否选择更换自己的选择。</p><p>有一种反直觉但是符合逻辑的方式理解这个问题：</p><ul><li>从三道门里任选一个门背后有汽车的概率是1&#x2F;3</li><li>那么选择一道门以后，剩余两道门里有汽车的概率为2&#x2F;3</li><li>当得知剩余两道门的一道门背后有山羊后，最后的一道门里有车的概率还是2&#x2F;3</li><li>所以如果选择换门，获得汽车的概率为2&#x2F;3，不换门的话概率仍然是1&#x2F;3</li></ul><p>通过我们提到的模拟，我们也能得出一样的结论，具体可以查看<a href="https://inferentialthinking.com/chapters/09/4/Monty_Hall_Problem.html">data8教科书第9章第4节</a>。</p><hr><h2 id="Discrete-Distribution-离散分布"><a href="#Discrete-Distribution-离散分布" class="headerlink" title="Discrete Distribution 离散分布"></a>Discrete Distribution 离散分布</h2><p>Monash MAT1830离散数学里有提到几种离散分布：</p><h3 id="Bernoulli-Distribution"><a href="#Bernoulli-Distribution" class="headerlink" title="Bernoulli Distribution"></a>Bernoulli Distribution</h3><ul><li><strong>Definition</strong>: A distribution with only two outcomes: success ($1$) or failure ($0$).</li><li><strong>Parameter</strong>:<ul><li>$p$: probability of success</li></ul></li><li><strong>Support</strong>: $x \in {0, 1}$</li><li><strong>PMF (Probability Mass Function)</strong>:<br>$$<br>P(X &#x3D; x) &#x3D; p^x (1 - p)^{1 - x}<br>$$</li><li><strong>Mean</strong>: $\mu &#x3D; p$</li><li><strong>Variance</strong>: $\sigma^2 &#x3D; p(1 - p)$</li></ul><hr><h3 id="Binomial-Distribution"><a href="#Binomial-Distribution" class="headerlink" title="Binomial Distribution"></a>Binomial Distribution</h3><ul><li><strong>Definition</strong>: Number of successes in $n$ independent Bernoulli trials.</li><li><strong>Parameters</strong>:<ul><li>$n$: number of trials</li><li>$p$: probability of success</li></ul></li><li><strong>Support</strong>: $x \in {0, 1, …, n}$</li><li><strong>PMF</strong>:<br>$$<br>P(X &#x3D; x) &#x3D; \binom{n}{x} p^x (1 - p)^{n - x}<br>$$</li><li><strong>Mean</strong>: $\mu &#x3D; np$</li><li><strong>Variance</strong>: $\sigma^2 &#x3D; np(1 - p)$</li></ul><hr><h3 id="Geometric-Distribution"><a href="#Geometric-Distribution" class="headerlink" title="Geometric Distribution"></a>Geometric Distribution</h3><ul><li><strong>Definition</strong>: Number of trials until the first success.</li><li><strong>Parameter</strong>:<ul><li>$p$: probability of success per trial</li></ul></li><li><strong>Support</strong>: $x \in {1, 2, 3, \dots}$</li><li><strong>PMF</strong>:<br>$$<br>P(X &#x3D; x) &#x3D; (1 - p)^{x - 1} p<br>$$</li><li><strong>Mean</strong>: $\mu &#x3D; \frac{1}{p}$</li><li><strong>Variance</strong>: $\sigma^2 &#x3D; \frac{1 - p}{p^2}$</li></ul><hr><h3 id="Poisson-Distribution"><a href="#Poisson-Distribution" class="headerlink" title="Poisson Distribution"></a>Poisson Distribution</h3><ul><li><strong>Definition</strong>: Models the number of events in a fixed interval of time or space.</li><li><strong>Parameter</strong>:<ul><li>$\lambda$: average rate of occurrence</li></ul></li><li><strong>Support</strong>: $x \in {0, 1, 2, \dots}$</li><li><strong>PMF</strong>:<br>$$<br>P(X &#x3D; x) &#x3D; \frac{e^{-\lambda} \lambda^x}{x!}<br>$$</li><li><strong>Mean</strong>: $\mu &#x3D; \lambda$</li><li><strong>Variance</strong>: $\sigma^2 &#x3D; \lambda$</li></ul><hr><h3 id="Discrete-Uniform-Distribution"><a href="#Discrete-Uniform-Distribution" class="headerlink" title="Discrete Uniform Distribution"></a>Discrete Uniform Distribution</h3><ul><li><strong>Definition</strong>: All outcomes are equally likely.</li><li><strong>Parameter</strong>:<ul><li>$a, b$: integers, where $a \leq x \leq b$</li></ul></li><li><strong>Support</strong>: $x \in {a, a+1, \dots, b}$</li><li><strong>PMF</strong>:<br>$$<br>P(X &#x3D; x) &#x3D; \frac{1}{b - a + 1}<br>$$</li><li><strong>Mean</strong>:<br>$$<br>\mu &#x3D; \frac{a + b}{2}<br>$$</li><li><strong>Variance</strong>:<br>$$<br>\sigma^2 &#x3D; \frac{(b - a + 1)^2 - 1}{12}<br>$$</li></ul><hr><h3 id="小总结"><a href="#小总结" class="headerlink" title="小总结"></a>小总结</h3><p>不需要记公式，只需要知道什么情况下用哪一种分布即可：</p><ul><li><p><strong>伯努利分布</strong>：单次试验，只有两种可能结果（成功&#x2F;失败）<br>例：抛一次硬币</p></li><li><p><strong>二项分布</strong>：重复 $n$ 次独立伯努利试验，统计成功次数<br>例：抛 $n$ 次硬币，看出现正面的次数</p></li><li><p><strong>几何分布</strong>：独立重复试验直到首次成功，记录试验次数<br>例：没有保底的抽卡，出金需要几次(<em>之前做的原神抽卡模拟就是几何分布，但是概率不恒定</em>)</p></li><li><p><strong>泊松分布</strong>：单位时间或空间内，事件发生的次数<br>例：一分钟内收到的电话数量，或连续掷骰子 100 次，6 出现的次数</p></li><li><p><strong>离散均匀分布</strong>：每个可能结果的概率完全相等<br>例：标准六面骰任意一次掷出的点数</p></li></ul><hr><h2 id="抽样-Sampling"><a href="#抽样-Sampling" class="headerlink" title="抽样 Sampling"></a>抽样 Sampling</h2><p>于表格Table而言，抽样的个体就是一行数据<code>row</code></p><hr><h3 id="确定性样本-Deterministic-Samples"><a href="#确定性样本-Deterministic-Samples" class="headerlink" title="确定性样本 Deterministic Samples"></a>确定性样本 Deterministic Samples</h3><p>其实我们之前已经取过确定性样本了，我们使用的<code>Table.take()</code>可以取出给定的行，而<code>Table.where()</code>可以根据一定条件取出所需要的行，这些都是确定性样本，因为它们都不涉及任何概率计算，是基于给定的条件取出的样本。</p><hr><h3 id="概率抽样-Probability-Samples"><a href="#概率抽样-Probability-Samples" class="headerlink" title="概率抽样 Probability Samples"></a>概率抽样 Probability Samples</h3><p>很多时候我们需要从数据集里随机抽取数据以保证数据可靠。</p><ul><li>总体<code>population</code>：抽样的完整数据集</li><li>概率样本<code>Probability Samples</code> ：在抽取该样本前，我们先计算出的元素的任何子集将进入样本的几率，该几率不一定相同，可以有权重影响等。</li></ul><h4 id="随机取样"><a href="#随机取样" class="headerlink" title="随机取样"></a>随机取样</h4><p>其实游戏抽卡就是一种随机取样，每个非空子集都有可以量化的概率，这些概率通常不同，例如</p><ul><li>五星物品 0.60%</li><li>四星 5.10%</li><li>三星 94.30%<br>抽卡的本质是从上述三种可能性中，按照概率进行抽样。也就是说，每次抽卡并不是等概率的选择，而是遵循一个给定的概率分布。</li></ul><hr><h3 id="系统样本-A-Systematic-Sample"><a href="#系统样本-A-Systematic-Sample" class="headerlink" title="系统样本 A Systematic Sample"></a>系统样本 A Systematic Sample</h3><p>假设你有个表格，先从前10行选取随机一行，然后每隔10行选取一次，这样子获得的样本就是系统样本。</p><p>用这种方式选的每一行数据概率都是1&#x2F;10，例如第21行只有在随机选取到第1行的时候才会被选取，概率为1&#x2F;10。 然而该取样方式的子集只有每隔10行的集合(<em>eg. 1,11,21,31</em>)，每个子集有 1&#x2F;10 概率被选中，但是其他子集的概率都为0(<em>eg. 1，2，4，5…</em>)。</p><hr><h3 id="放回或不放回的随机取样-Random-Samples-Drawn-With-or-Without-Replacement"><a href="#放回或不放回的随机取样-Random-Samples-Drawn-With-or-Without-Replacement" class="headerlink" title="放回或不放回的随机取样 Random Samples Drawn With or Without Replacement"></a>放回或不放回的随机取样 Random Samples Drawn With or Without Replacement</h3><p>掷骰子抛硬币都是放回的取样，总体不改变。这也是<code>np.random.choice()</code>的默认行为。</p><p>但是有些时候我们想要不放回的取样，例如发牌。</p><hr><h3 id="方便抽样-Convenience-Samples-我也不知道中文翻译对没"><a href="#方便抽样-Convenience-Samples-我也不知道中文翻译对没" class="headerlink" title="方便抽样 Convenience Samples (我也不知道中文翻译对没)"></a>方便抽样 Convenience Samples <em>(我也不知道中文翻译对没)</em></h3><p>很多时候我们会认为我们进行的是随机抽样，但实际上是Convenience Sample。例如在街上“随机”采访，实际上我们只是选取路过的人采访而已，我们并不知道时间跨度上之后的路人路过的概率，甚至不知道总体包括的人有哪些。</p><hr><h2 id="经验分布-Empirical-Distributions"><a href="#经验分布-Empirical-Distributions" class="headerlink" title="经验分布 Empirical Distributions"></a>经验分布 Empirical Distributions</h2><p>在数据科学里，<code>empirical</code>和<code>observed</code>是同义的，所以说所谓经验分布其实就是被观察到的数据的分布情况</p><hr><h3 id="Table-sample"><a href="#Table-sample" class="headerlink" title="Table.sample()"></a>Table.sample()</h3><p>我们之前介绍过用<code>np.random.choice()</code> 或者<code>np.random.random()</code>来从np array里面获得随机元素，或者随机选取0-1的小数。然而在Table里随机抽样需要我们随机选取行，这时我们就可以使用<code>Table.sample()</code>:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Table.sample(num, with_replacement=)</span><br><span class="line"><span class="comment">#第一个参数时抽样的样本数目</span></span><br><span class="line"><span class="comment">#同时我们可以赋值给with_replacement=来决定是否放回抽样</span></span><br></pre></td></tr></table></figure><hr><h3 id="The-law-of-averages-平均定律"><a href="#The-law-of-averages-平均定律" class="headerlink" title="The law of averages 平均定律"></a>The law of averages 平均定律</h3><p>如果偶然的实验在相同的条件下独立重复，那么从长远来看，事件发生的频率越来越接近事件的理论概率。</p><hr><h3 id="样本的经验直方图"><a href="#样本的经验直方图" class="headerlink" title="样本的经验直方图"></a>样本的经验直方图</h3><p>对于大型随机样本，样本的经验直方图和总体的直方图几乎一模一样。</p><p>这证明了，在统计推断中使用大型随机样本是合理的。由于大型随机样本可能类似于从中抽取的总体，从样本中计算出的数量可能接近于总体中相应的数量。</p><hr><h3 id="统计量-Statistic"><a href="#统计量-Statistic" class="headerlink" title="统计量 Statistic"></a>统计量 Statistic</h3><ul><li>参数 Parameter: 与总体相关的数据   eg： 中位数， 平均值……</li><li>统计量 Statistic： 样本中的数据  eg： 样本的中位数，平均值……</li></ul><p>统计量的值会根据样本而改变，并非恒定。</p><p>模拟统计量的步骤：</p><ul><li>生成一个统计量</li><li>重复生成多个统计量</li><li>可视化结果</li></ul><hr><h2 id="用Python进行随机抽样-Random-Sampling-in-Python"><a href="#用Python进行随机抽样-Random-Sampling-in-Python" class="headerlink" title="用Python进行随机抽样 Random Sampling in Python"></a>用Python进行随机抽样 Random Sampling in Python</h2><ul><li><strong>从Table里随机抽样</strong>：<code>Table.sample(num, with_replacement=)</code></li><li><strong>从array里随机抽样</strong>：<code>np.random.choice(array, num, replace=)</code></li><li><strong>从类别分布中取样</strong></li></ul><h3 id="从类别分布中取样-Sampling-from-a-Categorical-Distribution"><a href="#从类别分布中取样-Sampling-from-a-Categorical-Distribution" class="headerlink" title="从类别分布中取样 Sampling from a Categorical Distribution"></a>从类别分布中取样 Sampling from a Categorical Distribution</h3><p>有时候我们只关心类别的取样而非具体的数字， 例如抽卡时五星，四星，三星的概率分布。</p><p>datascience的<code>sample_proportions</code>支持这种取样方式：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sample_proportions(num, probability array)</span><br><span class="line"><span class="comment">#第一个参数填入样本数目</span></span><br><span class="line"><span class="comment">#第二个参数填入各类别的概率数组</span></span><br><span class="line"><span class="comment">#例如如果要统计原神抽卡概率分布, 取样10000次：</span></span><br><span class="line">sample = sample_proportions(<span class="number">10000</span>, [<span class="number">0.006</span>, <span class="number">0.051</span>, <span class="number">0.943</span>])</span><br><span class="line"><span class="comment">#这会返回一个np array，它的长度和传入的第二个参数相同，代表着每个类别在样本中所占比例</span></span><br></pre></td></tr></table></figure><hr><h2 id="Reference-and-remark"><a href="#Reference-and-remark" class="headerlink" title="Reference and remark"></a>Reference and remark</h2><p><a href="https://inferentialthinking.com/chapters/intro.html#">Data 8 Text book: Inferential Thinking chapter 9-10</a><br>教科书里也介绍了基础统计学知识，这在国内高中和大学高数都有涵盖，同样国外很多学校的基础数学课程，例如Discrete mathematics和Probability theory应该也有深入学习。</p>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程 </tag>
            
            <tag> 中文 </tag>
            
            <tag> Data science(数据科学) </tag>
            
            <tag> Data8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Data 8 学习笔记(二)</title>
      <link href="/2025/06/29/Data8%20%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0(%E4%BA%8C)/"/>
      <url>/2025/06/29/Data8%20%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0(%E4%BA%8C)/</url>
      
        <content type="html"><![CDATA[<h1 id="Data-8-学习笔记-二"><a href="#Data-8-学习笔记-二" class="headerlink" title="Data 8 学习笔记(二)"></a>Data 8 学习笔记(二)</h1><h2 id="对Table的整列使用函数-Apply-function-to-a-column"><a href="#对Table的整列使用函数-Apply-function-to-a-column" class="headerlink" title="对Table的整列使用函数 Apply function to a column"></a>对Table的整列使用函数 Apply function to a column</h2><p>datascience库的Table支持对其中一列进行运算，具体的规则是：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">square = Table.column(<span class="string">&quot;&quot;</span>)**<span class="number">2</span></span><br><span class="line">operation = Table.column(<span class="string">&quot;column1&quot;</span>) + Table.column(<span class="string">&quot;column2&quot;</span>)</span><br></pre></td></tr></table></figure><p>这个本质上是从Table里拿一列并转换成np array，然后由np array来支持运算，np array支持的运算很多样：</p><ul><li>算术运算(* + &#x3D; &#x2F; % ** &#x2F;&#x2F;)</li><li>比较运算(逐元素) &gt; &lt; &gt;&#x3D; &lt;&#x3D; &#x3D;&#x3D;</li><li>np聚合函数<code>np.sum</code>, <code>np.mean</code>, <code>np.max</code>,<code> np.min</code>, <code>np.std</code>, <code>np.count_nonzero</code></li><li>np向量函数运算<code>np.sqrt</code>, <code>np.log</code>, <code>np.exp</code>, <code>np.sin</code>, <code>np.round</code></li><li>数组操作<code>.reshape()</code>,<code>.flatten()</code>, <code>.astype(type)</code>, <code>.copy()</code>, <code>.tolist()</code></li><li>索引切片</li></ul><p>当然，我们会发现这样并没有办法覆盖一些比较复杂的自定义函数运算，所以说datascience提供了一种更优雅的方式：<code>Table.apply()</code></p><blockquote><p><code>Table.apply(function, column_name)</code><br>第一个参数放入函数名，第二个参数放入作为函数参数的列的名称(如果函数需要的参数大于一个，可以把列名称放进一个list里面)：</p><pre><code class="language-python">def custom_func(x, y):return x + ynew_table = table.with_column(&#39;new_col&#39;, table.apply(custom_func, [&#39;col1&#39;, &#39;col2&#39;]))</code></pre><p>custome_func也可以用一个lambda函数来代替。</p></blockquote><hr><h2 id="数据分类和组合-Classifying-by-one-variable"><a href="#数据分类和组合-Classifying-by-one-variable" class="headerlink" title="数据分类和组合 Classifying by one variable"></a>数据分类和组合 Classifying by one variable</h2><h3 id="单数据"><a href="#单数据" class="headerlink" title="单数据"></a>单数据</h3><p>有时候我们需要根据单数据来分类，例如一个班级成绩表里可能有名字，成绩等和小组名称三列，我们希望把优秀成绩的和其他成绩的同学分类组合。<br>datascience里的<code>Table.group()</code>可以支持这一操作。向里面传入需要分类的列名称就可以得到每个类别的频数。</p><blockquote><p><code>Table.group(&quot;成绩等级&quot;)</code>:</p><table><thead><tr><th align="center">成绩等级</th><th align="center">人数</th></tr></thead><tbody><tr><td align="center">优秀</td><td align="center">15</td></tr><tr><td align="center">良</td><td align="center">25</td></tr><tr><td align="center">及格</td><td align="center">10</td></tr></tbody></table></blockquote><p>但是有些时候我们希望对每个类别的数据进行操作，这时候就可以传入第二个参数来表示我们需要进行的操作：</p><blockquote><p><code>Table.group(&quot;成绩等级&quot;, lambda y : y/50)</code>:</p><table><thead><tr><th align="center">成绩等级</th><th align="center">频率</th></tr></thead><tbody><tr><td align="center">优秀</td><td align="center">0.3</td></tr><tr><td align="center">良</td><td align="center">0.5</td></tr><tr><td align="center">及格</td><td align="center">0.2</td></tr><tr><td align="center">传入的参数可以是自定义函数，也可以是lambda函数或者其他内置函数</td><td align="center"></td></tr></tbody></table></blockquote><hr><h3 id="多数据"><a href="#多数据" class="headerlink" title="多数据"></a>多数据</h3><p>有时我们需要把不同列的数据综合作为分组依据，比如把成绩和小组名称作为变量分组，<code>group</code>同样支持多数据组合。</p><blockquote><p><code>Table.group([&quot;成绩等级&quot;, &quot;小组名称&quot;])</code></p><table><thead><tr><th align="center">成绩等级</th><th align="center">小组名称</th><th align="center">人数</th></tr></thead><tbody><tr><td align="center">优秀</td><td align="center">第一组</td><td align="center">5</td></tr><tr><td align="center">优秀</td><td align="center">第二组</td><td align="center">8</td></tr><tr><td align="center">优秀</td><td align="center">第三组</td><td align="center">2</td></tr><tr><td align="center">良</td><td align="center">第一组</td><td align="center">10</td></tr><tr><td align="center">良</td><td align="center">第二组</td><td align="center">9</td></tr><tr><td align="center">良</td><td align="center">第三组</td><td align="center">6</td></tr><tr><td align="center">及格</td><td align="center">第二组</td><td align="center">7</td></tr><tr><td align="center">及格</td><td align="center">第二组</td><td align="center">3</td></tr><tr><td align="center">只需要把分组的列名称放进一个list里作为第一个参数即可。</td><td align="center"></td><td align="center"></td></tr></tbody></table></blockquote><hr><h3 id="数据透视表-Pivot-table"><a href="#数据透视表-Pivot-table" class="headerlink" title="数据透视表 Pivot table"></a>数据透视表 Pivot table</h3><p><code>pivot</code>函数可以帮我们更好地可视化双变量的数据：</p><blockquote><p><code>Table.pivot(&quot;成绩等级&quot;, &quot;小组名称&quot;)</code></p><table><thead><tr><th align="center">成绩等级</th><th align="center">第一组</th><th align="center">第二组</th><th align="center">第三组</th></tr></thead><tbody><tr><td align="center">优秀</td><td align="center">5</td><td align="center">8</td><td align="center">2</td></tr><tr><td align="center">良</td><td align="center">10</td><td align="center">9</td><td align="center">6</td></tr><tr><td align="center">及格</td><td align="center">7</td><td align="center">3</td><td align="center">0</td></tr></tbody></table><p>只需要在前两个参数填入作为变量的两列名称，<code>pivot</code>便会自动统计频数并放入新的Table</p><p>特别的，<code>pivot</code>函数还有两个参数，<code>values</code>和<code>collect</code></p><ul><li><code>values=</code>后面填入需要统计的列名称，默认为null，也就是统计频数</li><li><code>collect=</code>后面填入需要对数据进行的操作，必须是np array支持的操作，例如np.sum, np.mean</li></ul><p>于是我们可以求每个组的各个成绩等级的分数的平均数：</p><p><code>Table.pivot(&quot;成绩等级&quot;, &quot;小组名称&quot;, values=&quot;分数&quot;, collect=np.mean)</code></p><table><thead><tr><th align="center">成绩等级</th><th align="center">第一组</th><th align="center">第二组</th><th align="center">第三组</th></tr></thead><tbody><tr><td align="center">优秀</td><td align="center">91</td><td align="center">85</td><td align="center">88</td></tr><tr><td align="center">良</td><td align="center">75</td><td align="center">77</td><td align="center">72</td></tr><tr><td align="center">及格</td><td align="center">0</td><td align="center">65</td><td align="center">66</td></tr></tbody></table></blockquote><hr><h3 id="把不同的表格合并起来-Joining-tables-by-columns"><a href="#把不同的表格合并起来-Joining-tables-by-columns" class="headerlink" title="把不同的表格合并起来 Joining tables by columns"></a>把不同的表格合并起来 Joining tables by columns</h3><p>有时对于两个表格，我们希望把同时存在于两个表格的数据放到一个表格里，这时候我们可以使用<code>join</code>函数。</p><p>基础语法是<code>table1.join(table1_column_for_joining, table2, table2_column_for_joining)</code>，datascience会自动提取同时存在于两个表格的元素并放到一个新的表格里面。</p><hr><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="https://inferentialthinking.com/chapters/intro.html#">Data 8 Text book: Inferential Thinking chapter 8</a></p>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程 </tag>
            
            <tag> 中文 </tag>
            
            <tag> Data science(数据科学) </tag>
            
            <tag> Data8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Data 8 学习笔记(一)</title>
      <link href="/2025/06/26/Data8%20%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0(%E4%B8%80)/"/>
      <url>/2025/06/26/Data8%20%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0(%E4%B8%80)/</url>
      
        <content type="html"><![CDATA[<h1 id="Data-8-学习笔记-一"><a href="#Data-8-学习笔记-一" class="headerlink" title="Data 8 学习笔记(一)"></a>Data 8 学习笔记(一)</h1><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>DATA 8 是加州大学伯克利分校的数据科学基础课程，使用的编程语言为python。<br>课程资源:  </p><ul><li><a href="https://www.data8.org/">课程官网</a>  <blockquote><p>包含了课程视频，课上ppt，但是作业需要UCB的账号。<br>视频在Youtube可以找到，目前最新的是2022Spring(最新的人家不可能让你免费看嘛)</p></blockquote></li><li><a href="https://github.com/data-8">Github 课程作业</a>  <blockquote><p>包含课堂同步Jupiter notebook还有lab, hw, project以及最重量级的textbook。最新的是2025Spring(太良心了)。</p></blockquote></li></ul><p>具体的配置很简单，主要是使用numpy， panda, matplotlib, 还有UCB自己的datascience这几个python库。  </p><hr><h2 id="datascience-library"><a href="#datascience-library" class="headerlink" title="datascience library"></a>datascience library</h2><p>安装(在terminal, cmd):</p><blockquote><p>npm install datascience</p></blockquote><p>这个库属于UCB为了初学者专门创建的preliminary tool，它主要操作的数据类型是库里定义的Table。就如同它的名字一样，Table就是个表格，每一列都是一个np array(大概就是访问速度更快储存空间更小的array)，datascience库为它提供了包括可视化在内的基础操作。 </p><p>别忘了import：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> datascience <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> panda <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure><hr><h2 id="对Table的基础操作"><a href="#对Table的基础操作" class="headerlink" title="对Table的基础操作"></a>对Table的基础操作</h2><p><em>Tip: 课程有一部分时间教了python的基本语法，函数，传参还有使用函数等等，这里不做介绍了。对于不熟悉的函数可以参考 <a href="https://www.data8.org/datascience/index.html">datascience 官方文档 </a>, 或者使用<code>help(function)</code></em></p><hr><h3 id="make-array"><a href="#make-array" class="headerlink" title="make_array()"></a>make_array()</h3><p>datasicence.util.make_array(), 把传入的每个数据合并到一个np array里面，传入的数据类型必须相同。返回一个np array。<br>对于np array可以使用numpy库的各种函数，比较常用的有：</p><ul><li><code>np.sort()</code> 排序</li><li><code>np.diff()</code> 取相邻元素求差值</li><li><code>np.sum()</code> 求和</li><li><code>np.prod()</code> 求乘积</li><li><code>np.round( ,digit)</code> 取digit位数，默认取整数</li></ul><p>用<code>np.arrange(start, end, step)</code>, <code>np.linspace(start, end, num)</code> 和 <code>np.array(list,tuple,etc)</code>也能创造np array。</p><p>需要选取一个np array里的数据可以使用<code>.item(index)</code>，index遵循python列表的索引规则(正序从0开始，倒序从-1开始)。</p><hr><h3 id="Table"><a href="#Table" class="headerlink" title="Table()"></a>Table()</h3><p>使用<code>Table()  </code>函数会创造一个新的空Table数据，其中不含有任何行或列元素。<br>该函数通常搭配<code>.with_columns()</code>函数使用。</p><blockquote><p><code>Table.with_columns(column_name:str, column_data: np_array)</code><br>该函数传入一个字符串作为列名称，以及一个np array作为列数据<br>eg:  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = Table().with_columns(<span class="string">&quot;name&quot;</span>, np.array((<span class="string">&quot;Penny&quot;</span>, <span class="string">&quot;Brian&quot;</span>)))</span><br><span class="line">a.show()</span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">name</th></tr></thead><tbody><tr><td align="center">Penny</td></tr><tr><td align="center">Brian</td></tr></tbody></table></blockquote><ul><li>使用 <code>Table.drop(column_name:str, ...)</code> 可以从Table里删除列(传入的列名称不存在的话报错)  </li><li>使用<code>Table.num_rows</code> 和 <code>Table.num_columns</code>可以获取Table里的行和列的数量。  </li><li>使用 <code>Table.labels</code> 获取Table里所以的列的名称, 使用<code>Table.relabeled(old_label, new_label)</code>可以更换列名称。</li><li>使用<code>Table.column(column_label)</code>会返回带有这个列名称的列，返回类型是np array。</li><li>使用<code>Table.select()</code>可以返回多个目标列组成的Table， 该函数可以传入索引也可以传入列名称。</li></ul><hr><h3 id="Table-sort"><a href="#Table-sort" class="headerlink" title="Table.sort()"></a>Table.sort()</h3><p>datascience也支持根据某一列来排序Table。  </p><blockquote><p><code>Table.sort()</code>传入列名称，datascience库会根据该列的数据进行排序，并返回一个新列表。  </p><p> <em>Tip: <code>Table.sort(str, descending = False)</code>默认升序排列，如果想要降序排列可以把descending属性改成True。</em></p></blockquote><hr><h3 id="Table-take"><a href="#Table-take" class="headerlink" title="Table.take()"></a>Table.take()</h3><p>之前说的<code>.select()</code> 还有 <code>.column()</code>函数都是选取列的，datascience也是支持选取特殊行的。</p><blockquote><p><code>Table.take(index,...)</code> 可以选取表格的index行并返回新的Table, index可以是collection，例如:  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Table.take(np.arange(<span class="number">0</span>,<span class="number">10</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure><p>这样就会选取Table里从第一行到第10行，每隔一行的目标行，也就是会返回第1，3，5，7，9行组成的新Table。</p></blockquote><p>虽然这样根据行数选取行很有用，但是在有规律地选取行的时候限制很大。</p><hr><h3 id="Table-where"><a href="#Table-where" class="headerlink" title="Table.where()"></a>Table.where()</h3><p>用<code>where</code>函数我们可以有条件地筛选需要的行。</p><blockquote><p><code>Table.where(column_name: str, condition)</code><br>我们传入需要筛选的列数据地列名称，以及<em>条件</em>。</p><blockquote><p>对于条件参数，datascience也创造了新的类，<code>are</code>。通过<code>are.below()</code>,<code>are.between()</code>等函数，我们可以筛选符合一定数学条件地数据。<br>但是我个人推荐使用python内置地匿名函数<code>lambda</code>。例如<code>are.below()</code>就可以使用<code>lambda y : y &lt; x</code>来代替。</p></blockquote></blockquote><hr><p>通过上述的操作，我们可以把数据汇总到我们需要的Table里面。为了获取需要的Table，我们很可能要对数据进行很多步的操作，在此过程中必须格外注意<strong>哪些函数是直接修改原表格的，而哪些是会返回新的表格的</strong>，否则很有可能导致我们的操作不被保存在具体变量里。<br>想要熟悉这些操作的话可以试一下DATA 8 课程配套的project。</p><hr><h2 id="可视化"><a href="#可视化" class="headerlink" title="可视化"></a>可视化</h2><p>面对汇总成Table的大量数据，为了方便我们分析，我们往往需要把数据转变成可视化的图。datascience和matplotlib都有能够将数据可视化的强大能力。</p><hr><h3 id="散点图-Scatter-plots"><a href="#散点图-Scatter-plots" class="headerlink" title="散点图 Scatter plots"></a>散点图 Scatter plots</h3><p>datascience库提供了极其简单的创造散点图的方法——<code>Table.scatter()</code>.</p><blockquote><p>给定一个已经汇总好的Table,我们可以往scatter函数里传入我们想要放入散点图的x,y轴的列名称,例如:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Table.scatter(x_column_name: <span class="built_in">str</span>, y_column_new: <span class="built_in">str</span>)</span><br></pre></td></tr></table></figure><p><em>Tip: 如果我们使用matplotlib来画散点图的话可能会更复杂点:</em>  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.scatter(table.column(), table.column(), label=<span class="string">&quot;Points&quot;</span>)</span><br><span class="line"><span class="comment">#重要的是传入两个np array作为x,y轴</span></span><br><span class="line">plt.title(<span class="string">&quot;&quot;</span>) <span class="comment">#图的标题</span></span><br><span class="line">plt.xlabel(<span class="string">&quot;&quot;</span>) <span class="comment">#x轴的标签</span></span><br><span class="line">plt.ylabel(<span class="string">&quot;&quot;</span>) <span class="comment">#y轴的标签</span></span><br></pre></td></tr></table></figure></blockquote><hr><h3 id="折线图-Line-plots"><a href="#折线图-Line-plots" class="headerlink" title="折线图 Line plots"></a>折线图 Line plots</h3><p>折线图和散点图的语法完全一样,但是是使用<code>Table.plot()</code>函数。</p><blockquote><p>传入x,y轴的列数据列名称即可。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Table.plot(x_column_name: <span class="built_in">str</span>, y_column_new: <span class="built_in">str</span>)</span><br></pre></td></tr></table></figure><p>如果使用matplotlib的话也很简单:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, y, label=<span class="string">&quot;Line&quot;</span>)</span><br></pre></td></tr></table></figure></blockquote><hr><h3 id="条形图-Bar-chart"><a href="#条形图-Bar-chart" class="headerlink" title="条形图 Bar chart"></a>条形图 Bar chart</h3><p>datascience支持画横向纵向的条形图:</p><blockquote><p>使用<code>Table.bar(category, value)</code>画纵向的条形图,其中第一个参数是分组,第二个是数值(也就是说每个数据的高是第二个参数, 而每个数据的分组(x轴)是第一个参数)。</p><p>使用<code>Table.barh()</code>画横向的条形图,参数顺序一致,不过每个数据的名称显示在y轴而已。</p><p><em>Tip: 使用matplotlib画条形图的语法完全相同，但是函数的对象不再是Table而是plt <code>plt.bar()</code>, <code>plt.barh()</code></em></p></blockquote><hr><h3 id="直方图-Histogram"><a href="#直方图-Histogram" class="headerlink" title="直方图 Histogram"></a>直方图 Histogram</h3><p>在画直方图之前我们必须先了解<code>binning</code>(分箱)。  </p><blockquote><p><code>bins</code> 箱：指连续的区间 [a,b) 分箱时他们不一定是相等的区间。</p></blockquote><p>直方图展示的是数据的分布而非数据的值:</p><blockquote><p><code>area</code> 每个箱的高和箱的长度相乘可得这个箱的面积, 每个箱的面积的和为1。<br><code>height</code> 每个箱的高为: $$高(密度) &#x3D; 频率&#x2F;宽度 &#x3D; (频数&#x2F;总数)&#x2F;宽度$$</p></blockquote><p>那怎么画直方图捏:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#当你分箱完毕后记得把bins放到一个nparray里面，然后调用Table.hist()</span></span><br><span class="line">bins=np.arange(<span class="number">10</span>,<span class="number">50</span>,<span class="number">10</span>)</span><br><span class="line">a = Table().with_columns(<span class="string">&quot;count&quot;</span>, np.array((<span class="number">10</span>,<span class="number">20</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>)))</span><br><span class="line">a.hist(<span class="string">&quot;count&quot;</span>, bins=bins)</span><br><span class="line"></span><br><span class="line"><span class="comment">#也可以使用.bin()来查看每个bin里面的频数</span></span><br><span class="line">a_counts = a.<span class="built_in">bin</span>(<span class="string">&quot;count&quot;</span>, bins=bins)</span><br></pre></td></tr></table></figure><p><em>bin_counts: 假设column是(10,20,20,30,30,40), bins是np.array((10,20,30,40)), 那么对该列使用.bins()的结果是：</em></p><table><thead><tr><th align="center">bin</th><th align="center">count</th></tr></thead><tbody><tr><td align="center">10</td><td align="center">1</td></tr><tr><td align="center">20</td><td align="center">2</td></tr><tr><td align="center">30</td><td align="center">2</td></tr><tr><td align="center">40</td><td align="center">1</td></tr></tbody></table><hr><h3 id="重叠图-Overlaid-graphs"><a href="#重叠图-Overlaid-graphs" class="headerlink" title="重叠图 Overlaid graphs"></a>重叠图 Overlaid graphs</h3><p>有时候我们需要把坐标和尺度相同的数据集放在同一个图表里，datascience库也能很轻松地完成这个任务。  </p><p>对于比较常用的散点图<code>scatter()</code>，条形图<code>bar</code>,<code>barh</code>,和折线图<code>plot</code>，调用方法都一样，结构类似于：<br><code>Table.method(column_label_of_common_axis, array_of_labels_of_variables_to_plot)</code></p><p>不过最常用的办法是用<code>select</code>函数从Table里先筛选出需要画图的列，然后在第一个参数里放入坐标列的名称即可，datascience库会自动把剩余列元素一同放在图里。</p><hr><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="https://inferentialthinking.com/chapters/intro.html#">Data 8 Text book: Inferential Thinking chapter 1-7</a></p>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程 </tag>
            
            <tag> 中文 </tag>
            
            <tag> Data science(数据科学) </tag>
            
            <tag> Data8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown Fundamentals</title>
      <link href="/2025/06/25/MDlearning/"/>
      <url>/2025/06/25/MDlearning/</url>
      
        <content type="html"><![CDATA[<h1 id="Learn-Markdown"><a href="#Learn-Markdown" class="headerlink" title="Learn Markdown"></a>Learn Markdown</h1><blockquote><p><em>Markdown is a lightweight markup language for creating formatted text using a plain-text editor.</em><br><em><div align="right">Wikipedia</div></em></p></blockquote><p>I have always wondered why in Github some repos have beautifully documented readme section. Therefore, I decided to learn to create .md files for my readmes and posts.</p><p>Markdown is widely used in various occasions, including Github readme.md, almost any post you see online and post in university forums, like ed.</p><hr><h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><p>We must <a href="My-First-Post.md">My-First-Post.md</a>note that md supports raw HTML, so we can use any standard HTML labels and even inline <code>style</code> attribute in .md files. This really comes in handy if you already learned HTML.</p><h2 id="Headings"><a href="#Headings" class="headerlink" title="Headings"></a>Headings</h2><p>Markdown resembles HTML in many ways. First one being the expression of titles and headings.  </p><p>In HTML we have:</p><figure class="highlight xhtml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>This is an h1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>This is an h2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>This is an h3<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>This is an h4<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h5</span>&gt;</span>This is an h5<span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h6</span>&gt;</span>This is an h6<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br></pre></td></tr></table></figure><p>showing six heading levels. In md we also have the same structure:</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># Title (h1)</span></span><br><span class="line"><span class="section">## Section (h2)</span></span><br><span class="line"><span class="section">### Subsection (h3)</span></span><br><span class="line"><span class="section">#### Details (h4)</span></span><br><span class="line"><span class="section">##### Small Heading (h5)</span></span><br><span class="line"><span class="section">###### Tiny Heading (h6)</span></span><br></pre></td></tr></table></figure><p>In addition, we can create horizontal lines with:</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">*</span> * *</span><br><span class="line">_ _ _</span><br><span class="line"><span class="bullet">-</span> - -</span><br></pre></td></tr></table></figure><hr><h2 id="Lists"><a href="#Lists" class="headerlink" title="Lists"></a>Lists</h2><p>Lists are often used in frontend developments, as in HTML.  </p><p>In md we create lists(ordered and unordered) with “*, -, +” and numbers.</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">*</span> List 1 (remember the indentation)</span><br><span class="line"><span class="bullet">+</span> List 2</span><br><span class="line"><span class="bullet">-</span> List 3</span><br><span class="line"><span class="bullet">1.</span> List 4 Item 1</span><br><span class="line"><span class="bullet">2.</span> List 4 Item 2</span><br></pre></td></tr></table></figure><p>And it also supports tick boxes with “[x]” (suprisingly the x means tick, lol):</p><ol><li><input checked="" disabled="" type="checkbox"> learned headings</li><li><input disabled="" type="checkbox"> learned lists?</li></ol><hr><h2 id="Break-line"><a href="#Break-line" class="headerlink" title="Break line"></a>Break line</h2><p>In HTML breaking a line simply needs a <code>&lt;br&gt;</code> label. But in md, it is a bit different.  </p><p>Breaking a line in md typically need two <code>enter</code> or two <code>space</code>.<br>Observe:</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">First line</span><br><span class="line"></span><br><span class="line">Second line</span><br></pre></td></tr></table></figure><p>or</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">First line  (two spaces)</span><br><span class="line">Second line</span><br></pre></td></tr></table></figure><p>Both will be recognised as two separate lines. </p><p>Instead, using one <code>enter</code> will be interpreted as one space.  </p><p>However, this is not always the case. As in lists, two <code>enter</code> will cause the second line to appear outside of the list item while two <code>space</code> will enable the second line to be inside the list item.</p><blockquote><ol><li>Break inside the</li></ol><pre><code>list item.</code></pre><ol start="2"><li>Break outside of the</li></ol><p>list item</p></blockquote><hr><h2 id="Code-blocks"><a href="#Code-blocks" class="headerlink" title="Code blocks"></a>Code blocks</h2><p>Code blocks can be created by including the codes in side three ` . </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello World&quot;</span>);</span><br></pre></td></tr></table></figure><p>And inline code blocks uses one ` Instead. Like <code>print(&quot;Hello world&quot;)</code> .</p><p>Another important thing is that we uses <code>\</code> to prevent the character from acting upon its original purpose. Just like the ` above.</p><hr><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>Md enables reference using <code>&gt;</code>. It follows the same line breaking logic as in lists.  </p><p>In addition, we can treat the reference block as individual and put new reference or lists in it. The effect looks like:</p><blockquote><p>Reference</p><ol><li>Reference list</li><li>Reference list<blockquote><p>Inner reference</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Inner code block. Just like a Russian matryoshaka doll!&quot;</span>)</span><br></pre></td></tr></table></figure></blockquote></li></ol></blockquote><hr><h2 id="Links-and-Images"><a href="#Links-and-Images" class="headerlink" title="Links and Images"></a>Links and Images</h2><p>In HTML when we need to show links we use something like:</p><p><code>&lt;a href=&quot;https://home.student.monash&quot;&gt;monash student portal&lt;/a&gt;</code><br><a href="https://home.student.monash">monash student portal</a></p><p>In md we can achieve the same objective using <code>[]</code> and <code>()</code>, where <code>[]</code> is used for link text and <code>()</code> is used for link address(url). </p><p>Observe:</p><p><code>[monash student portal](https://home.student.monash)</code>  </p><p>or  </p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">monash student portal</span>][<span class="symbol">a</span>]</span><br><span class="line">[<span class="symbol">a</span>]: <span class="link">https://home.student.monash</span></span><br></pre></td></tr></table></figure><p><a href="https://home.student.monash/">monash student portal</a></p><p>Same format applies to images. We only have to remember to put a <code>!</code> in front of everything.  </p><p>Observe:  </p><p><code>![starry night](https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Van_Gogh_-_Starry_Night_-_Google_Art_Project.jpg/960px-Van_Gogh_-_Starry_Night_-_Google_Art_Project.jpg)</code>  </p><p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Van_Gogh_-_Starry_Night_-_Google_Art_Project.jpg/960px-Van_Gogh_-_Starry_Night_-_Google_Art_Project.jpg" alt="starry night"></p><p>However, you cannot change the image’s size or other styles with md syntax, so I recommend using HTML for this part.  </p><p>Bonus: we can make the starry night image smaller in html.</p><div align="center"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Van_Gogh_-_Starry_Night_-_Google_Art_Project.jpg/960px-Van_Gogh_-_Starry_Night_-_Google_Art_Project.jpg" alt="Starry Night" style="max-width:50%;"></div><hr><h2 id="Tables"><a href="#Tables" class="headerlink" title="Tables"></a>Tables</h2><p>In HTML we have <code>&lt;Table&gt;</code> label to create tables, and <code>&lt;tr&gt;</code> for each row, <code>&lt;th&gt;</code> for the header, and <code>&lt;td&gt;</code> for the data in the cell. </p><p>In md however, things are more intuitive with tables. We just draw the table with <code>|</code>.</p><p>For each row, we use <code>|</code> to separate each cell and type in the content between them:</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">| header 1 | header 2 | header 3 |</span><br><span class="line">|-|-|-|</span><br><span class="line">| cell 1 | cell 2 | cell 3 |</span><br></pre></td></tr></table></figure><table><thead><tr><th>header 1</th><th>header 2</th><th>header 3</th></tr></thead><tbody><tr><td>cell 1</td><td>cell 2</td><td>cell 3</td></tr></tbody></table><p>But remember to put a row of <code>-</code> below the header, the interpreter uses this row to identify the table item. (the number of <code>-</code> doesn’t matter.)</p><p>On the other hand you can set the alignment of each cell with <code>:</code> in the special row. </p><ul><li><code>|:--|</code>: left align</li><li><code>|--:|</code>: right align</li><li><code>|:--:|</code>: center align</li></ul><p>The table items also support embedding other components like code blocks, lists, etc.</p><hr><h2 id="Customization-with-HTML"><a href="#Customization-with-HTML" class="headerlink" title="Customization with HTML"></a>Customization with HTML</h2><p>As we briefly mentioned before, .md file supports raw HTML syntax, which makes it very adaptable to <i style="color: cyan">customization</i>.</p><p>For example, using <code>&lt;u&gt;&lt;/u&gt;</code> tags to show <u>underscore</u>, using <code>&lt;i&gt;&lt;/i&gt;</code> to show <i>italic</i>, using <code>&lt;span style=&quot;&quot;&gt;&lt;/span&gt;</code> to customize <span style="font-family: Courier New">font</span>, etc.</p><p>You can even embed videos from Youtube or Bilibili with iframe label:</p><iframe width="560" height="315" src="https://www.youtube.com/embed/dQw4w9WgXcQ?si=ckhgLwuzBRViAOgd" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe><p>In md, we also support adding </p><ul><li><strong>bold font</strong> with <code>**bold**</code> or <code>__bold__</code>. </li><li><em>italic</em> with<code>*italic*</code> or <code>_italic_</code>.</li><li><del>strike-through</del> with <code>~~strike-through~~</code>.</li></ul><hr><h2 id="Formulas-and-symbols"><a href="#Formulas-and-symbols" class="headerlink" title="Formulas and symbols"></a>Formulas and symbols</h2><p>For those who desire using md for academic writing (I sincerely hope not), typing formulas and symbols are a very tricky part.<br>Thankfully, md supports math symbols for complex formulas, you only have to include them in <code>$$</code>(in blocks) or <code>$</code>(inline).</p><p>Obersve:<br>$$<br>E &#x3D; mc^2<br>$$<br>and $E &#x3D; mc^2$</p><p>Markdown and latex uses the same system for mathematical expressions, they can be found in </p><blockquote><p>English version: <a href="https://rpruim.github.io/s341/S19/from-class/MathinRmd.html">https://rpruim.github.io/s341/S19/from-class/MathinRmd.html</a><br>Chinese version: <a href="https://zhuanlan.zhihu.com/p/450465546">https://zhuanlan.zhihu.com/p/450465546</a><br><em><span style="color: cyan">Tips:</span> your interpreter should enable <a href="https://www.mathjax.org/">mathjax</a> to show formulas.</em></p></blockquote><p>Personally, if the expression is too complicated, I would rather embed images of the formula using <code>&lt;img&gt;</code> label.</p><hr><h2 id="Emoji-and-Icon"><a href="#Emoji-and-Icon" class="headerlink" title="Emoji and Icon"></a>Emoji and Icon</h2><p>Markdown supports emojis and icons. There are ways to insert them in .md files to make the document more interactive:  </p><ul><li><strong>✍️Copy and paste the desired icons.</strong><br>You can find almost all emojis in <a href="https://www.emojiall.com/">emojiall</a>, just copy and paste them to your files.  </li><li><strong>✍🏻Using Github style Emoji shortcodes.</strong><br>You can find the shortcodes in <a href="https://gist.github.com/rxaviers/7360908">this page</a>.</li><li><strong>✍🏾Using Unicode of emojis.</strong><br>You can find the unicode on <a href="https://www.unicode.org/emoji/charts/full-emoji-list.html">unicode official website</a>.</li></ul><hr>]]></content>
      
      
      <categories>
          
          <category> 技术博客(tech blog) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 编程 </tag>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>My First Blog~</title>
      <link href="/2025/06/16/My-First-Post/"/>
      <url>/2025/06/16/My-First-Post/</url>
      
        <content type="html"><![CDATA[<h1 id="我的第一个博客"><a href="#我的第一个博客" class="headerlink" title="我的第一个博客~"></a>我的第一个博客~</h1><h2 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Hello World&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;Hello World&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Hello World&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello, World!&quot;</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 杂谈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
